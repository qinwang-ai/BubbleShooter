NATIVE=false;CACHE={"resource_source_map.json":"{\"resources/sounds/music/main_music.mp3\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/sounds/music/main_music.mp3\",\"resources/sounds/music/bg_music.mp3\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/sounds/music/bg_music.mp3\",\"resources/sounds/effect/win.mp3\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/sounds/effect/win.mp3\",\"resources/sounds/effect/start_ready.mp3\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/sounds/effect/start_ready.mp3\",\"resources/sounds/effect/start_go.mp3\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/sounds/effect/start_go.mp3\",\"resources/sounds/effect/perfect.mp3\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/sounds/effect/perfect.mp3\",\"resources/sounds/effect/nice.mp3\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/sounds/effect/nice.mp3\",\"resources/sounds/effect/lose.mp3\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/sounds/effect/lose.mp3\",\"resources/sounds/effect/lightning.mp3\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/sounds/effect/lightning.mp3\",\"resources/sounds/effect/great.mp3\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/sounds/effect/great.mp3\",\"resources/sounds/effect/coin_in.mp3\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/sounds/effect/coin_in.mp3\",\"resources/sounds/effect/bubble_xiaochu.mp3\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/sounds/effect/bubble_xiaochu.mp3\",\"resources/sounds/effect/attack.mp3\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/sounds/effect/attack.mp3\",\"resources/images/yellow_particle.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/yellow_particle.png\",\"resources/images/yellow.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/yellow.png\",\"resources/images/start.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/start.png\",\"resources/images/spark.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/spark.png\",\"resources/images/red_particle.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/red_particle.png\",\"resources/images/red.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/red.png\",\"resources/images/purple_particle.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/purple_particle.png\",\"resources/images/purple.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/purple.png\",\"resources/images/perfect.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/perfect.png\",\"resources/images/nice.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/nice.png\",\"resources/images/menu.jpg\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/menu.jpg\",\"resources/images/lightning.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/lightning.png\",\"resources/images/key.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/key.png\",\"resources/images/gun_base.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/gun_base.png\",\"resources/images/gun.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/gun.png\",\"resources/images/green_particle.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/green_particle.png\",\"resources/images/green.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/green.png\",\"resources/images/great.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/great.png\",\"resources/images/girl.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/girl.png\",\"resources/images/colorful.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/colorful.png\",\"resources/images/bomb.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/bomb.png\",\"resources/images/board.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/board.png\",\"resources/images/blue_particle.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/blue_particle.png\",\"resources/images/blue.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/blue.png\",\"resources/images/big_key.png\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/big_key.png\",\"resources/images/background_4.jpg\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/background_4.jpg\",\"resources/images/background_1.jpg\":\"/Users/tsunami/projects/devkitPoj/BubbleShooter/resources/images/background_1.jpg\"}","spritesheets/map.json":"{\"spritesheets/resources-images1.png\":[{\"f\":\"resources/images/background_1.jpg\",\"x\":0,\"y\":0,\"w\":540,\"h\":960},{\"f\":\"resources/images/board.png\",\"x\":544,\"y\":0,\"w\":215,\"h\":299,\"t\":1,\"r\":1},{\"f\":\"resources/images/big_key.png\",\"x\":764,\"y\":0,\"w\":190,\"h\":199,\"r\":1},{\"f\":\"resources/images/key.png\",\"x\":958,\"y\":0,\"w\":57,\"h\":57},{\"f\":\"resources/images/purple.png\",\"x\":958,\"y\":62,\"w\":55,\"h\":55},{\"f\":\"resources/images/green.png\",\"x\":958,\"y\":122,\"w\":55,\"h\":55},{\"f\":\"resources/images/blue.png\",\"x\":958,\"y\":182,\"w\":55,\"h\":55},{\"f\":\"resources/images/start.png\",\"x\":764,\"y\":204,\"w\":187,\"h\":191,\"t\":2,\"l\":1,\"r\":1},{\"f\":\"resources/images/red.png\",\"x\":956,\"y\":242,\"w\":55,\"h\":55},{\"f\":\"resources/images/yellow.png\",\"x\":956,\"y\":302,\"w\":55,\"h\":55},{\"f\":\"resources/images/girl.png\",\"x\":544,\"y\":304,\"w\":103,\"h\":218,\"t\":1,\"b\":10,\"r\":9},{\"f\":\"resources/images/gun.png\",\"x\":652,\"y\":304,\"w\":108,\"h\":94,\"t\":2,\"l\":2,\"b\":2,\"r\":2},{\"f\":\"resources/images/colorful.png\",\"x\":956,\"y\":362,\"w\":55,\"h\":55},{\"f\":\"resources/images/red_particle.png\",\"x\":764,\"y\":400,\"w\":135,\"h\":128,\"t\":2,\"b\":1},{\"f\":\"resources/images/bomb.png\",\"x\":652,\"y\":402,\"w\":90,\"h\":87,\"b\":2},{\"f\":\"resources/images/spark.png\",\"x\":904,\"y\":422,\"w\":83,\"h\":79,\"r\":3},{\"f\":\"resources/images/gun_base.png\",\"x\":652,\"y\":494,\"w\":104,\"h\":59,\"t\":3,\"l\":1,\"r\":2},{\"f\":\"resources/images/lightning.png\",\"x\":760,\"y\":532,\"w\":128,\"h\":134,\"l\":3,\"r\":4},{\"f\":\"resources/images/blue_particle.png\",\"x\":892,\"y\":532,\"w\":128,\"h\":127,\"l\":2,\"r\":2},{\"f\":\"resources/images/yellow_particle.png\",\"x\":544,\"y\":558,\"w\":125,\"h\":128,\"t\":1,\"r\":1},{\"f\":\"resources/images/purple_particle.png\",\"x\":892,\"y\":664,\"w\":128,\"h\":122,\"l\":1},{\"f\":\"resources/images/green_particle.png\",\"x\":674,\"y\":670,\"w\":126,\"h\":120},{\"f\":\"resources/images/great.png\",\"x\":804,\"y\":790,\"w\":194,\"h\":55,\"t\":3,\"r\":4},{\"f\":\"resources/images/nice.png\",\"x\":544,\"y\":794,\"w\":137,\"h\":55,\"t\":1,\"b\":1,\"r\":1},{\"f\":\"resources/images/perfect.png\",\"x\":686,\"y\":850,\"w\":263,\"h\":58,\"b\":1}],\"spritesheets/resources-images2.png\":[{\"f\":\"resources/images/background_4.jpg\",\"x\":0,\"y\":0,\"w\":540,\"h\":960}],\"spritesheets/resources-images3.png\":[{\"f\":\"resources/images/menu.jpg\",\"x\":0,\"y\":0,\"w\":540,\"h\":960}]}","resources/sound-map.json":"{\"resources/sounds/music/main_music.mp3\":true,\"resources/sounds/music/bg_music.mp3\":true,\"resources/sounds/effect/win.mp3\":true,\"resources/sounds/effect/start_ready.mp3\":true,\"resources/sounds/effect/start_go.mp3\":true,\"resources/sounds/effect/perfect.mp3\":true,\"resources/sounds/effect/nice.mp3\":true,\"resources/sounds/effect/lose.mp3\":true,\"resources/sounds/effect/lightning.mp3\":true,\"resources/sounds/effect/great.mp3\":true,\"resources/sounds/effect/coin_in.mp3\":true,\"resources/sounds/effect/bubble_xiaochu.mp3\":true,\"resources/sounds/effect/attack.mp3\":true}"};
jsio=function init(m){function s(t){return t+=".js",e.__modules[t]||new v(t)}function v(t){this.friendlyPath=this.path=t,j.splitPath(t,this),this.directory=j.resolve(h.getCwd(),this.directory)}function M(){var e=module.constructor,i=module.parent,s=j.bind(i,i&&i.require||require),n=s("fs"),o=s("path"),r=s("vm");this.requireCache=require.cache,this.main=require.main,this.name="node",this.global=global,this.isWindowsNode="win32"===process.platform;var a=process.cwd();this.setCwd=function(t){a=o.resolve(a,t)},this.getCwd=function(){return a},this.pathSep=o.sep,this.log=function(){var t;try{t=Array.prototype.map.call(arguments,function(t){return t instanceof Error&&t.message?"Error:"+t.message+"\nStack:"+t.stack+"\nArguments:"+t.arguments:"string"==typeof t?t:JSON.stringify(t)}).join(" ")+"\n"}catch(e){t=Array.prototype.join.call(arguments," ")+"\n"}return process.stderr.write(t),t},this.getPath=function(){return __dirname},this.eval=function(t,e){return r.runInThisContext(t,e,!0)},this.fetch=function(t){var e,i,s,t=j.resolve(this.getCwd(),t);try{var r=o.dirname(t);e=o.basename(t),i=e.toLowerCase(),s=n.readdirSync(r)}catch(t){return!1}for(var a,r=0;a=s[r];++r)if(a.toLowerCase()==i&&a!=e)throw"Invalid case when importing ["+t+"].  You probably meant"+a;try{return n.readFileSync(t,"utf8")}catch(t){return!1}};var A=/\((?!module.js)(?:file:\/\/)?(.*?)(:\d+)(:\d+)\)/g;this.loadModule=function(i,n,r,a,l){if(r==E&&!l.initialImport){var h,u=Error().stack;A.lastIndex=0;do h=A.exec(u);while(h&&/jsio\.js$/.test(h[1]));h&&(n=o.dirname(h[1]),r=o.basename(h[1]))}try{return i(null,n,r,a,l)}catch(A){if(A.code!=t)throw A;n=o.join(n,r),i=this.requireCache[n],i||(i=new e(n),i.filename=n,i.paths=e._nodeModulePaths(o.dirname(n))),n=a.original||a.from;try{return{exports:i?i.require(n):s(n),path:a.from}}catch(e){if(e.code==t)throw A;throw e}}}}function B(){var a=window.XMLHttpRequest||function(){return new ActiveXObject("Msxml2.XMLHTTP")},b=null,c=null,d=Array.prototype.join;this.name="browser",this.global=window,this.pathSep="/",this.global.jsio||(this.global.jsio=e),this.log=window.console&&console.log?!console.log.apply||/Android|iPhone|iPad|iPod/.test(navigator.userAgent)?function(){var t=d.call(arguments," ");return console.log(t),t}:function(){return console.log.apply(console,arguments),d.call(arguments," ")}:function(){return d.call(arguments," ")},this.getCwd=function(){if(!b){var t=window.location,e=t.pathname;b=t.protocol+"//"+t.host+e.substring(0,e.lastIndexOf("/")+1)}return b},this.getPath=function(){if(!c){try{for(var t,i=RegExp("(.*?)"+e.__filename+"(\\?.*)?$"),s=document.getElementsByTagName("script"),n=0;t=s[n];++n){var o=t.src.match(i);if(o){c=o[1],/^[A-Za-z]*:\/\//.test(c)&&(c=j.relative(this.getCwd(),c));break}}}catch(t){}c||(c=".")}return c};var f=location.protocol+"//"+location.host+"/",g=location.pathname;this.debugPath=function(t){return j.buildPath(f,"/"!=t[0]&&g,t)};var i="undefined"==typeof eval("(function(){})")?function(t){return new Function("return "+t)()}:function(t,e){return window.eval(t+"\n//# sourceURL="+e)};this.eval=function(t,e,s){try{return i(t,this.debugPath(e))}catch(t){throw t instanceof SyntaxError&&N&&this.checkSyntax&&this.checkSyntax(s,e),t}},this.checkSyntax=function(t,i){try{e("import jsio.util.syntax",{suppressErrors:!0,dontExport:!0})(t,i)}catch(t){}},this.fetch=function(t){var e=new a;try{e.open("GET",t,!1),e.send(null)}catch(t){return h.log("e:",t),!1}return 404!=e.status&&e.status!=-1100&&e.responseText}}function F(){return y.map(function(t,e){var i=0==e?Error().stack:y[e-1].stack,s=i.indexOf(t.path);return 0<=s&&(t.line=":"+parseInt(i.substring(s+t.path.length+1))),e+1+': "'+t.friendlyPath+'" '+t.path+(t.line||"")})}function G(i,s,n,o,r){for(var i=o.from,n=j.resolveModulePath(i,s),a=0;n[a];++a){var A=n[a].path;if(!r.reload&&A in e.__modules)return n[a];A in H&&n.splice(a--,1)}if(!n.length){if(r.suppressErrors)return!1;throw s=Error("Could not import `"+o.from+"`\tImport Stack:\n\t\t"+F().join("\n\t\t")),s.jsioLogged=!0,s.code=t,s}t:{for(var u,a=0;o=n[a];++a){if(A=o.path,u=q[A]){a=A.match(/^(.*\/)[^\\\/]+$/),o.directory=a&&a[1]||"",o.src=u.src,o.pre=!0;break t}if(u=h.fetch(A),!1!==u){o.src=u;break t}H[A]=!0}o=!1}if(!o){if(r.suppressErrors)return!1;for(r=[],a=0;s=n[a];++a)r.push(s.path);throw s=Error("Could not import `"+i+"`\n\tlooked in:\n\t\t"+r.join("\n\t\t")+"\n\tImport Stack:\n\t\t"+F().join("\n\t\t")),s.code=t,s}return o.friendlyPath=i,o.baseMod&&!(o.baseMod in l.cache)&&(l.cache[o.baseMod]=o.basePath),"base"==i||!r.reload&&(r.dontPreprocess||o.pre)||(o.pre=!0,C(s,o,["import","inlineSlice"],r)),r.preprocessors&&C(s,o,r.preprocessors,r),o}function C(t,i,s,n){for(var o=0,r=s.length;o<r;++o){var a;a=s[o];var A=e.__modules["jsio.preprocessors."+a];(a="function"==typeof a?a:A&&A.exports||O("import jsio.preprocessors."+a))&&"function"==typeof a&&a(t,i,n)}}function I(t,e){var i=e.src;delete e.src;var s="(function(_){with(_){delete _;return function $$"+e.friendlyPath.replace(/[\:\\\/.-]/g,"_")+"(){"+i+"\n}}})",n=e.exports=t.exports,i=h.eval(s,e.path,i),i=i(t);i.call(n),e.exports=n!=t.module.exports?t.module.exports:t.exports}function P(t,i,s,n){return t||(t={}),t.exports||(t.exports={}),t.jsio=j.bind(this,z,t,s.directory,s.filename),t.require=function(e,i){return i||(i={}),i.dontExport=!0,t.jsio(e,i)},t.require.main=h.main,t.module={id:i,exports:t.exports},!n&&"jsio.base"!=i&&(t.jsio("from jsio.base import *",{dontPreprocess:!0}),t.logging.__create(i,t)),t.jsio.__jsio=e,t.jsio.__env=e.__env,t.jsio.__dir=s.directory,t.jsio.__filename=s.filename,t.jsio.path=l,t.__dirname=s.directory,t.__filename=j.buildPath(t.__dirname,s.filename),t}function z(t,i,s,n,o){for(var r,o=o||{},i=i||"./",s=s||E,t=o.exportInto||t||h.global,a=o,A=e.__cmds,l=[],u=!1,c=0;(r=A[c])&&!(u=r(t,n,a,l));++c);if(!0!==u)throw new("undefined"!=typeof SyntaxError?SyntaxError:Error)(""+(u||"invalid jsio command: jsio('"+n+"')"));for(a=l.length,A=1<a?{}:null,u=0;u<a;++u){r=l[u];var d,p,_,c=r.from,g=e.__modules;try{p=e.__env.loadModule(G,i,s,r,o)}catch(t){_=t}if(p)d=p.path;else if(!1===p)return!1;if(_){if(o.suppressErrors)return!1;throw _.jsioLogged||(h.log("\nError loading module:\n","    [[",n,"]]\n","    requested by:",i+s,"\n","    current directory:",e.__env.getCwd(),"\n","  "+_.stack.split("\n").join("\n  ")),_.jsioLogged=!0),_}if(p&&y.push({friendlyPath:p.friendlyPath,path:p.path,stack:Error().stack}),d in g||(g[d]=p),!p.exports){if(c=P(o.context,c,p,r.dontAddBase),r.dontUseExports){var f,m=[";(function(){"],v=1;for(f in r.import)c.exports[f]=void 0,m[v++]="if(typeof "+f+'!="undefined"&&exports.'+f+"==undefined)exports."+f+"="+f+";";m[v]="})();",p.src+=m.join("")}I(c,p)}if(y.pop(),c=p.exports,1==a&&(A=c),!o.dontExport)if(r.as){r=r.as.match(/^\.*(.*?)\.*$/)[1];for(var g=r.split("."),m=g.length-1,b=t,v=0;v<m;++v){var w=g[v];w&&(b[w]||(b[w]={}),b=b[w])}b[g[m]]=c,1<a&&(A[r]=c)}else if(r.import)if(r.import["*"])for(v in g[d].exports)t[v]=c[v];else for(v in r.import)t[r.import[v]]=c[v]}return A}var E="<initial file>",t="MODULE_NOT_FOUND",N=!0,J=Array.prototype.slice,h,K=/(\/|\\)$/;v.prototype.setBase=function(t,e){this.baseMod=t,this.basePath=e+"/"+t};var Q=/^([a-z][a-z0-9+\-\.]*:\/\/.*?\/)(.*)$/,L=/^[a-z][a-z0-9+\-\.]*:/,j={bind:function(t,e){var i=J.call(arguments,2);return function(){return e="string"==typeof e?t[e]:e,e.apply(t,i.concat(J.call(arguments,0)))}},addEndSlash:function(t){return K.test(t)?t:t+"/"},removeEndSlash:function(t){return t.replace(K,"")},relative:function(t,e){var i=t.length;if(e.substring(0,i)==t)return e.slice(i+/[\/\\]/.test(e.charAt(i)));for(var i=j.removeEndSlash(e).split(h.pathSep),s=j.removeEndSlash(t).split(h.pathSep),n=0;i[n]==s[n];)++n;if(n)for(e=i.slice(n).join(h.pathSep),i=s.length-n;0<i;--i)e="../"+e;return e},buildPath:function(){for(var t=[],e=0,i=arguments.length;e<i;++e){var s=arguments[e];L.test(s)&&(t.length=0),"."!=s&&"./"!=s&&s&&t.push(s)}return j.resolveRelativePath(t.join("/"))},resolveRelativePath:function(t){var e=t.match(Q);for(e&&(t=e[2]),t=t.replace(/\/+/g,"/").replace(/\/\.\//g,"/");t!=(t=t.replace(/(^|\/)(?!\.?\.\/)([^\/]+)\/\.\.\//g,"$1")););return e?e[1]+t.replace(/^\//,""):t},isAbsolutePath:function(t){return/^\//.test(t)||L.test(t)||h.isWindowsNode&&/^[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+/.test(t)},resolve:function(t,e){return this.isAbsolutePath(e)?j.resolveRelativePath(e):j.buildPath(t,e)},resolveRelativeModule:function(t,e){for(var i=[],s=t.split("."),n=s.length,o=1<n&&!s[0],r=o?0:-1;++r<n;)i.push(s[r]?s[r]:"..");return j.buildPath(o?e:"",i.join("/"))},resolveModulePath:function(t,e){if("."==t.charAt(0))return[s(j.resolveRelativeModule(t,e)),s(j.resolveRelativeModule(t+".index",e))];for(var i=t.split("."),n=i.length;0<n;--n){var o=i.slice(0,n).join("."),r=l.cache[o],o=i.slice(n).join("/");if(r)return[s(j.buildPath(r,o)),s(j.buildPath(r,o+"/index"))]}for(var r=i[0],o=i.join("/"),i=[],a=l.get(),A=a.length,n=0;n<A;++n){var h=a[n],u=j.buildPath(h,o),c=s(u);c.setBase(r,h),i.push(c),c=s(u+"/index"),c.setBase(r,h),i.push(c)}return i},splitPath:function(t,e){e||(e={});var i=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"))+1;return e.directory=t.substring(0,i),e.filename=t.substring(i),e}},e=j.bind(this,z,null,null,null);e.__util=j,e.__init__=init;var q;e.setCache=function(t){q=e.__srcCache=t},e.setCache(m&&m.__srcCache||{}),e.setCachedSrc=function(t,e,i){q[t]&&q[t].locked?console.warn("Cache is ignoring (already present and locked) src "+t):q[t]={path:t,src:e,locked:i}},e.getCachedSrc=function(t){return q[t]},e.__filename="jsio.js",e.__cmds=[],e.__jsio=e,e.__require=z,e.__modules={preprocessors:{}};var l={set:function(t){this.value=[],("string"==typeof t?[t]:t).map(this.add,this)},get:function(){return l.value.slice(0)},add:function(t){if(2==arguments.length){var e=arguments[0],i=j.resolve(h.getCwd(),arguments[1]);this.cache[e]=i}else{for(var t=j.resolve(h.getCwd(),t),e=l.value,i=e.length,s=0;s<i;++s)if(e[s]==t)return;e.push(t)}},remove:function(t){for(var e=l.value,i=e.length,s=0;s<i;++s)e[s]==t&&e.splice(s,1)},value:[],cache:{}};e.path=l,e.addPath=j.bind(l,"add"),e.addCmd=j.bind(e.__cmds,"push"),e.setEnv=function(t){!t&&m?h=new m.__env.constructor(j):("string"==typeof t&&(t={node:M,browser:B}[t]||B),h=new t(j)),this.__env=h,this.__dir=h.getCwd(),h.loadModule||(h.loadModule=G),e.path.cache.jsio=m?m.path.cache.jsio:h.getPath(),t==B&&e.path.set(h.getPath())},m?e.setEnv():"undefined"!=typeof JSIO_ENV_CTOR?e.setEnv(JSIO_ENV_CTOR):"undefined"!=typeof process&&process.version?e.setEnv("node"):("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof ActiveXObject)&&e.setEnv("browser"),e.main=h&&h.main;var D,O=function(t){return D||(D=j.bind(this,z,{},h.getPath(),"jsio.js")),D(t,{dontExport:!0,dontPreprocess:!0})},H={},y=[];e.addCmd(function(t,e,i,s){if(t=e.match(/^\s*(from|external)\s+([\w.\-$]+)\s+(import|grab)\s+(.*)$/))return s.push({from:t[2],dontAddBase:"external"==t[1],dontUseExports:"grab"==t[3]||"external"==t[1],import:{}}),t[4].replace(/\s*([\w.\-$*]+)(?:\s+as\s+([\w.\-$]+))?/g,function(t,e,i){s[0].import[e]=i||e}),!0}),e.addCmd(function(t,e,i,s){if(t=e.match(/^\s*import\s+(.*)$/))return t[1].replace(/\s*([\w.\-$]+)(?:\s+as\s+([\w.\-$]+))?,?/g,function(t,e,i){s.push(i?{from:e,as:i}:{from:e,as:e})}),!0}),e.addCmd(function(t,e,i,s){if(t=e.match(/^\s*[\w.0-9$\/\-:\\]+\s*$/))return t=j.resolveRelativePath(t[0]),i="."==t.charAt(0),t=t.replace(/\.\.\//g,".").replace(/\.\//g,"").replace(/\/+$/g,""),"\\"===h.pathSep&&t.match(/^[a-zA-Z]:.*/)||(t=t.replace(/\//g,".")),s[0]={from:(i?".":"")+t,original:e},!0}),e.install=function(){e("from .base import *"),GLOBAL.logger=logging.get("jsiocore")},e.eval=function(t,e){var e=h.getCwd()||"/",i=new v(e);i.src=t,C(e,i,["import","cls"],{}),I(h.global,i)},e.clone=j.bind(null,init,e);var A=j.resolveModulePath("jsio")[0];return A&&(e.__modules[A.path]=new v(A.path),e.__modules[A.path].exports=e),e}(),jsio.path.set(["modules/devkit-core/node_modules/jsio/packages","","lib","modules/devkit-core/src/clientapi/api","modules/devkit-core/modules/timestep/src"]),jsio.path.cache={jsio:"modules/devkit-core/node_modules/jsio/packages",devkit:"modules/devkit-core/src/clientapi",squill:"modules/devkit-core/modules/squill",Promise:"modules/devkit-core/src/clientapi/api/Promise",lib:"modules/devkit-core/node_modules/jsio/packages/lib",device:"modules/devkit-core/modules/timestep/src/device",userAgent:"modules/devkit-core/modules/timestep/src/userAgent",util:"modules/devkit-core/node_modules/jsio/packages/util",event:"modules/devkit-core/modules/timestep/src/event",ui:"modules/devkit-core/modules/timestep/src/ui",platforms:"modules/devkit-core/modules/timestep/src/platforms",math:"modules/devkit-core/node_modules/jsio/packages/math",AudioManager:"modules/devkit-core/modules/timestep/src/AudioManager",cache:"modules/devkit-core/modules/timestep/src/cache",timer:"modules/devkit-core/modules/timestep/src/timer",animate:"modules/devkit-core/modules/timestep/src/animate",ObjectPool:"modules/devkit-core/modules/timestep/src/ObjectPool",std:"modules/devkit-core/node_modules/jsio/packages/std",src:"src",performance:"modules/devkit-core/modules/timestep/src/performance"},jsio.setCache({"modules/devkit-core/node_modules/jsio/packages/base.js":{path:"modules/devkit-core/node_modules/jsio/packages/base.js",friendlyPath:"jsio.base",directory:"modules/devkit-core/node_modules/jsio/packages/",filename:"base.js",src:'exports.log=jsio.__env.log,exports.GLOBAL=jsio.__env.global,Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var r=Array.prototype.slice.call(arguments,1),o=this,n=function(){},e=function(){return o.apply(this instanceof n?this:t,r.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,e.prototype=new n,e});var SLICE=Array.prototype.slice;exports.isArray="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},exports.bind=function(t,r){if(arguments.length>2){var o=SLICE.call(arguments,2);return"string"==typeof r?function(){if(t[r])return t[r].apply(t,o.concat(SLICE.call(arguments,0)));throw logger.error("No method:",r,"for context",t)}:function(){return r.apply(t,o.concat(SLICE.call(arguments,0)))}}return"string"==typeof r?function(){if(t[r])return t[r].apply(t,arguments);throw logger.error("No method:",r,"for context",t)}:function(){return r.apply(t,arguments)}},exports.Class=function(t,r,o){return exports.__class__(function(){return this.init&&this.init.apply(this,arguments)},t,r,o)},exports.__class__=function(t,r,o,n){var e,i=function(){};if("string"!=typeof r&&(n=o,o=r,r=null),r&&(e=exports.logging.get(r)),!o)throw Error("parent or prototype not provided");if(n||(n=o,o=null),o)if(exports.isArray(o)){i.prototype={};for(var s,p=0;s=o[p];++p){s==Error&&ErrorParentClass&&(s=ErrorParentClass);for(var a in s.prototype)a in i.prototype||(i.prototype[a]=s.prototype[a])}o=o[0]}else o==Error&&ErrorParentClass&&(o=ErrorParentClass),i.prototype=o.prototype;return p=o?function(t,r,n){var e=o.prototype[r];if(!e)throw Error("method "+r+" does not exist");return e.apply(t,n||[])}:null,s=t.prototype=new i,s.constructor=t,s.__parentClass__=o,r&&(s.__class__=r),n.call(s,e||p,e&&p),t};var ErrorParentClass=exports.__class__(function(){var t,r=Error.prototype.constructor.apply(this,arguments);for(t in r)r.hasOwnProperty(t)&&(this[t]=r[t])},function(){});exports.Class.defaults=exports.merge=function(t,r){for(var t=t||{},o=1,n=arguments.length;o<n;++o){var e,i=arguments[o];for(e in i)i.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=i[e])}return t},exports.delay=function(t,r){var o,n,e=null,i=function(){t.apply(o,n)};return function(){o=this,n=arguments,e&&clearTimeout(e),e=setTimeout(i,r||0)}},exports.logging=function(){var t={DEBUG:1,LOG:2,INFO:3,WARN:4,ERROR:5,NONE:10},r={},o=!1,n="";t.setPrefix=function(t){n=t+" "},t.setProduction=function(t){o=!!t;for(var n in r)r[n].setProduction(o)},t.get=function(t){return t=t in r?r[t]:r[t]=new e(t),t.setProduction(o),t},t.set=function(t,o){r[t]=o},t.getAll=function(){return r},t.__create=function(r,o){o.logger=t.get(r)};var e=exports.__class__(function(r,n){this._name=r,this._isProduction=o,this.setLevel(n||t.LOG)},function(){function r(r){var o=t[r];return function(){if(!this._isProduction&&o>=this._level){var t=r+" "+n+this._name,e=this._listener||exports.log;return e&&e.apply(this._listener,[t].concat(SLICE.call(arguments)))}return arguments[0]}}this.setProduction=function(r){(this._isProduction=r)&&this.setLevel(t.NONE)},this.setLevel=function(r){this._level=r,this._isProduction&&(r=t.NONE),this.DEBUG=r<=t.DEBUG,this.LOG=r<=t.LOG,this.INFO=r<=t.INFO,this.WARN=r<=t.WARN,this.ERROR=r<=t.ERROR},this.setListener=function(t){this._listener=t},this.debug=r("DEBUG"),this.log=r("LOG"),this.info=r("INFO"),this.warn=r("WARN"),this.error=r("ERROR")});return t}();var logger=exports.logging.get("jsiocore");',pre:!0},"modules/devkit-core/src/clientapi/browser/launchClient.js":{path:"modules/devkit-core/src/clientapi/browser/launchClient.js",friendlyPath:"devkit.browser.launchClient",directory:"modules/devkit-core/src/clientapi/browser/",filename:"launchClient.js",src:'function queueStart(){if(window.GC_LIVE_EDIT&&GC_LIVE_EDIT._isLiveEdit)var o=setInterval(function(){if(GC_LIVE_EDIT._liveEditReady){try{startApp()}catch(o){console.error("Error while starting app",o)}clearInterval(o)}},100);else startApp()}function startApp(){jsio("import device"),jsio("import platforms.browser.initialize"),device.init(),jsio("import devkit"),GLOBAL.GC=new devkit.ClientAPI,simulatorModules&&GLOBAL.GC.on("app",function(o){simulatorModules.forEach(function(t){"function"==typeof t.onApp&&t.onApp(o)})}),GLOBAL.GC.buildApp("launchUI")}jsio.__env.fetch=function(){return!1},jsio("import Promise"),GLOBAL.Promise=Promise;var isSimulator=GLOBAL.CONFIG&&!!CONFIG.simulator,isNative=/^native/.test(CONFIG.target);isSimulator&&(jsio.__env.debugPath=function(o){return"http://"+(CONFIG.bundleID||CONFIG.packageName)+"/"+o.replace(/^[\\.\\/]+/,"")},isNative&&jsio("import ..debugging.nativeShim")),window.JSON||jsio("import std.JSON").createGlobal(),window.console||(window.console={},window.console.log=window.console.info=window.console.error=window.console.warn=function(){}),"undefined"!=typeof localStorage&&(localStorage={getItem:function(){},setItem:function(){},removeItem:function(){}}),isSimulator||jsio("import .cache");var splash=document.getElementById("_GCSplash");splash&&!CONFIG.splash.hide&&(CONFIG.splash.hide=function(){setTimeout(function(){splash.style.opacity=0,splash.style.pointerEvents="none",setTimeout(function(){splash.parentNode.removeChild(splash)},500)},100)}),jsio("import std.uri");var uri=new std.uri(window.location),mute=uri.hash("mute");CONFIG.isMuted=void 0!==mute&&"false"!==mute&&"0"!==mute&&"no"!==mute;var simulatorModules;DEBUG&&isSimulator&&Array.isArray(CONFIG.simulator.modules)?(simulatorModules=[],Promise.map(CONFIG.simulator.modules,function(o){try{var t=jsio(o);if(t&&(simulatorModules.push(t),"function"==typeof t.onLaunch))return t.onLaunch()}catch(o){console.warn(o)}}).timeout(5e3).finally(queueStart)):queueStart();',pre:!0},"modules/devkit-core/src/clientapi/api/Promise.js":{path:"modules/devkit-core/src/clientapi/api/Promise.js",friendlyPath:"Promise",directory:"modules/devkit-core/src/clientapi/api/",filename:"Promise.js",baseMod:"Promise",basePath:"/Users/tsunami/projects/devkitPoj/BubbleShooter/modules/devkit-core/src/clientapi/api/Promise",src:'!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Promise=t()}}(function(){return function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){var c="function"==typeof _dereq_&&_dereq_;if(!a&&c)return c(s,!0);if(o)return o(s,!0);throw c=Error("Cannot find module \'"+s+"\'"),c.code="MODULE_NOT_FOUND",c}c=r[s]={exports:{}},e[s][0].call(c.exports,function(t){var r=e[s][1][t];return i(r?r:t)},c,c.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof _dereq_&&_dereq_,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e){function r(){this._isTickUsed=!1,this._lateQueue=new o(16),this._normalQueue=new o(16);var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=i.isStatic?i(this.drainQueues):i}var n;try{throw Error()}catch(t){n=t}var i=t("./schedule.js"),o=t("./queue.js"),s="undefined"!=typeof process?process:void 0;r.prototype.haveItemsQueued=function(){return 0<this._normalQueue.length()},r.prototype._withDomain=function(t){return void 0!==s&&null!=s.domain&&!t.domain&&(t=s.domain.bind(t)),t},r.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),t=this._withDomain(t),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(t){throw Error("No async scheduler available\\n\\n    See http://goo.gl/m3OTXk\\n")}},r.prototype.invokeLater=function(t,e,r){t=this._withDomain(t),this._lateQueue.push(t,e,r),this._queueTick()},r.prototype.invokeFirst=function(t,e,r){t=this._withDomain(t),this._normalQueue.unshift(t,e,r),this._queueTick()},r.prototype.invoke=function(t,e,r){t=this._withDomain(t),this._normalQueue.push(t,e,r),this._queueTick()},r.prototype.settlePromises=function(t){this._normalQueue._pushOne(t),this._queueTick()},r.prototype._drainQueue=function(t){for(;0<t.length();){var e=t.shift();if("function"!=typeof e)e._settlePromises();else{var r=t.shift(),n=t.shift();e.call(r,n)}}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},e.exports=new r,e.exports.firstLineError=n},{"./queue.js":24,"./schedule.js":26}],2:[function(t,e){e.exports=function(t,e,r){function n(){return this.value}function i(){throw this.reason}function o(t){return this._then(n,null,null,{value:t},void 0)}function s(t){return this._then(i,i,null,{reason:t},void 0)}function a(t){this._setBoundTo(t)}t.prototype.bind=function(e){var n=r(e);if(n instanceof t){if(!n.isFulfilled()){if(n.isRejected())return t.reject(n.reason());var i=this.then(),e=i,i=i._then(o,s,null,n,void 0);return n._then(a,i._reject,null,i,null),i._cancellable()||i._setPendingCancellationParent(e),i}e=n.value()}return i=this.then(),i._setBoundTo(e),i},t.bind=function(e,r){return t.resolve(r).bind(e)},t.prototype._setPendingCancellationParent=function(t){this._settledValue=t},t.prototype._pendingCancellationParent=function(){if(this.isPending()&&void 0!==this._settledValue){var t=this._settledValue;return t.cancellable(),this._settledValue=void 0,t}},t.prototype._setIsMigratingBinding=function(){this._bitField|=8388608},t.prototype._unsetIsMigratingBinding=function(){this._bitField&=-8388609},t.prototype._isMigratingBinding=function(){return 8388608===(8388608&this._bitField)},t.prototype._setBoundTo=function(t){this._boundTo=t},t.prototype._isBound=function(){return void 0!==this._boundTo}}},{}],3:[function(t,e){var r;"undefined"!=typeof Promise&&(r=Promise);var n=t("./promise.js")();n.noConflict=function(){try{Promise===n&&(Promise=r)}catch(t){}return n},e.exports=n},{"./promise.js":20}],4:[function(t,e){e.exports=function(e){var r=t("./errors.js"),n=t("./async.js"),i=r.CancellationError;e.prototype._cancel=function(t){if(!this.isCancellable())return this;for(var e,r=this;void 0!==(e=r._cancellationParent)&&e.isCancellable();)r=e;this._unsetCancellable(),r._target()._rejectCallback(t,!1,!0)},e.prototype.cancel=function(t){return this.isCancellable()?(void 0===t&&(t=new i),n.invokeLater(this._cancel,this,t),this):this},e.prototype.cancellable=function(){return this._cancellable()?this:(this._setCancellable(),this._cancellationParent=this._pendingCancellationParent(),this)},e.prototype.uncancellable=function(){var t=this.then();return t._unsetCancellable(),t},e.prototype.fork=function(t,e,r){return t=this._then(t,e,r,void 0,void 0),t._setCancellable(),t._cancellationParent=void 0,t}}},{"./async.js":1,"./errors.js":11}],5:[function(t,e){e.exports=function(){function e(t){this._parent=t,t=this._length=1+(void 0===t?0:t._length),_(this,e),32<t&&this.uncycle()}function r(t){for(var e=[],r=0;r<t.length;++r){var n=t[r],i=c.test(n)||"    (No stack trace)"===n,o=i&&h(n);i&&!o&&(l&&" "!==n.charAt(0)&&(n="    "+n),e.push(n))}return e}function n(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{if(e=t.toString(),/\\[object [a-zA-Z0-9$_]+\\]/.test(e))try{e=JSON.stringify(t)}catch(t){}0===e.length&&(e="(empty array)")}return t=41>e.length?e:e.substr(0,38)+"...","(<"+t+">, no stack trace)"}function i(t){if(t=t.match(p))return{fileName:t[1],line:parseInt(t[2],10)}}var o=t("./async.js"),s=t("./util.js"),a=/[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](main|debug|zalgo|instrumented)/,c=null,u=null,l=!1;s.inherits(e,Error),e.prototype.uncycle=function(){var t=this._length;if(!(2>t)){for(var e=[],r={},n=0,t=this;void 0!==t;++n)e.push(t),t=t._parent;for(t=this._length=n,n=t-1;0<=n;--n){var i=e[n].stack;void 0===r[i]&&(r[i]=n)}for(n=0;n<t;++n)if(i=r[e[n].stack],void 0!==i&&i!==n){for(0<i&&(e[i-1]._parent=void 0,e[i-1]._length=1),e[n]._parent=void 0,e[n]._length=1,r=0<n?e[n-1]:this,i<t-1?(r._parent=e[i+1],r._parent.uncycle(),r._length=r._parent._length+1):(r._parent=void 0,r._length=1),t=r._length+1,n-=2;0<=n;--n)e[n]._length=t,t++;break}}},e.prototype.parent=function(){return this._parent},e.prototype.hasParent=function(){return void 0!==this._parent},e.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var n=e.parseStackAndMessage(t),i=n.message,n=[n.stack],o=this;void 0!==o;)n.push(r(o.stack.split("\\n"))),o=o._parent;for(var o=n[0],s=1;s<n.length;++s){for(var a=n[s],c=o.length-1,u=o[c],l=-1,h=a.length-1;0<=h;--h)if(a[h]===u){l=h;break}for(h=l;0<=h&&o[c]===a[h];--h)o.pop(),c--;o=a}for(o=0;o<n.length;++o)(0===n[o].length||o+1<n.length&&n[o][0]===n[o+1][0])&&(n.splice(o,1),o--);for(o=0;o<n.length-1;++o)n[o].push("From previous event:"),n[o]=n[o].join("\\n");o<n.length&&(n[o]=n[o].join("\\n")),i=i+"\\n"+n.join("\\n"),t.stack=i,t.__stackCleaned__=!0}},e.parseStackAndMessage=function(t){var e=t.stack,n=t.toString();if("string"==typeof e&&0<e.length){for(t=t.stack.replace(/\\s+$/g,"").split("\\n"),e=0;e<t.length;++e){var i=t[e];if("    (No stack trace)"===i||c.test(i))break}0<e&&(t=t.slice(e))}else t=["    (No stack trace)"];return{message:n,stack:r(t)}},e.formatAndLogError=function(t,e){if("object"==typeof console){var r;r="object"==typeof t||"function"==typeof t?e+u(t.stack,t):e+(""+t),"function"==typeof console.warn||"object"==typeof console.warn?console.warn(r):("function"==typeof console.log||"object"==typeof console.log)&&console.log(r)}},e.unhandledRejection=function(t){e.formatAndLogError(t,"^--- With additional stack trace: ")},e.isSupported=function(){return"function"==typeof _},e.fireRejectionEvent=function(t,r,n,i){var s=!1;try{"function"==typeof r&&(s=!0,"rejectionHandled"===t?r(i):r(n,i))}catch(t){o.throwLater(t)}r=!1;try{r=d(t,n,i)}catch(t){r=!0,o.throwLater(t)}var a=!1;if(f)try{a=f(t.toLowerCase(),{reason:n,promise:i})}catch(t){a=!0,o.throwLater(t)}!r&&!s&&!a&&"unhandledRejection"===t&&e.formatAndLogError(n,"Possibly unhandled ")};var h=function(){return!1},p=/[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;e.setBounds=function(t,r){if(e.isSupported()){for(var n,o,s=t.stack.split("\\n"),c=r.stack.split("\\n"),u=-1,l=-1,p=0;p<s.length;++p){var f=i(s[p]);if(f){n=f.fileName,u=f.line;break}}for(p=0;p<c.length;++p)if(f=i(c[p])){o=f.fileName,l=f.line;break}0>u||0>l||!n||!o||n!==o||u>=l||(h=function(t){return!!a.test(t)||!!((t=i(t))&&t.fileName===n&&u<=t.line&&t.line<=l)})}};var f,_=function(){var t=/^\\s*at\\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():n(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,c=t,u=e;var i=Error.captureStackTrace;return h=function(t){return a.test(t)},function(t,e){Error.stackTraceLimit+=6,i(t,e),Error.stackTraceLimit-=6}}var o=Error();if("string"==typeof o.stack&&0<=o.stack.split("\\n")[0].indexOf("stackDetection@"))return c=/@/,u=e,l=!0,function(t){t.stack=Error().stack};try{throw Error()}catch(t){}return!("stack"in o)&&"stack"in r?(c=t,u=e,function(t){Error.stackTraceLimit+=6;try{throw Error()}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6}):(u=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?n(e):e.toString()},null)}([]),d=function(){if(s.isNode)return function(t,e,r){return"rejectionHandled"===t?process.emit(t,r):process.emit(t,e,r)};var t=!1,e=!0;try{t=new self.CustomEvent("test")instanceof CustomEvent}catch(t){}if(!t)try{var r=document.createEvent("CustomEvent");r.initCustomEvent("testingtheevent",!1,!0,{}),self.dispatchEvent(r)}catch(t){e=!1}e&&(f=function(e,r){var n;return t?n=new self.CustomEvent(e,{detail:r,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!1,!0,r)),!!n&&!self.dispatchEvent(n)});var n={unhandledRejection:"onunhandledrejection",rejectionHandled:"onrejectionhandled"};return function(t,e,r){var i=self[n[t]];return!!i&&("rejectionHandled"===t?i.call(self,r):i.call(self,e,r),!0)}}();return e}},{"./async.js":1,"./util.js":30}],6:[function(t,e){e.exports=function(e){function r(t,e,r){this._instances=t,this._callback=e,this._promise=r}var n=t("./util.js"),i=t("./errors.js"),o=n.tryCatch,s=n.errorObj,a=t("./es5.js").keys,c=i.TypeError;return r.prototype.doFilter=function(t){for(var r=this._callback,n=this._promise._boundTo,i=0,u=this._instances.length;i<u;++i){var l=this._instances[i],h=l===Error||null!=l&&l.prototype instanceof Error;if(h&&t instanceof l)return t=o(r).call(n,t),t===s?(e.e=t.e,e):t;if("function"==typeof l&&!h){var p=t,h={},l=o(l).call(h,p);if(l!==s&&a(h).length&&(s.e=new c("Catch filter must inherit from Error or be a simple predicate function\\n\\n    See http://goo.gl/o84o68\\n"),l=s),l===s){t=s.e;break}if(l)return t=o(r).call(n,t),t===s?(e.e=t.e,e):t}}return e.e=t,e},r}},{"./errors.js":11,"./es5.js":12,"./util.js":30}],7:[function(t,e){e.exports=function(t,e,r){function n(){this._trace=new e(i())}function i(){var t=o.length-1;if(0<=t)return o[t]}var o=[];return n.prototype._pushContext=function(){r()&&void 0!==this._trace&&o.push(this._trace)},n.prototype._popContext=function(){r()&&void 0!==this._trace&&o.pop()},t.prototype._peekContext=i,t.prototype._pushContext=n.prototype._pushContext,t.prototype._popContext=n.prototype._popContext,function(){if(r())return new n}}},{}],8:[function(t,e){e.exports=function(e,r){var n,i,o=t("./async.js"),s=t("./errors.js").Warning,a=t("./util.js"),c=a.canAttachTrace,u=a.isNode&&(!!process.env.BLUEBIRD_DEBUG||"development"===process.env.NODE_ENV);return e.prototype._ensurePossibleRejectionHandled=function(){this._setRejectionIsUnhandled(),o.invokeLater(this._notifyUnhandledRejection,this,void 0)},e.prototype._notifyUnhandledRejectionIsHandled=function(){r.fireRejectionEvent("rejectionHandled",n,void 0,this)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),r.fireRejectionEvent("unhandledRejection",i,t,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField|=524288},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField&=-524289},e.prototype._isUnhandledRejectionNotified=function(){return 0<(524288&this._bitField)},e.prototype._setRejectionIsUnhandled=function(){this._bitField|=2097152},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField&=-2097153,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return 0<(2097152&this._bitField)},e.prototype._setCarriedStackTrace=function(t){this._bitField|=1048576,this._fulfillmentHandler0=t},e.prototype._isCarryingStackTrace=function(){return 0<(1048576&this._bitField)},e.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},e.prototype._captureStackTrace=function(){return u&&(this._trace=new r(this._peekContext())),this},e.prototype._attachExtraTrace=function(t,e){if(u&&c(t)){var n=this._trace;void 0!==n&&e&&(n=n._parent),void 0!==n?n.attachExtraTrace(t):t.__stackCleaned__||(n=r.parseStackAndMessage(t),t.stack=n.stack.join("\\n"),t.__stackCleaned__=!0)}},e.prototype._warn=function(t){var t=new s(t),e=this._peekContext();e?e.attachExtraTrace(t):(e=r.parseStackAndMessage(t),t.stack=e.message+"\\n"+e.stack.join("\\n")),r.formatAndLogError(t,"")},e.onPossiblyUnhandledRejection=function(t){i="function"==typeof t?t:void 0},e.onUnhandledRejectionHandled=function(t){n="function"==typeof t?t:void 0},e.longStackTraces=function(){if(o.haveItemsQueued()&&!1===u)throw Error("cannot enable long stack traces after promises have been created\\n\\n    See http://goo.gl/DT1qyG\\n");u=r.isSupported()},e.hasLongStackTraces=function(){return u&&r.isSupported()},r.isSupported()||(e.longStackTraces=function(){},u=!1),function(){return u}}},{"./async.js":1,"./errors.js":11,"./util.js":30}],9:[function(t,e){var r=t("./util.js"),n=r.isPrimitive,i=r.wrapsPrimitiveReceiver;e.exports=function(t){var e=function(){return this},r=function(){throw this},o=function(t,e){return 1===e?function(){throw t}:2===e?function(){return t}:void 0};t.prototype.return=t.prototype.thenReturn=function(t){return i&&n(t)?this._then(o(t,2),void 0,void 0,void 0,void 0):this._then(e,void 0,void 0,t,void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return i&&n(t)?this._then(o(t,1),void 0,void 0,void 0,void 0):this._then(r,void 0,void 0,t,void 0)}}},{"./util.js":30}],10:[function(t,e){e.exports=function(t,e){var r=t.reduce;t.prototype.each=function(t){return r(this,t,null,e)},t.each=function(t,n){return r(t,n,null,e)}}},{}],11:[function(t,e){function r(t,e){function r(n){return this instanceof r?(u(this,"message","string"==typeof n?n:e),u(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new r(n)}return c(r,Error),r}function n(t){return this instanceof n?(u(this,"name","OperationalError"),u(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(u(this,"message",t.message),u(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new n(t)}var i,o,s=t("./es5.js").freeze,a=t("./util.js"),c=a.inherits,u=a.notEnumerableProp,a=r("Warning","warning"),l=r("CancellationError","cancellation error"),h=r("TimeoutError","timeout error"),p=r("AggregateError","aggregate error");try{i=TypeError,o=RangeError}catch(t){i=r("TypeError","type error"),o=r("RangeError","range error")}for(var f="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<f.length;++_)"function"==typeof Array.prototype[f[_]]&&(p.prototype[f[_]]=Array.prototype[f[_]]);p.prototype.length=0,p.prototype.isOperational=!0;var d=0;p.prototype.toString=function(){var t=Array(4*d+1).join(" "),e="\\n"+t+"AggregateError of:\\n";d++;for(var t=Array(4*d+1).join(" "),r=0;r<this.length;++r){for(var n=this[r]===this?"[Circular AggregateError]":this[r]+"",n=n.split("\\n"),i=0;i<n.length;++i)n[i]=t+n[i];n=n.join("\\n"),e+=n+"\\n"}return d--,e},c(n,Error),f=Error.__BluebirdErrorTypes__,f||(f=s({CancellationError:l,TimeoutError:h,OperationalError:n,RejectionError:n,AggregateError:p}),u(Error,"__BluebirdErrorTypes__",f)),e.exports={Error:Error,TypeError:i,RangeError:o,CancellationError:f.CancellationError,OperationalError:f.OperationalError,TimeoutError:f.TimeoutError,AggregateError:f.AggregateError,Warning:a}},{"./es5.js":12,"./util.js":30}],12:[function(t,e){var r=function(){return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,keys:Object.keys,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var r=Object.getOwnPropertyDescriptor(t,e);return!(r&&!r.writable&&!r.set)}};else{var n={}.hasOwnProperty,i={}.toString,o={}.constructor.prototype;e.exports={isArray:function(t){try{return"[object Array]"===i.call(t)}catch(t){return!1}},keys:function(t){var e,r=[];for(e in t)n.call(t,e)&&r.push(e);return r},defineProperty:function(t,e,r){return t[e]=r.value,t},freeze:function(t){return t},getPrototypeOf:function(t){try{return Object(t).constructor.prototype}catch(t){return o}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],13:[function(t,e){e.exports=function(t,e){var r=t.map;t.prototype.filter=function(t,n){return r(this,t,n,e)},t.filter=function(t,n,i){return r(t,n,i,e)}}},{}],14:[function(t,e){e.exports=function(e,r,n){function i(){return this}function o(){throw this}function s(t){return function(){return t}}function a(t){return function(){throw t}}function c(t,e,r){return r=p&&f(e)?r?s(e):a(e):r?i:o,t._then(r,_,void 0,e,void 0)}function u(t){var i=this.promise,o=this.handler,o=i._isBound()?o.call(i._boundTo):o();return void 0!==o&&(o=n(o,i),o instanceof e)?(o=o._target(),c(o,t,i.isFulfilled())):i.isRejected()?(r.e=t,r):t}function l(t){var r=this.promise,i=this.handler,i=r._isBound()?i.call(r._boundTo,t):i(t);return void 0!==i&&(r=n(i,r),r instanceof e)?(r=r._target(),c(r,t,!0)):t}var h=t("./util.js"),p=h.wrapsPrimitiveReceiver,f=h.isPrimitive,_=h.thrower;e.prototype._passThroughHandler=function(t,e){return"function"!=typeof t?this.then():this._then(e?u:l,e?u:void 0,void 0,{promise:this,handler:t},void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThroughHandler(t,!0)},e.prototype.tap=function(t){return this._passThroughHandler(t,!1)}}},{"./util.js":30}],15:[function(t,e){e.exports=function(e,r){t("./util.js"),e.join=function(){var t;t=arguments.length-1;var e;0<t&&"function"==typeof arguments[t]&&(e=arguments[t]),t=arguments.length;for(var n=Array(t),i=0;i<t;++i)n[i]=arguments[i];return e&&n.pop(),t=new r(n).promise(),void 0!==e?t.spread(e):t}}},{"./util.js":30}],16:[function(t,e){e.exports=function(e,r,n,i,o){function s(t,e,r,n){this.constructor$(t),this._promise._setIsSpreadable(),this._promise._captureStackTrace(),this._callback=e,this._preservedValues=n===o?Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=1<=r?[]:p,this._init$(void 0,-2)}function a(t,e,r,n){return r="object"==typeof r&&null!==r?r.concurrency:0,r="number"==typeof r&&isFinite(r)&&1<=r?r:0,new s(t,e,r,n)}var c=t("./util.js"),u=c.tryCatch,l=c.errorObj,h={},p=[];c.inherits(s,r),s.prototype._init=function(){},s.prototype._promiseFulfilled=function(t,r){var n=this._values,o=this.length(),s=this._preservedValues,a=this._limit;if(n[r]===h){if(n[r]=t,1<=a&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(1<=a&&this._inFlight>=a)return n[r]=t,void this._queue.push(r);null!==s&&(s[r]=t);var c=this._callback,p=this._promise._boundTo;if(this._promise._pushContext(),c=u(c).call(p,t,r,o),this._promise._popContext(),c===l)return this._reject(c.e);if(p=i(c,this._promise),p instanceof e){if(p=p._target(),p._isPending())return 1<=a&&this._inFlight++,n[r]=h,p._proxyPromiseArray(this,r);if(!p._isFulfilled())return this._reject(p._reason());c=p._value()}n[r]=c}++this._totalResolved>=o&&(null!==s?this._filter(n,s):this._resolve(n))},s.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,r=this._values;0<t.length&&this._inFlight<e&&!this._isResolved();){var n=t.pop();this._promiseFulfilled(r[n],n)}},s.prototype._filter=function(t,e){for(var r=e.length,n=Array(r),i=0,o=0;o<r;++o)t[o]&&(n[i++]=e[o]);n.length=i,this._resolve(n)},s.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return"function"!=typeof t?n("fn must be a function\\n\\n    See http://goo.gl/916lJJ\\n"):a(this,t,e,null).promise()},e.map=function(t,e,r,i){return"function"!=typeof e?n("fn must be a function\\n\\n    See http://goo.gl/916lJJ\\n"):a(t,e,r,i).promise()}}},{"./util.js":30}],17:[function(t,e){e.exports=function(e,r,n,i){var o=t("./util.js"),s=o.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("fn must be a function\\n\\n    See http://goo.gl/916lJJ\\n");return function(){var n=new e(r);n._captureStackTrace(),n._pushContext();var i=s(t).apply(this,arguments);return n._popContext(),n._resolveFromSyncValue(i),n}},e.attempt=e.try=function(t,n,a){if("function"!=typeof t)return i("fn must be a function\\n\\n    See http://goo.gl/916lJJ\\n");var c=new e(r);return c._captureStackTrace(),c._pushContext(),t=o.isArray(n)?s(t).apply(a,n):s(t).call(a,n),c._popContext(),c._resolveFromSyncValue(t),c},e.prototype._resolveFromSyncValue=function(t){t===o.errorObj?this._rejectCallback(t.e,!1,!0):this._resolveCallback(t,!0)}}},{"./util.js":30}],18:[function(t,e){e.exports=function(e){function r(t,e){if(!o.isArray(t))return n.call(this,t,e);var r=a(e).apply(this._boundTo,[null].concat(t));r===c&&s.throwLater(r.e)}function n(t,e){var r=this._boundTo,r=void 0===t?a(e).call(r,null):a(e).call(r,null,t);r===c&&s.throwLater(r.e)}function i(t,e){if(!t){var r=this._target()._getCarriedStackTrace();r.cause=t,t=r}r=a(e).call(this._boundTo,t),r===c&&s.throwLater(r.e)}var o=t("./util.js"),s=t("./async.js"),a=o.tryCatch,c=o.errorObj;e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=n;void 0!==e&&Object(e).spread&&(o=r),this._then(o,i,void 0,this,t)}return this}}},{"./async.js":1,"./util.js":30}],19:[function(t,e){e.exports=function(e,r){var n=t("./util.js"),i=t("./async.js"),o=n.tryCatch,s=n.errorObj;e.prototype.progressed=function(t){return this._then(void 0,void 0,t,void 0,void 0)},e.prototype._progress=function(t){this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(t)},e.prototype._progressHandlerAt=function(t){return 0===t?this._progressHandler0:this[(t<<2)+t-5+2]},e.prototype._doProgressWith=function(t){var r=t.value,i=t.promise,a=t.receiver,t=o(t.handler).call(a,r);t===s?null!=t.e&&"StopProgressPropagation"!==t.e.name&&(r=n.canAttachTrace(t.e)?t.e:Error(n.toString(t.e)),i._attachExtraTrace(r),i._progress(t.e)):t instanceof e?t._then(i._progress,null,null,i,void 0):i._progress(t)},e.prototype._progressUnchecked=function(t){for(var n=this._length(),o=this._progress,s=0;s<n;s++){var a=this._progressHandlerAt(s),c=this._promiseAt(s);if(c instanceof e)"function"==typeof a?i.invoke(this._doProgressWith,this,{handler:a,promise:c,receiver:this._receiverAt(s),value:t}):i.invoke(o,c,t);else{var u=this._receiverAt(s);"function"==typeof a?a.call(u,t,c):u instanceof r&&!u._isResolved()&&u._promiseProgressed(t,c)}}}}},{"./async.js":1,"./util.js":30}],20:[function(t,e){e.exports=function(){function e(t){if("function"!=typeof t)throw new c("the promise constructor requires a resolver function\\n\\n    See http://goo.gl/EC22Yn\\n");if(this.constructor!==e)throw new c("the promise constructor cannot be invoked directly\\n\\n    See http://goo.gl/KsIlge\\n");this._bitField=0,this._boundTo=this._settledValue=this._receiver0=this._promise0=this._progressHandler0=this._rejectionHandler0=this._fulfillmentHandler0=void 0,t!==u&&this._resolveFromResolver(t)}var r=function(){return new c("circular promise resolution chain\\n\\n    See http://goo.gl/LhFpo0\\n")},n=function(){return new e.PromiseInspection(this._target())},i=function(t){return e.reject(new c(t))},o=t("./util.js"),s=t("./async.js"),a=t("./errors.js"),c=e.TypeError=a.TypeError;e.RangeError=a.RangeError,e.CancellationError=a.CancellationError,e.TimeoutError=a.TimeoutError,e.OperationalError=a.OperationalError,e.RejectionError=a.OperationalError,e.AggregateError=a.AggregateError;var u=function(){},l={},h={e:null},p=t("./thenables.js")(e,u),f=t("./promise_array.js")(e,u,p,i),_=t("./captured_trace.js")(),d=t("./debuggability.js")(e,_);t("./context.js")(e,_,d);var y=t("./catch_filter.js")(h),v=t("./promise_resolver.js"),g=v._nodebackForPromise,m=o.errorObj,j=o.tryCatch;return e.prototype.toString=function(){return"[object Promise]"},e.prototype.caught=e.prototype.catch=function(t){var r=arguments.length;if(1<r){var n,i=Array(r-1),o=0;for(n=0;n<r-1;++n){var s=arguments[n];if("function"!=typeof s)return e.reject(new c("Catch filter must inherit from Error or be a simple predicate function\\n\\n    See http://goo.gl/o84o68\\n"));i[o++]=s}return i.length=o,t=arguments[n],r=new y(i,t,this),this._then(void 0,r.doFilter,void 0,r,void 0)}return this._then(void 0,t,void 0,void 0,void 0)},e.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)},e.prototype.then=function(t,e,r){if(d()&&0<arguments.length&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+o.classString(t);1<arguments.length&&(n+=", "+o.classString(e)),this._warn(n)}return this._then(t,e,r,void 0,void 0)},e.prototype.done=function(t,e,r){this._then(t,e,r,void 0,void 0)._setIsFinal()},e.prototype.spread=function(t,e){var r=this._target();return(r._isSpreadable()?r===this?this:this.then():this.all())._then(t,e,void 0,l,void 0)},e.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},e.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},e.prototype.all=function(){var t=new f(this).promise();return t._setIsSpreadable(),t},e.prototype.error=function(t){return this.caught(o.originatesFromRejection,t)},e.is=function(t){return t instanceof e},e.fromNode=function(t){var r=new e(u),t=j(t)(g(r));return t===m&&r._rejectCallback(t.e,!0,!0),r},e.all=function(t){return t=new f(t).promise(),t._setIsSpreadable(),t},e.defer=e.pending=function(){var t=new e(u);return new v(t)},e.cast=function(t){if(t=p(t),!(t instanceof e)){var r=t,t=new e(u);t._fulfillUnchecked(r)}return t},e.resolve=e.fulfilled=e.cast,e.reject=e.rejected=function(t){var r=new e(u);return r._captureStackTrace(),r._rejectCallback(t,!0),r},e.setScheduler=function(t){if("function"!=typeof t)throw new c("fn must be a function\\n\\n    See http://goo.gl/916lJJ\\n");var e=s._schedule;return s._schedule=t,e},e.prototype._then=function(t,r,n,i,o){var a=void 0!==o,o=a?o:new e(u);a||(o._propagateFrom(this,5),o._captureStackTrace());var c=this._target();return c!==this&&!a&&(o._setIsMigrated(),void 0===i&&(o._setIsMigratingBinding(),i=this)),t=c._addCallbacks(t,r,n,o,i),c._isResolved()&&!c._isSettlePromisesQueued()&&s.invoke(c._settlePromiseAtPostResolution,c,t),o},e.prototype._settlePromiseAtPostResolution=function(t){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(t)},e.prototype._length=function(){return 131071&this._bitField},e.prototype._isFollowingOrFulfilledOrRejected=function(){return 0<(939524096&this._bitField)},e.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},e.prototype._setLength=function(t){this._bitField=this._bitField&-131072|131071&t},e.prototype._setFulfilled=function(){this._bitField|=268435456},e.prototype._setRejected=function(){this._bitField|=134217728},e.prototype._setFollowing=function(){this._bitField|=536870912},e.prototype._setIsFinal=function(){this._bitField|=33554432},e.prototype._isFinal=function(){return 0<(33554432&this._bitField)},e.prototype._cancellable=function(){return 0<(67108864&this._bitField)},e.prototype._setCancellable=function(){this._bitField|=67108864},e.prototype._unsetCancellable=function(){this._bitField&=-67108865},e.prototype._isSpreadable=function(){return 0<(131072&this._bitField)},e.prototype._setIsSpreadable=function(){this._bitField|=131072},e.prototype._setIsMigrated=function(){this._bitField|=4194304},e.prototype._unsetIsMigrated=function(){this._bitField&=-4194305},e.prototype._isMigrated=function(){return 0<(4194304&this._bitField)},e.prototype._receiverAt=function(t){return t=0===t?this._receiver0:this[5*t-5+4],this._isBound()&&void 0===t?this._boundTo:t},e.prototype._promiseAt=function(t){return 0===t?this._promise0:this[5*t-5+3]},e.prototype._fulfillmentHandlerAt=function(t){return 0===t?this._fulfillmentHandler0:this[5*t-5+0]},e.prototype._rejectionHandlerAt=function(t){return 0===t?this._rejectionHandler0:this[5*t-5+1]},e.prototype._migrateCallbacks=function(t,r){var n=t._fulfillmentHandlerAt(r),i=t._rejectionHandlerAt(r),o=t._progressHandlerAt(r),s=t._promiseAt(r),a=t._receiverAt(r);s instanceof e&&(s._setIsMigrated(),void 0===a&&(a=t,s._setIsMigratingBinding())),this._addCallbacks(n,i,o,s,a)},e.prototype._addCallbacks=function(t,e,r,n,i){var o=this._length();if(131066<=o&&(o=0,this._setLength(0)),0===o)this._promise0=n,void 0!==i&&(this._receiver0=i),"function"==typeof t&&!this._isCarryingStackTrace()&&(this._fulfillmentHandler0=t),"function"==typeof e&&(this._rejectionHandler0=e),"function"==typeof r&&(this._progressHandler0=r);else{var s=5*o-5;this[s+3]=n,this[s+4]=i,"function"==typeof t&&(this[s+0]=t),"function"==typeof e&&(this[s+1]=e),"function"==typeof r&&(this[s+2]=r)}return this._setLength(o+1),o},e.prototype._setProxyHandlers=function(t,e){var r=this._length();if(131066<=r&&(r=0,this._setLength(0)),0===r)this._promise0=e,this._receiver0=t;else{var n=5*r-5;this[n+3]=e,this[n+4]=t}this._setLength(r+1)},e.prototype._proxyPromiseArray=function(t,e){this._setProxyHandlers(t,e)},e.prototype._resolveCallback=function(t,n){if(!this._isFollowingOrFulfilledOrRejected()){if(t===this)return this._rejectCallback(r(),!1,!0);var i=p(t,this);if(!(i instanceof e))return this._fulfill(t);if(this._propagateFrom(i,1|(n?4:0)),i=i._target(),i._isPending()){for(var o=this._length(),s=0;s<o;++s)i._migrateCallbacks(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(i)}else i._isFulfilled()?this._fulfillUnchecked(i._value()):this._rejectUnchecked(i._reason(),i._getCarriedStackTrace())}},e.prototype._rejectCallback=function(t,e,r){r||o.markAsOriginatingFromRejection(t);var r=o.ensureErrorObject(t),n=o.canAttachTrace(t)&&"string"==typeof r.stack&&0<r.stack.length;this._attachExtraTrace(r,!!e&&n),this._reject(t,r===t?void 0:r)},e.prototype._resolveFromResolver=function(t){var e=this;this._captureStackTrace(),this._pushContext();var r=!0,t=j(t)(function(t){null!==e&&(e._resolveCallback(t),e=null)},function(t){null!==e&&(e._rejectCallback(t,r),e=null)}),r=!1;this._popContext(),void 0!==t&&t===m&&null!==e&&(e._rejectCallback(t.e,!0,!0),e=null)},e.prototype._settlePromiseFromHandler=function(t,e,n,i){i._isRejected()||(i._pushContext(),t=e!==l||this._isRejected()?j(t).call(e,n):j(t).apply(this._boundTo,n),i._popContext(),t===m||t===i||t===h?(t=t===i?r():t.e,i._rejectCallback(t,!1,!0)):i._resolveCallback(t))},e.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},e.prototype._followee=function(){return this._rejectionHandler0},e.prototype._setFollowee=function(t){this._rejectionHandler0=t},e.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},e.prototype._propagateFrom=function(t,e){0<(1&e)&&t._cancellable()&&(this._setCancellable(),\nthis._cancellationParent=t),0<(4&e)&&this._setBoundTo(t._boundTo)},e.prototype._fulfill=function(t){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(t)},e.prototype._reject=function(t,e){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(t,e)},e.prototype._settlePromiseAt=function(t){var r=this._promiseAt(t),n=r instanceof e;if(n&&r._isMigrated())return r._unsetIsMigrated(),s.invoke(this._settlePromiseAt,this,t);var i=this._isFulfilled()?this._fulfillmentHandlerAt(t):this._rejectionHandlerAt(t),o=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,a=this._settledValue,c=this._receiverAt(t);n&&r._isMigratingBinding()&&(r._unsetIsMigratingBinding(),c=c._boundTo),this._clearCallbackDataAtIndex(t),"function"==typeof i?n?this._settlePromiseFromHandler(i,c,a,r):i.call(c,a,r):c instanceof f?c._isResolved()||(this._isFulfilled()?c._promiseFulfilled(a,r):c._promiseRejected(a,r)):n&&(this._isFulfilled()?r._fulfill(a):r._reject(a,o)),4<=t&&4===(31&t)&&s.invokeLater(this._setLength,this,0)},e.prototype._clearCallbackDataAtIndex=function(t){0===t?(this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0):(t=5*t-5,this[t+3]=this[t+4]=this[t+0]=this[t+1]=this[t+2]=void 0)},e.prototype._isSettlePromisesQueued=function(){return-1073741824===(this._bitField&-1073741824)},e.prototype._setSettlePromisesQueued=function(){this._bitField|=-1073741824},e.prototype._unsetSettlePromisesQueued=function(){this._bitField&=1073741823},e.prototype._queueSettlePromises=function(){s.settlePromises(this),this._setSettlePromisesQueued()},e.prototype._fulfillUnchecked=function(t){return t===this?(t=r(),this._attachExtraTrace(t),this._rejectUnchecked(t,void 0)):(this._setFulfilled(),this._settledValue=t,this._cleanValues(),void(0<this._length()&&this._queueSettlePromises()))},e.prototype._rejectUncheckedCheckError=function(t){var e=o.ensureErrorObject(t);this._rejectUnchecked(t,e===t?void 0:e)},e.prototype._rejectUnchecked=function(t,e){if(t===this){var n=r();return this._attachExtraTrace(n),this._rejectUnchecked(n)}this._setRejected(),this._settledValue=t,this._cleanValues(),this._isFinal()?s.throwLater(function(t){throw"stack"in t&&s.invokeFirst(_.unhandledRejection,void 0,t),t},void 0===e?t:e):(void 0!==e&&e!==t&&this._setCarriedStackTrace(e),0<this._length()?this._queueSettlePromises():this._ensurePossibleRejectionHandled())},e.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var t=this._length(),e=0;e<t;e++)this._settlePromiseAt(e)},e._makeSelfResolutionError=r,t("./method.js")(e,u,p,i),t("./bind.js")(e,u,p),t("./finally.js")(e,h,p),t("./direct_resolve.js")(e),t("./synchronous_inspection.js")(e),t("./join.js")(e,f,p,u),o.toFastProperties(e),o.toFastProperties(e.prototype),e.Promise=e,_.setBounds(s.firstLineError,o.lastLineError),t("./cancel.js")(e),t("./map.js")(e,f,i,p,u),t("./nodeify.js")(e),t("./progress.js")(e,f),t("./promisify.js")(e,u),t("./reduce.js")(e,f,i,p,u),t("./timers.js")(e,u),t("./each.js")(e,u),t("./filter.js")(e,u),e.prototype=e.prototype,e}},{"./async.js":1,"./bind.js":2,"./cancel.js":4,"./captured_trace.js":5,"./catch_filter.js":6,"./context.js":7,"./debuggability.js":8,"./direct_resolve.js":9,"./each.js":10,"./errors.js":11,"./filter.js":13,"./finally.js":14,"./join.js":15,"./map.js":16,"./method.js":17,"./nodeify.js":18,"./progress.js":19,"./promise_array.js":21,"./promise_resolver.js":22,"./promisify.js":23,"./reduce.js":25,"./synchronous_inspection.js":27,"./thenables.js":28,"./timers.js":29,"./util.js":30}],21:[function(t,e){e.exports=function(e,r,n,i){function o(t){switch(t){case-2:return[];case-3:return{}}}function s(t){var n=this._promise=new e(r);t instanceof e&&n._propagateFrom(t,5),this._values=t,this._totalResolved=this._length=0,this._init(void 0,-2)}var a=t("./util.js").isArray;return s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function t(r,s){var c=n(this._values,this._promise);if(c instanceof e){if(c._setBoundTo(this._promise._boundTo),this._values=c=c._target(),!c._isFulfilled())return void(c._isPending()?c._then(t,this._reject,void 0,this,s):this._reject(c._reason()));if(c=c._value(),!a(c))return void this.__hardReject__(new e.TypeError("expecting an array, a promise or a thenable\\n\\n    See http://goo.gl/s8MMhc\\n"))}else if(!a(c))return void this._promise._reject(i("expecting an array, a promise or a thenable\\n\\n    See http://goo.gl/s8MMhc\\n")._reason());if(0===c.length)-5===s?this._resolveEmptyArray():this._resolve(o(s));else{var u=this.getActualLength(c.length);this._length=u,this._values=this.shouldCopyValues()?Array(u):this._values;for(var l=this._promise,h=0;h<u;++h){var p=this._isResolved(),f=n(c[h],l);f instanceof e?(f=f._target(),p?f._unsetRejectionIsUnhandled():f._isPending()?f._proxyPromiseArray(this,h):f._isFulfilled()?this._promiseFulfilled(f._value(),h):this._promiseRejected(f._reason(),h)):p||this._promiseFulfilled(f,h)}}},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},s.prototype.__hardReject__=s.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1,!0)},s.prototype._promiseProgressed=function(t,e){this._promise._progress({index:e,value:t})},s.prototype._promiseFulfilled=function(t,e){this._values[e]=t,++this._totalResolved>=this._length&&this._resolve(this._values)},s.prototype._promiseRejected=function(t){this._totalResolved++,this._reject(t)},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util.js":30}],22:[function(t,e){function r(t){return function(e,r){if(null!==t){if(e){var n;n=o(e);var s;if(n instanceof Error&&u.getPrototypeOf(n)===Error.prototype){s=new c(n),s.name=n.name,s.message=n.message,s.stack=n.stack;for(var a=u.keys(n),h=0;h<a.length;++h){var p=a[h];l.test(p)||(s[p]=n[p])}n=s}else i.markAsOriginatingFromRejection(n);t._attachExtraTrace(n),t._reject(n)}else if(2<arguments.length){for(n=arguments.length,s=Array(n-1),a=1;a<n;++a)s[a-1]=arguments[a];t._fulfill(s)}else t._fulfill(r);t=null}}}var n,i=t("./util.js"),o=i.maybeWrapAsError,s=t("./errors.js"),a=s.TimeoutError,c=s.OperationalError,s=i.haveGetters,u=t("./es5.js"),l=/^(?:name|message|stack|cause)$/;n=s?function(t){this.promise=t}:function(t){this.promise=t,this.callback=this.asCallback=r(t)},s&&(s={get:function(){return r(this.promise)}},u.defineProperty(n.prototype,"asCallback",s),u.defineProperty(n.prototype,"callback",s)),n._nodebackForPromise=r,n.prototype.toString=function(){return"[object PromiseResolver]"},n.prototype.resolve=n.prototype.fulfill=function(t){if(!(this instanceof n))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\\n\\n    See http://goo.gl/sdkXL9\\n");this.promise._resolveCallback(t)},n.prototype.reject=function(t){if(!(this instanceof n))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\\n\\n    See http://goo.gl/sdkXL9\\n");this.promise._rejectCallback(t)},n.prototype.progress=function(t){if(!(this instanceof n))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\\n\\n    See http://goo.gl/sdkXL9\\n");this.promise._progress(t)},n.prototype.cancel=function(t){this.promise.cancel(t)},n.prototype.timeout=function(){this.reject(new a("timeout"))},n.prototype.isResolved=function(){return this.promise.isResolved()},n.prototype.toJSON=function(){return this.promise.toJSON()},e.exports=n},{"./errors.js":11,"./es5.js":12,"./util.js":30}],23:[function(t,e){e.exports=function(e,r){function n(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function i(t,e,r,i){for(var o=c.inheritedDataKeys(t),s=[],a=0;a<o.length;++a){var u,l=o[a],h=t[l],p=i===_||_(l,h,t);(u="function"==typeof h)&&(u=!n(h))&&(u=c.getDataPropertyOrDefault(t,l+e,d),u=!(u&&n(u))&&i(l,h,t,p)),u&&s.push(l,h)}for(t=0;t<s.length;t+=2)if(i=s[t],r.test(i))for(i=i.replace(r,""),o=0;o<s.length;o+=2)if(s[o]===i)throw new f("Cannot promisify an API that has normal methods with \'%s\'-suffix\\n\\n    See http://goo.gl/iWrZbw\\n".replace("%s",e));return s}function o(t,n){function i(){var i=n;n===a&&(i=this),"string"==typeof t&&(t=i[t]);var o=new e(r);o._captureStackTrace(),o._setIsSpreadable();var s=u(o);try{t.apply(i,l(arguments,s))}catch(t){i=h(t),o._attachExtraTrace(i),o._reject(i)}return o}return i.__isPromisified__=!0,i}function s(t,e,r,n){for(var o=RegExp(e.replace(/([$])/,"\\\\$")+"$"),r=i(t,e,o,r),o=0,s=r.length;o<s;o+=2){var u=r[o],l=r[o+1];t[u+e]=n===y?y(u,a,u,l,e):n(l,function(){return y(u,a,u,l,e)})}return c.toFastProperties(t),t}var a={},c=t("./util.js"),u=t("./promise_resolver.js")._nodebackForPromise,l=c.withAppended,h=c.maybeWrapAsError,p=c.canEvaluate,f=t("./errors").TypeError,_=function(t,e){return c.isIdentifier(t)&&"_"!==t.charAt(0)&&!c.isClass(e)},d={__isPromisified__:!0},y=p?void 0:o;e.promisify=function(t,e){if("function"!=typeof t)throw new f("fn must be a function\\n\\n    See http://goo.gl/916lJJ\\n");return n(t)?t:y(t,2>arguments.length?a:e,void 0,t)},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new f("the target of promisifyAll must be an object or a function\\n\\n    See http://goo.gl/9ITlV0\\n");var e=Object(e),r=e.suffix;"string"!=typeof r&&(r="Async");var n=e.filter;"function"!=typeof n&&(n=_);var i=e.promisifier;if("function"!=typeof i&&(i=y),!c.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\\n\\n    See http://goo.gl/8FZo5V\\n");for(var o=c.inheritedDataKeys(t,{includeHidden:!0}),a=0;a<o.length;++a){var u=t[o[a]];"constructor"!==o[a]&&c.isClass(u)&&(s(u.prototype,r,n,i),s(u,r,n,i))}return s(t,r,n,i)}}},{"./errors":11,"./promise_resolver.js":22,"./util.js":30}],24:[function(t,e){function r(t){this._capacity=t,this._front=this._length=0}r.prototype._willBeOverCapacity=function(t){return this._capacity<t},r.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},r.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1),e=(this._front-1&e-1^e)-e,this[e]=t,this._front=e,this._length=this.length()+1},r.prototype.unshift=function(t,e,r){this._unshiftOne(r),this._unshiftOne(e),this._unshiftOne(t)},r.prototype.push=function(t,e,r){var n=this.length()+3;if(this._willBeOverCapacity(n))this._pushOne(t),this._pushOne(e),this._pushOne(r);else{var i=this._front+n-3;this._checkCapacity(n);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=r,this._length=n}},r.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;for(var t=this._front+this._length&e-1,r=0;r<t;++r)this[r+e]=this[r+0],this[r+0]=void 0},e.exports=r},{}],25:[function(t,e){e.exports=function(e,r,n,i,o){function s(t,r,n,s){this.constructor$(t),this._promise._captureStackTrace(),this._preservedValues=s===o?[]:null,this._zerothIsAccum=void 0===n,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var t=i(n,this._promise),s=!1,a=t instanceof e;a&&(t=t._target(),t._isPending()?t._proxyPromiseArray(this,-1):t._isFulfilled()?(n=t._value(),this._gotAccum=!0):(this._reject(t._reason()),s=!0)),!a&&!this._zerothIsAccum&&(this._gotAccum=!0),this._callback=r,this._accum=n,s||this._init$(void 0,-5)}function a(t,e,r,i){return"function"!=typeof e?n("fn must be a function\\n\\n    See http://goo.gl/916lJJ\\n"):new s(t,e,r,i).promise()}var c=t("./util.js"),u=c.tryCatch,l=c.errorObj;c.inherits(s,r),s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},s.prototype._promiseFulfilled=function(t,r){var n=this._values;n[r]=t;var o,s=this.length(),a=this._preservedValues,c=null!==a,h=this._gotAccum,p=this._valuesPhase;if(!p)for(p=this._valuesPhase=Array(s),o=0;o<s;++o)p[o]=0;if(o=p[r],0===r&&this._zerothIsAccum?(this._accum=t,this._gotAccum=h=!0,p[r]=0===o?1:2):-1===r?(this._accum=t,this._gotAccum=h=!0):0===o?p[r]=1:(p[r]=2,this._accum=t),h){for(var h=this._callback,f=this._promise._boundTo,_=this._reducingIndex;_<s;++_)if(o=p[_],2===o)this._reducingIndex=_+1;else{if(1!==o)return;if(t=n[_],this._promise._pushContext(),c?(a.push(t),o=u(h).call(f,t,_,s)):o=u(h).call(f,this._accum,t,_,s),this._promise._popContext(),o===l)return this._reject(o.e);var d=i(o,this._promise);if(d instanceof e){if(d=d._target(),d._isPending())return p[_]=4,d._proxyPromiseArray(this,_);if(!d._isFulfilled())return this._reject(d._reason());o=d._value()}this._reducingIndex=_+1,this._accum=o}this._resolve(c?a:this._accum)}},e.prototype.reduce=function(t,e){return a(this,t,e,null)},e.reduce=function(t,e,r,n){return a(t,e,r,n)}}},{"./util.js":30}],26:[function(t,e){var r;t("./util.js").isNode?(r=process.version.split(".").map(Number),r=0===r[0]&&10<r[1]||0<r[0]?global.setImmediate:process.nextTick):"undefined"!=typeof MutationObserver?(r=function(t){var e=document.createElement("div");return new MutationObserver(t).observe(e,{attributes:!0}),function(){e.classList.toggle("foo")}},r.isStatic=!0):r="undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw Error("No async scheduler available\\n\\n    See http://goo.gl/m3OTXk\\n")},e.exports=r},{"./util.js":30}],27:[function(t,e){e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValue=t._settledValue):(this._bitField=0,this._settledValue=void 0)}e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\\n\\n    See http://goo.gl/hc1DLj\\n");return this._settledValue},e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\\n\\n    See http://goo.gl/hPuiwB\\n");return this._settledValue},e.prototype.isFulfilled=t.prototype._isFulfilled=function(){return 0<(268435456&this._bitField)},e.prototype.isRejected=t.prototype._isRejected=function(){return 0<(134217728&this._bitField)},e.prototype.isPending=t.prototype._isPending=function(){return 0===(402653184&this._bitField)},e.prototype.isResolved=t.prototype._isResolved=function(){return 0<(402653184&this._bitField)},t.prototype.isPending=function(){return this._target()._isPending()},t.prototype.isRejected=function(){return this._target()._isRejected()},t.prototype.isFulfilled=function(){return this._target()._isFulfilled()},t.prototype.isResolved=function(){return this._target()._isResolved()},t.prototype._value=function(){return this._settledValue},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue},t.prototype.value=function(){var t=this._target();if(!t.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\\n\\n    See http://goo.gl/hc1DLj\\n");return t._settledValue},t.prototype.reason=function(){var t=this._target();if(!t.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\\n\\n    See http://goo.gl/hPuiwB\\n");return t._unsetRejectionIsUnhandled(),t._settledValue},t.PromiseInspection=e}},{}],28:[function(t,e){e.exports=function(e,r){function n(t){return t.then}function i(t,n,i){var a=new e(r),c=a;i&&i._pushContext(),a._captureStackTrace(),i&&i._popContext();var u=!0,n=o.tryCatch(n).call(t,function(r){a&&(t===r?a._rejectCallback(e._makeSelfResolutionError(),!1,!0):a._resolveCallback(r),a=null)},function(t){a&&(a._rejectCallback(t,u,!0),a=null)},function(t){a&&"function"==typeof a._progress&&a._progress(t)}),u=!1;return a&&n===s&&(a._rejectCallback(n.e,!0,!0),a=null),c}var o=t("./util.js"),s=o.errorObj,a=o.isObject,c={}.hasOwnProperty;return function(t,u){if(a(t)){if(t instanceof e)return t;if(c.call(t,"_promise0")){var l=new e(r);return t._then(l._fulfillUnchecked,l._rejectUncheckedCheckError,l._progressUnchecked,l,null),l}if(l=o.tryCatch(n)(t),l===s)return u&&u._pushContext(),l=e.reject(l.e),u&&u._popContext(),l;if("function"==typeof l)return i(t,l,u)}return t}}},{"./util.js":30}],29:[function(t,e){e.exports=function(e,r){function n(t){var e=this;return e instanceof Number&&(e=+e),clearTimeout(e),t}function i(t){var e=this;throw e instanceof Number&&(e=+e),clearTimeout(e),t}var o=t("./util.js"),s=e.TimeoutError,a=function(t){return c(+this).thenReturn(t)},c=e.delay=function(t,n){if(void 0===n){var n=t,t=void 0,i=new e(r);return setTimeout(function(){i._fulfill()},n),i}return e.resolve(t)._then(a,null,null,+n,void 0)};e.prototype.delay=function(t){return c(this,t)},e.prototype.timeout=function(t,e){var t=+t,r=this.then().cancellable();r._cancellationParent=this;var a=setTimeout(function(){var t=e;r.isPending()&&("string"!=typeof t&&(t="operation timed out"),t=new s(t),o.markAsOriginatingFromRejection(t),r._attachExtraTrace(t),r._cancel(t))},t);return r._then(n,i,void 0,a,void 0)}}},{"./util.js":30}],30:[function(t,e){function r(){try{return c.apply(this,arguments)}catch(t){return p.e=t,p}}function n(t){return"string"==typeof t?t:""+t}function i(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function o(t,e,r){return i(t)?t:(u.defineProperty(t,e,{value:r,configurable:!0,enumerable:!1,writable:!0}),t)}function s(t){return t instanceof Error&&u.propertyIsWritable(t,"stack")}function a(t){return{}.toString.call(t)}var c,u=t("./es5.js"),l="undefined"==typeof navigator,h=function(){try{var t={};return u.defineProperty(t,"f",{get:function(){return 3}}),3===t.f}catch(t){return!1}}(),p={e:{}},f=function(){return"string"!==this}.call("string"),_=function(){return u.isES5?function(t,e){for(var r=[],n=Object.create(null),i=Object(e).includeHidden?Object.getOwnPropertyNames:Object.keys;null!=t;){var o;try{o=i(t)}catch(t){break}for(var s=0;s<o.length;++s){var a=o[s];if(!n[a]){n[a]=!0;var c=Object.getOwnPropertyDescriptor(t,a);null!=c&&null==c.get&&null==c.set&&r.push(a)}}t=u.getPrototypeOf(t)}return r}:function(t){var e,r=[];for(e in t)r.push(e);return r}}(),d=/^[a-z$_][a-z$_0-9]*$/i,y=function(){return"stack"in Error()?function(t){return s(t)?t:Error(t+"")}:function(t){if(s(t))return t;try{throw Error(t+"")}catch(t){return t}}}(),l={isClass:function(t){try{if("function"==typeof t){var e=u.keys(t.prototype);return 0<e.length&&!(1===e.length&&"constructor"===e[0])}return!1}catch(t){return!1}},isIdentifier:function(t){return d.test(t)},inheritedDataKeys:_,getDataPropertyOrDefault:function(t,e,r){return u.isES5?(t=Object.getOwnPropertyDescriptor(t,e),null!=t?null==t.get&&null==t.set?t.value:r:void 0):{}.hasOwnProperty.call(t,e)?t[e]:void 0},thrower:function(t){throw t},isArray:u.isArray,haveGetters:h,notEnumerableProp:o,isPrimitive:i,isObject:function(t){return!i(t)},canEvaluate:l,errorObj:p,tryCatch:function(t){return c=t,r},inherits:function(t,e){function r(){this.constructor=t,this.constructor$=e;for(var r in e.prototype)n.call(e.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=e.prototype[r])}var n={}.hasOwnProperty;return r.prototype=e.prototype,t.prototype=new r,t.prototype},withAppended:function(t,e){var r,n=t.length,i=Array(n+1);for(r=0;r<n;++r)i[r]=t[r];return i[r]=e,i},asString:n,maybeWrapAsError:function(t){return i(t)?Error(n(t)):t},wrapsPrimitiveReceiver:f,toFastProperties:function(t){function e(){}return e.prototype=t,e},filledRange:function(t,e,r){for(var n=Array(t),i=0;i<t;++i)n[i]=e+i+r;return n},toString:function(t){return t+""},canAttachTrace:s,ensureErrorObject:y,originatesFromRejection:function(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{o(t,"isOperational",!0)}catch(t){}},classString:a,isNode:"undefined"!=typeof process&&"[object process]"===a(process).toLowerCase()};try{throw Error()}catch(t){l.lastLineError=t}e.exports=l},{"./es5.js":12}]},{},[3])(3)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise);',
pre:!0},"modules/devkit-core/src/clientapi/debugging/nativeShim.js":{path:"modules/devkit-core/src/clientapi/debugging/nativeShim.js",friendlyPath:"..debugging.nativeShim",directory:"modules/devkit-core/src/clientapi/debugging/",filename:"nativeShim.js",src:'jsio("import lib.PubSub"),jsio("import lib.Callback"),exports.isShim=!0,exports.backButton=new lib.PubSub,exports.dialogs={showDialog:function(){logger.LOG&&console.log("LOG","..debugging.nativeShim","Showing a dialog!")},showAppRater:function(){logger.LOG&&console.log("LOG","..debugging.nativeShim","Showing rate dialog!")}};var _withContacts=new lib.Callback;_withContacts.fire(),exports.contacts=merge(new lib.PubSub,{getContactList:function(){return[]},withContacts:function(){_withContacts.forward(arguments)},sendAutomatedSMS:function(n,o,e){logger.LOG&&console.log("LOG","..debugging.nativeShim","Send Automated SMS:",n,o),e&&e()},sendSMS:function(n,o,e){logger.LOG&&console.log("LOG","..debugging.nativeShim","Send SMS:",n,o),e&&e()},getPicture:function(){return null},getPictures:function(){return null},getPictureBase64:function(){return null}});var _withPhoneNumber=new lib.Callback;_withPhoneNumber.fire(null),_withPhoneNumber=new lib.Callback,_withPhoneNumber.fire(null),exports.profile={fullName:"",getPicture:function(){return null},getPictureBase64:function(){return null},withPhoneNumber:function(){_withPhoneNumber.forward(arguments)}},exports.sound={playSound:function(){logger.LOG&&console.log("LOG","..debugging.nativeShim","NATIVE shim: play a sound")},loadSound:function(){logger.LOG&&console.log("LOG","..debugging.nativeShim","NATIVE shim: load a sound")},pauseSound:function(){logger.LOG&&console.log("LOG","..debugging.nativeShim","NATIVE shim: pause a sound")},stopSound:function(){logger.LOG&&console.log("LOG","..debugging.nativeShim","NATIVE shim: stop a sound")},setVolume:function(){logger.LOG&&console.log("LOG","..debugging.nativeShim","NATIVE shim: set the volume of a sound")},loadBackgroundMusic:function(){logger.LOG&&console.log("LOG","..debugging.nativeShim","NATIVE shim: load background music")},playBackgroundMusic:function(){logger.LOG&&console.log("LOG","..debugging.nativeShim","NATIVE shim: play background music")},registerMusic:function(){logger.LOG&&console.log("LOG","..debugging.nativeShim","NATIVE shim: register background music")}},exports.events={registerHandler:function(){}},exports.plugins={sendEvent:function(n,o){logger.LOG&&console.log("LOG","..debugging.nativeShim","NATIVE shim: send a "+o+" event to the "+n+" plugin")},sendRequest:function(n,o){logger.LOG&&console.log("LOG","..debugging.nativeShim","NATIVE shim: send a "+o+" request to the "+n+" plugin")}},exports.alerts=new lib.PubSub,merge(exports.alerts,{onNotificationLoad:function(){},showNotification:function(){return-1},showRecurringNotification:function(){return logger.LOG&&console.log("LOG","..debugging.nativeShim","Setting up a recurring notification!"),-1}}),exports.social=new lib.PubSub,exports.isSimulator=function(){return jsio("import device").isNativeSimulator},GLOBAL.NATIVE||(GLOBAL.NATIVE=exports);',pre:!0},"modules/devkit-core/node_modules/jsio/packages/lib/PubSub.js":{path:"modules/devkit-core/node_modules/jsio/packages/lib/PubSub.js",friendlyPath:"lib.PubSub",directory:"modules/devkit-core/node_modules/jsio/packages/lib/",filename:"PubSub.js",baseMod:"lib",basePath:"/Users/tsunami/projects/devkitPoj/BubbleShooter/modules/devkit-core/node_modules/jsio/packages/lib",src:'jsio("from ..std.uuid import uuid");var ctx=jsio.__env.global,SLICE=Array.prototype.slice,Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_node_modules_jsio_packages_lib_PubSub=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_node_modules_jsio_packages_lib_PubSub(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){},this.publish=function(s){if(this._subscribers){var i=SLICE.call(arguments,1);if(this._subscribers.__any)for(var t,e=[s].concat(i),r=this._subscribers.__any.slice(0),n=0;t=r[n];++n)t.apply(ctx,e);if(!this._subscribers[s])return this;for(r=this._subscribers[s].slice(0),n=0;t=r[n];++n)t.apply(ctx,i)}return this},this.subscribe=function(s,i,t){var e;2==arguments.length?e=i:(e=bind.apply(GLOBAL,SLICE.call(arguments,1)),e._ctx=i,e._method=t);var r=this._subscribers||(this._subscribers={});return(r[s]||(r[s]=[])).push(e),this},this.subscribeOnce=function(s,i,t){var e=arguments,r=bind(this,function(){this.unsubscribe(s,r),2==e.length?i.apply(GLOBAL,arguments):bind.apply(GLOBAL,SLICE.call(e,1)).apply(GLOBAL,arguments)});return 3<=e.length&&(r._ctx=i,r._method=t),this.subscribe(s,r)},this.unsubscribe=function(s,i,t){if(!this._subscribers||!this._subscribers[s])return this;for(var e,s=this._subscribers[s],r=0;e=s[r];++r)(e==i||e._ctx==i&&(!t||e._method==t))&&s.splice(r--,1);return this},this.listeners=function(s){return this._subscribers=this._subscribers?this._subscribers:{},this.hasOwnProperty.call(this._subscribers,s)?this._subscribers[s]:this._subscribers[s]=[]},this.addListener=this.on=function(s,i){return this.listeners(s).length+1>this._maxListeners&&0!==this._maxListeners&&"undefined"!=typeof console&&console.warn("Possible EventEmitter memory leak detected. "+this._subscribers[s].length+" listeners added. Use emitter.setMaxListeners() to increase limit."),this.emit("newListener",s,i),this.subscribe(s,this,i)},this.once=function(s,i){return this.subscribeOnce(s,this,i)},this.removeListener=function(s,i){return this.unsubscribe(s,this,i),this},this.removeAllListeners=function(s){if(this._subscribers)for(var i in this._subscribers)(null==s||s==i)&&delete this._subscribers[i];return this},this.emit=function(s){return this.publish.apply(this,arguments),0<this.listeners(s).length},this._maxListeners=10,this.setMaxListeners=function(s){this._maxListeners=s},this.hasListeners=function(s){return this._subscribers&&this._subscribers[s]&&this._subscribers[s].length},this.listenTo=function(s,i,t){var e=this._listeningTo||(this._listeningTo={}),r=s._listenId||(s._listenId=uuid(8,16));return e[r]=s,s.subscribe(i,this,t),this},this.stopListening=function(s,i,t){var e,r,n,h,u,b,c,_,o=this._listeningTo;if(!o)return this;logger.LOG&&console.log("LOG","lib.PubSub",s);var l=!i&&!t;s&&((o={})[s._listenId]=s);for(var a in o){for(s=o[a],r=i?[i]:Object.keys(s._subscribers),h=0,c=r.length;h<c;h++)if(i=r[h],e=s._subscribers[i]){for(s._subscribers[i]=n=[],u=0,b=e.length;u<b;u++)_=e[u],(t&&t!==_._method||this&&this!==_._ctx)&&n.push(_);n.length||delete s._subscribers[i]}l&&delete this._listeningTo[a]}return this}});',pre:!0},"modules/devkit-core/node_modules/jsio/packages/std/uuid.js":{path:"modules/devkit-core/node_modules/jsio/packages/std/uuid.js",friendlyPath:"..std.uuid",directory:"modules/devkit-core/node_modules/jsio/packages/std/",filename:"uuid.js",src:'var CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");exports.uuid=function(r,a){var n=CHARS,o=[],t=Math.random,a=a||n.length;if(r)for(var e=0;e<r;e++)o[e]=n[0|t()*a];else{var i;for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",e=0;36>e;e++)o[e]||(i=0|16*t(),o[e]=n[19==e?3&i|8:15&i])}return o.join("")};',pre:!0},"modules/devkit-core/node_modules/jsio/packages/lib/Callback.js":{path:"modules/devkit-core/node_modules/jsio/packages/lib/Callback.js",friendlyPath:"lib.Callback",directory:"modules/devkit-core/node_modules/jsio/packages/lib/",filename:"Callback.js",src:'var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_node_modules_jsio_packages_lib_Callback=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_node_modules_jsio_packages_lib_Callback(function(){return this.init&&this.init.apply(this,arguments)},function(){this._fired=!1,this._id=0,this._pending=null,this.init=function(){this._run=[]},this.hasFired=this.fired=function(){return this._fired},this.reset=function(){this._args=[],this._fired=!1},this.clear=function(){this.reset(),this._run=[],this._stat=this._pending=null},this.forward=function(i){this.run.apply(this,i)},this.run=function(i,t){var s=t?bind.apply(this,arguments):i;return s&&(this._fired?s.apply(this,this._args):this._run.push(s)),this},this.runOrTimeout=function(i,t,s){if(i||t)if(this._fired)i.apply(this,this._args);else{var r=bind(this,function(){clearTimeout(e),i.apply(this,this._args)});this.run(r);var e=setTimeout(bind(this,function(){for(var i=0,s=this._run.length;i<s;++i)if(this._run[i]==r){this._run.splice(i,1);break}t()}),s)}},this.fire=function(){if(!this._fired){this._fired=!0;var i=this._run;this._args=arguments;for(var t=0,s=i.length;t<s;++t)i[t]&&i[t].apply(this,arguments)}},this.chain=function(i){return this._pending||(this._pending={}),void 0===i&&(i=this._id++),this._pending[i]=!0,this.reset(),bind(this,"_deferred",i)},this._deferred=function(i){if(this._stat||(this._stat={}),!this._stat.hasOwnProperty(i)){this._stat[i]=Array.prototype.slice.call(arguments,1);var t=this._pending;delete t[i];for(i in t)if(t.hasOwnProperty(i))return;this.fire(this._stat)}}});',pre:!0},"modules/devkit-core/modules/timestep/src/device.js":{path:"modules/devkit-core/modules/timestep/src/device.js",friendlyPath:"device",directory:"modules/devkit-core/modules/timestep/src/",filename:"device.js",baseMod:"device",basePath:"/Users/tsunami/projects/devkitPoj/BubbleShooter/modules/devkit-core/modules/timestep/src/device",src:'jsio("import userAgent"),jsio("import util.setProperty"),jsio("import event.Emitter as Emitter"),"undefined"!=typeof navigator&&navigator.userAgent||(logger.WARN&&console.warn("WARN","device","Timestep was unable to determine your device! Please check that navigator.userAgent is defined."),exports={isUnknown:!0});var ua=navigator.userAgent,_devices={};exports.registerDevice=function(e,t){_devices[e]=t},exports.get=function(e){return"InputPrompt"==e?jsio("import ui.InputPrompt"):jsio("import "+(_devices[exports.name]||"platforms.browser")+"."+e,{dontExport:!0,suppressErrors:!0})},exports.importUI=function(e){return jsio("import ui.backend."+(exports.useDOM?"dom":"canvas")+"."+e,{dontExport:!0,suppressErrors:!0})},exports.isMobileNative=exports.isMobile=/TeaLeaf/.test(ua),logger.LOG&&console.log("LOG","device",exports.isMobile?"on mobile device":"in web browser"),exports.screen=new Emitter;var devicePixelRatio=window.devicePixelRatio||1;if(exports.devicePixelRatio=devicePixelRatio,exports.screen.defaultDevicePixelRatio=devicePixelRatio,exports.screen.devicePixelRatio=devicePixelRatio,exports.screen.width=window.innerWidth*devicePixelRatio,exports.screen.height=window.innerHeight*devicePixelRatio,exports.setDevicePixelRatio=function(e){if("browser"!==userAgent.APP_RUNTIME)logger.WARN&&console.warn("WARN","device","device.setDevicePixelRatio is only supported in browsers!");else{exports.devicePixelRatio=exports.screen.devicePixelRatio=e;var t=Math.floor(window.innerWidth*e),e=Math.floor(window.innerHeight*e);exports.width=exports.screen.width=t,exports.height=exports.screen.height=e,exports.screen.publish("Resize",t,e)}},exports.hideAddressBar=function(){},util.setProperty(exports,"defaultFontFamily",{cb:function(e){jsio("import ui.resource.Font"),ui.resource.Font.setDefaultFontFamily(e)},value:"Helvetica"}),exports.defaultFontWeight="",exports.events="ontouchstart"in window&&!/BlackBerry/.test(ua)?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"},exports.isMobileBrowser=!1,exports.isUIWebView=!1,exports.isSafari=/Safari/.test(ua),exports.isSimulator=GLOBAL.CONFIG&&!!CONFIG.simulator,exports.isSimulator?(exports.isIOSSimulator=/iphone|ipod|ipad/i.test(CONFIG.simulator.deviceType),exports.isAndroidSimulator=!exports.isIOSSimulator,exports.isNativeSimulator=/^native/.test(CONFIG.target)):(exports.isAndroidSimulator=!1,exports.isIOSSimulator=!1,exports.isNativeSimulator=!1),exports.isMobile)exports.name="tealeaf",exports.width=navigator.width,exports.height=navigator.height,exports.isAndroid=/Android/.test(ua),exports.isAndroid?exports.isTablet=600<=navigator.width/devicePixelRatio:(exports.isIPad=exports.isTablet=/iPad/.test(ua),exports.isIPhone=/iPhone/.test(ua),exports.isIOS=!0);else{if(/(iPod|iPhone|iPad)/i.test(ua)){exports.name="browser",exports.isMobileBrowser=!0,exports.isIOS=!0,exports.isIpad=/iPad/i.test(ua),exports.isStandalone=!!window.navigator.standalone;var match=ua.match(/iPhone OS ([0-9]+)/);exports.iosVersion=match&&parseInt(match[1]),exports.isUIWebView=!exports.isSafari,exports.screen.defaultOrientation="portrait",exports.screen.browserChrome={portrait:{top:20*devicePixelRatio,bottom:44*devicePixelRatio},landscape:{top:20*devicePixelRatio,bottom:32*devicePixelRatio}}}else/Mobile Safari/.test(ua)||/Android/.test(ua)||/BlackBerry/.test(ua)?(exports.name="browser",exports.isMobileBrowser=!0,exports.isAndroid=!0,exports.screen.width=window.outerWidth,exports.screen.height=window.outerHeight-1,exports.screen.defaultOrientation="portrait",exports.screen.browserChrome={portrait:{top:0,bottom:0},landscape:{top:0,bottom:0}}):(exports.screen.width=window.innerWidth,exports.screen.height=window.innerHeight,exports.name="browser",exports.canResize=!1);exports.width=exports.screen.width,exports.height=exports.screen.height}exports.useDOM=!1,exports.setUseDOM=function(){console.warn("Attempting to set \'useDom\' property, which is no longer supported.")},exports.getDimensions=function(e){var t=Math.min(exports.width,exports.height),o=Math.max(exports.width,exports.height);return e?{height:t,width:o}:{height:o,width:t}},exports.init=function(){jsio("import ui.init"),exports.get("initialize").init(),exports.screen.width=exports.width,exports.screen.height=exports.height},exports.setBackButtonHandler=function(e){NATIVE&&(NATIVE.onBackButton=e)},exports.setRotationHandler=function(e){NATIVE&&(NATIVE.onRotation=e)},exports.stayAwake=function(e){NATIVE&&NATIVE.stayAwake&&NATIVE.stayAwake(e)},exports.collectGarbage=function(){logger.LOG&&console.log("LOG","device","collecting garbage"),NATIVE&&NATIVE.gc&&NATIVE.gc.runGC()};',pre:!0},"modules/devkit-core/modules/timestep/src/userAgent.js":{path:"modules/devkit-core/modules/timestep/src/userAgent.js",friendlyPath:"userAgent",directory:"modules/devkit-core/modules/timestep/src/",filename:"userAgent.js",baseMod:"userAgent",basePath:"/Users/tsunami/projects/devkitPoj/BubbleShooter/modules/devkit-core/modules/timestep/src/userAgent",src:'var UserAgent=__class__,UserAgent=UserAgent(function(){return this.init&&this.init.apply(this,arguments)},function(){var t=navigator&&navigator.userAgent,n=/TeaLeaf/.test(t),r=/iPod|iPhone|iPad/i.test(t),i=/Android/.test(t),e=/Mac OS X [0-9_]+/.test(t),s=/iPhone OS/.test(t),o=/Safari/.test(t),a=/Chrome/.test(t),h=/Firefox/.test(t),S=GLOBAL.CONFIG&&!!CONFIG.simulator,g="unknown",c="unknown",m="unknown",_="unknown",d="unknown",O="unknown";n?(g="native",c="mobile"):(g="browser",c=r||i?"mobile":"desktop"),i?(m="Android",osVersionString=t.match(/Android[/\\s][\\d.]+/)[0],_=osVersionString.match(/[\\d.]+/)[0]):s?(m="iPhone OS",osVersionString=t.match(/iPhone OS [0-9_]+/)[0],_=osVersionString.match(/[0-9_]+/)[0].replace(/_/g,".")):e&&(m="Mac OS X",osVersionString=t.match(/Mac OS X [0-9_]+/)[0],_=osVersionString.match(/[0-9_]+/)[0].replace(/_/g,".")),a?(O="Chrome",browserVersionString=t.match(/Chrome[/\\s][\\d.]+/)[0],d=browserVersionString.match(/[\\d.]+/)[0]):o?(O="Safari",browserVersionString=t.match(/Safari[/\\s][\\d.]+/)[0],d=browserVersionString.match(/[\\d.]+/)[0]):h&&(O="Firefox",browserVersionString=t.match(/Firefox[/\\s][\\d.]+/)[0],d=browserVersionString.match(/[\\d.]+/)[0]),this.USER_AGENT=t,this.OS_TYPE=m,this.OS_VERSION=_,this.APP_RUNTIME=g,this.DEVICE_TYPE=c,this.BROWSER_TYPE=O,this.BROWSER_VERSION=d,this.SIMULATED=S});exports=new UserAgent;',pre:!0},"modules/devkit-core/node_modules/jsio/packages/util/setProperty.js":{path:"modules/devkit-core/node_modules/jsio/packages/util/setProperty.js",friendlyPath:"util.setProperty",directory:"modules/devkit-core/node_modules/jsio/packages/util/",filename:"setProperty.js",baseMod:"util",basePath:"/Users/tsunami/projects/devkitPoj/BubbleShooter/modules/devkit-core/node_modules/jsio/packages/util",src:'function createGetter(e,t){return function(){return this[t]}}function createSetter(e,t,i,n){return void 0!==n&&(e[t]=n),"function"==typeof i?function(e){if(this[t]!==e){var n=this[t];this[t]=e,i.call(this,t,e,n)}}:"string"==typeof i?function(e){if(this[t]!==e){var n=this[t];this[t]=e,this[i](t,e,n)}}:function(e){this[t]=e}}exports=function(e,t,i){!i.get&&!i.set&&!i.cb&&"value"in i?e[t]=i.value:(i.get||(i.get=createGetter(e,"_"+t)),i.set||(i.set=createSetter(e,"_"+t,i.cb,i.value)),"value"in i&&(e["_"+t]=i.value),delete i.value,Object.defineProperty?Object.defineProperty(e,t,i):e.__defineSetter__?(e.__defineSetter__(t,i.set),e.__defineGetter__(t,i.get)):e[t]=i.value)};',pre:!0},"modules/devkit-core/modules/timestep/src/event/Emitter.js":{path:"modules/devkit-core/modules/timestep/src/event/Emitter.js",friendlyPath:"event.Emitter",directory:"modules/devkit-core/modules/timestep/src/event/",filename:"Emitter.js",baseMod:"event",basePath:"/Users/tsunami/projects/devkitPoj/BubbleShooter/modules/devkit-core/modules/timestep/src/event",src:'jsio("import lib.PubSub as exports");',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/doc.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/doc.js",friendlyPath:".doc",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/",filename:"doc.js",src:'jsio("import lib.PubSub"),jsio("import lib.Enum as Enum"),jsio("from util.browser import $"),jsio("import device"),jsio("import userAgent");var isIOS7=7===device.iosVersion,isIOSSafari=7<=device.iosVersion&&!device.isIpad&&!device.isStandalone&&!device.isUIWebView,enableLandscapeScroll=isIOSSafari&&window.parent===window,SCALING=Enum("FIXED","RESIZE","MANUAL"),defaultScalingMode=!device.isMobileNative||device.simulating?SCALING.RESIZE:SCALING.FIXED,Document=__class__,Document=Document(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){this.init=function(){if($){var e=GLOBAL.document;this._el=$({parent:e&&e.body,style:{position:"absolute",overflow:"hidden",width:"100%",height:"100%",transform:"skewx(0.00001deg)"}}),device.screen.subscribe("Resize",this,"onResize"),exports.postCreateHook&&exports.postCreateHook(this),this.setScalingMode(defaultScalingMode)}},this.unsubscribeResize=function(){device.screen.unsubscribe("Resize",this,"onResize")},this.setEngine=function(e){e!=this._engine&&((e.getOpt("minIOSLandscapeScroll")>device.iosVersion||e.getOpt("disableIOSLandscapeScroll"))&&(enableLandscapeScroll=!1),this._engine=e,this._canvas=this._engine.getCanvas(),enableLandscapeScroll&&(this._canvas.style.position="fixed"),this.appendChild(this._canvas),this._canvas.getContext&&(e=this._canvas.getContext(window.WebGLRenderingContext?"webgl":"2d"),e.setParentNode&&e.setParentNode(this._el)))},this.getElement=function(){return this._el},this.setScalingMode=function(e,i){this._scalingMode=e;var t=this._el.style;switch(e){case SCALING.FIXED:i=merge(i,{width:device.width,height:device.height}),t.width=i.width+"px",t.height=i.height+"px";break;case SCALING.RESIZE:i=merge(i,{resizeCanvas:!0});case SCALING.MANUAL:t.margin="0px",t.width="100%",t.height="100%"}this._scalingOpts=i,this.onResize(),setTimeout(bind(this,"onResize"),1e3)},this.onResize=function(){var e="iPhone OS"===userAgent.OS_TYPE,i=this._el,t=this._el.style,s=device.screen.orientation;i.className=s,enableLandscapeScroll?(document.documentElement.style.height="landscape"===s&&isIOS7?320==window.innerHeight?"320px":"640px":"100%",document.body.style.height=isIOS7?"100%":"150%"):document.body.style.height="100%",logger.LOG&&console.log("LOG",".doc","resize",device.width,device.height);var s=device.width,n=device.height,h=this._scalingMode,o=this._scalingOpts;h==SCALING.FIXED&&(s=o.width,n=o.height),o.maxWidth&&s>o.maxWidth&&(s=o.maxWidth,h==SCALING.RESIZE&&(h=SCALING.FIXED)),o.maxHeight&&n>o.maxHeight&&(n=o.maxHeight,h==SCALING.RESIZE&&(h=SCALING.FIXED));var a=e&&this._engine&&this._engine.isRunning;switch(h){case SCALING.FIXED:i.style.top=Math.round(Math.max(0,(window.innerHeight-n)/2))+"px",i.style.left=Math.round(Math.max(0,(window.innerWidth-s)/2))+"px",t.width=s+"px",t.height=n+"px";break;case SCALING.RESIZE:var d=this._canvas&&this._canvas.style,h=device.screen.devicePixelRatio,i=s/h,h=n/h;if(o.resizeCanvas&&this._canvas&&(d.width!=i||d.height!=h)){if(this._canvas.width=s,this._canvas.height=n,o=this._canvas.getContext(),o.resize&&o.resize(s,n),a=e&&this._engine&&this._engine.isRunning,e){var c=this._engine;a&&c.pause(),d.display="none",setTimeout(function(){d.display="block",a&&c.resume()},250)}d.width=i+"px",d.height=h+"px"}t.width=i+"px",t.height=h+"px"}this._setDim(s,n),this._engine&&!a&&this._engine.render()},this._setDim=function(e,i){this.width==e&&this.height==i||(this.width=e,this.height=i,this.publish("Resize",e,i))},this.setColors=function(e,i){this._el&&(this._el.style.background=i,document.documentElement.style.background=document.body.style.background=e)},this.appendChild=function(e){this._el.appendChild(e)},this.getOffset=function(){return{x:this._el.offsetLeft,y:this._el.offsetTop}}});exports=new Document,exports.SCALING=SCALING,exports.setDocStyle=function(){var e=GLOBAL.document;e&&e.body&&(e={height:"100%",margin:"0px",padding:"0px"},$.style(document.documentElement,e),$.style(document.body,e))},exports.defaultParent=null,exports.postCreateHook=null;',pre:!0},"modules/devkit-core/node_modules/jsio/packages/lib/Enum.js":{path:"modules/devkit-core/node_modules/jsio/packages/lib/Enum.js",friendlyPath:"lib.Enum",directory:"modules/devkit-core/node_modules/jsio/packages/lib/",filename:"Enum.js",src:'exports=function(){if(1==arguments.length){if("object"==typeof arguments[0]){var r,t=arguments[0];for(r in t)t[r]in t||(t[t[r]]=r);return t}"string"!=typeof arguments[0]&&(n=arguments[0])}if(!n)var n=arguments;t={},r=0;for(var e=n.length;r<e;++r)n[r]&&(t[n[r]]=r+1),t[r+1]=n[r];return t};',pre:!0},"modules/devkit-core/node_modules/jsio/packages/util/browser.js":{path:"modules/devkit-core/node_modules/jsio/packages/util/browser.js",friendlyPath:"util.browser",directory:"modules/devkit-core/node_modules/jsio/packages/util/",filename:"browser.js",src:'function isWindow(e){return e&&!$.isElement(e)&&$.isElement(e.document)}function ieGetAlpha(e){try{return e.filters.item("alpha")}catch(e){}try{return e.filters.item("progid:DXImageTransform.Microsoft.Alpha")}catch(e){}return null}jsio("external .sizzle import Sizzle"),jsio("import math.geom.Rect");var singleId=/^#([\\w-]+)$/,$=exports.$=function(e,t){switch(typeof e){case"object":return $.isElement(e)?$.remove(e):$.isElement(e.document&&e.document.body)?$.size(e):$.create(e);case"string":return singleId.test(e)?$.id(e.substring(1),t):Sizzle.apply(GLOBAL,arguments)}},DOM2="object"==typeof HTMLElement;$.isElement=DOM2?function(e){return e&&e instanceof HTMLElement}:function(e){return e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},$.id=function(e,t){return"string"==typeof e?(t||window).document.getElementById(e):e},$.apply=function(e,t){if(t.attrs)for(attr in t.attrs)e.setAttribute(attr,t.attrs[attr]);t.id&&(e.id=t.id),t.style&&$.style(e,t.style),t.src&&(e.src=t.src),(t.class||t.className)&&(e.className=t.class||t.className);var n=t.parent||t.parentNode;if(n&&t.first?$.insertBefore(n,e,n.firstChild):t.before?$.insertBefore(t.before.parentNode||n,e,t.before):t.after?$.insertAfter(t.after.parentNode||n,e,t.after):n&&n.appendChild(e),"html"in t&&(e.innerHTML=t.html),"text"in t&&$.setText(e,t.text),t.children)for(var n=t.children,r=0,i=n.length;r<i;++r)e.appendChild($.isElement(n[r])?n[r]:$(n[r]));return e},$.insertBefore=function(e,t,n){e&&t&&(n&&n.parentNode==e?e.insertBefore(t,n):e.appendChild(t))},$.insertAfter=function(e,t,n){e&&t&&(n&&n.parentNode==e?n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):$.insertBefore(e,t,e.firstChild))},$.create=function(e){var t=(e&&e.win||window).document;return e&&"string"!=typeof e?$.apply(e.el||t.createElement(e.tag||e.tagName||"div"),e):t.createElement(e||"div")},$.show=function(e,t){$.id(e).style.display=t||"block"},$.hide=function(e){$.id(e).style.display="none"},$.addClass=function(e,t){if(e){e=$.id(e),"string"==typeof t&&(t=t.split(" "));for(var n=" "+e.className+" ",r=0,i=t.length;r<i;++r){var o=t[r];-1==n.indexOf(" "+o+" ")&&(n+=o+" ")}return e.className=n.replace(/^\\s+|\\s+$/g,""),$}},$.hasClass=function(e,t){if(!e)return!1;for(var e=$.id(e),n=e.className.split(" "),r=0,i=n.length;r<i;++r)if(n[r].trim()===t)return!0;return!1},$.getTag=function(e,t){return e.getElementsByTagName(t)},$.removeClass=function(e,t){e&&(e=$.id(e),e.className=(" "+e.className+" ").replace(" ","  ").replace(RegExp("( "+t.replace("s+"," | ").replace("-","-")+" )","g")," ").replace(/\\s+/," ").replace(/^\\s+|\\s+$/g,""))},$.style=function(e,t){if(e instanceof Array)for(var n,r=0;n=e[r];++r)$.style(n,t);else for(prop in e=$.id(e),r=e.style,t)switch(prop){case"styleFloat":case"cssFloat":case"float":r.styleFloat=r.cssFloat=t[prop];break;case"opacity":if(r.opacity=t[prop],e.filters)try{n=ieGetAlpha();var i=1==t[prop]?99.99:100*t[prop];n?n.Opacity=i:r.filter="alpha(opacity="+i+")"}catch(e){}break;case"borderRadius":r.borderRadius=r.MozBorderRadius=t[prop];break;case"boxSizing":r.MsBoxSizing=r.MozBoxSizing=r.WebkitBoxSizing=t[prop];default:r[prop]=t[prop]}},$.onEvent=function(e,t,n){"function"!=typeof n&&(n=bind.apply(GLOBAL,Array.prototype.slice.call(arguments,2)));var r=n,e=$.id(e);return e.addEventListener?e.addEventListener(t,r,!1):(r=function(e){n(e||window.event)},e.attachEvent("on"+t,r)),bind($,"removeEvent",e,t,r)},$.removeEvent=function(e,t,n){e=$.id(e),e.addEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},$.stopEvent=function(e){e&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault())},$.setText=function(e,t){e=$.id(e),t=""+t,"textContent"in e?e.textContent=t:"innerText"in e?e.innerText=t.replace(/\\n/g," "):(e.innerHTML="",e.appendChild(document.createTextNode(t)))},$.setValue=function(e,t){e=$.id(e),"value"in e?e.value=t:"value"in e.firstChild&&(e.firstChild.value=t)},$.remove=function(e){(e=$.id(e))&&e.parentNode&&e.parentNode.removeChild(e)},$.cursorPos=function(e,t){var n=$.pos(t);return n.top=e.clientY-n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop),n.left=e.clientX-n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft),n},$.pos=function(e){for(var t={top:0,left:0};e&&e!=document.body;){for(t.left+=e.offsetLeft,t.top+=e.offsetTop;e.offsetParent!=e.parentNode;)t.top-=e.scrollTop,t.left-=e.scrollLeft,e=e.parentNode;e=e.offsetParent}return t},$.size=function(e){if($.isElement(e))return{width:e.offsetWidth,height:e.offsetHeight};if(e.document){var t=e.document.documentElement||e.document.body;return new math.geom.Rect(t.offsetTop,t.offsetLeft,e.innerWidth||t.clientWidth||t.clientWidth,e.innerHeight||t.clientHeight||t.clientHeight)}},$.insertCSSFile=function(e){document.getElementsByTagName("head")[0].appendChild($({tag:"link",attrs:{rel:"stylesheet",type:"text/css",href:e}}))};',pre:!0},"modules/devkit-core/node_modules/jsio/packages/util/sizzle.js":{path:"modules/devkit-core/node_modules/jsio/packages/util/sizzle.js",friendlyPath:".sizzle",directory:"modules/devkit-core/node_modules/jsio/packages/util/",filename:"sizzle.js",src:'Sizzle=function(){function e(e,t,n,r,i,o){for(var i="previousSibling"==e&&!o,u=0,a=r.length;u<a;u++){var l=r[u];if(l){i&&1===l.nodeType&&(l.sizcache=n,l.sizset=u);for(var l=l[e],f=!1;l;){if(l.sizcache===n){f=r[l.sizset];break}if(1===l.nodeType&&!o&&(l.sizcache=n,l.sizset=u),l.nodeName===t){f=l;break}l=l[e]}r[u]=f}}}function t(e,t,n,r,i,o){for(var i="previousSibling"==e&&!o,a=0,l=r.length;a<l;a++){var f=r[a];if(f){i&&1===f.nodeType&&(f.sizcache=n,f.sizset=a);for(var f=f[e],c=!1;f;){if(f.sizcache===n){c=r[f.sizset];break}if(1===f.nodeType)if(o||(f.sizcache=n,f.sizset=a),"string"!=typeof t){if(f===t){c=!0;break}}else if(0<u.filter(t,[f]).length){c=f;break}f=f[e]}r[a]=c}}}var n=/((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^[\\]]*\\]|[\'"][^\'"]*[\'"]|[^[\\]\'"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?/g,r=0,i=Object.prototype.toString,o=!1,u=function(e,t,r,o){var r=r||[],a=t=t||document;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return r;var s,h,g,v,y=[],T=!0,b=p(t);for(n.lastIndex=0;null!==(s=n.exec(e));)if(y.push(s[1]),s[2]){v=RegExp.rightContext;break}if(1<y.length&&f.exec(e))if(2===y.length&&l.relative[y[0]])h=m(y[0]+y[1],t);else for(h=l.relative[y[0]]?[t]:u(y.shift(),t);y.length;)e=y.shift(),l.relative[e]&&(e+=y.shift()),h=m(e,h);else if(!o&&1<y.length&&9===t.nodeType&&!b&&l.match.ID.test(y[0])&&!l.match.ID.test(y[y.length-1])&&(s=u.find(y.shift(),t,b),t=s.expr?u.filter(s.expr,s.set)[0]:s.set[0]),t)for(s=o?{expr:y.pop(),set:c(o)}:u.find(y.pop(),1!==y.length||"~"!==y[0]&&"+"!==y[0]||!t.parentNode?t:t.parentNode,b),h=s.expr?u.filter(s.expr,s.set):s.set,0<y.length?g=c(h):T=!1;y.length;){var N=y.pop();s=N,l.relative[N]?s=y.pop():N="",null==s&&(s=t),l.relative[N](g,s,b)}else g=[];if(g||(g=h),!g)throw"Syntax error, unrecognized expression: "+(N||e);if("[object Array]"===i.call(g))if(T)if(t&&1===t.nodeType)for(e=0;null!=g[e];e++)g[e]&&(!0===g[e]||1===g[e].nodeType&&d(t,g[e]))&&r.push(h[e]);else for(e=0;null!=g[e];e++)g[e]&&1===g[e].nodeType&&r.push(h[e]);else r.push.apply(r,g);else c(g,r);return v&&(u(v,a,r,o),u.uniqueSort(r)),r};u.uniqueSort=function(e){if(s&&(o=!1,e.sort(s),o))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1)},u.matches=function(e,t){return u(e,null,null,t)},u.find=function(e,t,n){var r,i;if(!e)return[];for(var o=0,u=l.order.length;o<u;o++){var a=l.order[o];if(i=l.match[a].exec(e)){var f=RegExp.leftContext;if("\\\\"!==f.substr(f.length-1)&&(i[1]=(i[1]||"").replace(/\\\\/g,""),r=l.find[a](i,t,n),null!=r)){e=e.replace(l.match[a],"");break}}}return r||(r=t.getElementsByTagName("*")),{set:r,expr:e}},u.filter=function(e,t,n,r){for(var i,o,u=e,a=[],f=t,c=t&&t[0]&&p(t[0]);e&&t.length;){for(var s in l.filter)if(null!=(i=l.match[s].exec(e))){var d,m,h=l.filter[s];if(o=!1,f==a&&(a=[]),l.preFilter[s])if(i=l.preFilter[s](i,f,n,a,r,c)){if(!0===i)continue}else o=d=!0;if(i)for(var g=0;null!=(m=f[g]);g++)if(m){d=h(m,i,g,f);var v=r^!!d;n&&null!=d?v?o=!0:f[g]=!1:v&&(a.push(m),o=!0)}if(void 0!==d){if(n||(f=a),e=e.replace(l.match[s],""),!o)return[];break}}if(e==u){if(null==o)throw"Syntax error, unrecognized expression: "+e;break}u=e}return f};var a,l=u.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\\w\\u00c0-\\uFFFF_-]|\\\\.)+)/,CLASS:/\\.((?:[\\w\\u00c0-\\uFFFF_-]|\\\\.)+)/,NAME:/\\[name=[\'"]*((?:[\\w\\u00c0-\\uFFFF_-]|\\\\.)+)[\'"]*\\]/,ATTR:/\\[\\s*((?:[\\w\\u00c0-\\uFFFF_-]|\\\\.)+)\\s*(?:(\\S?=)\\s*([\'"]*)(.*?)\\3|)\\s*\\]/,TAG:/^((?:[\\w\\u00c0-\\uFFFF\\*_-]|\\\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\\((even|odd|[\\dn+-]*)\\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\))?(?=[^-]|$)/,PSEUDO:/:((?:[\\w\\u00c0-\\uFFFF_-]|\\\\.)+)(?:\\(([\'"]*)((?:\\([^\\)]+\\)|[^\\2\\(\\)]*)+)\\2\\))?/},attrMap:{class:"className",for:"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")}},relative:{"+":function(e,t,n){var r="string"==typeof t,i=r&&!/\\W/.test(t),r=r&&!i;i&&!n&&(t=t.toUpperCase());for(var o,n=0,i=e.length;n<i;n++)if(o=e[n]){for(;(o=o.previousSibling)&&1!==o.nodeType;);e[n]=r||o&&o.nodeName===t?o||!1:o===t}r&&u.filter(t,e,!0)},">":function(e,t,n){var r="string"==typeof t;if(r&&!/\\W/.test(t))for(var t=n?t:t.toUpperCase(),n=0,i=e.length;n<i;n++){var o=e[n];o&&(r=o.parentNode,e[n]=r.nodeName===t&&r)}else{for(n=0,i=e.length;n<i;n++)(o=e[n])&&(e[n]=r?o.parentNode:o.parentNode===t);r&&u.filter(t,e,!0)}},"":function(n,i,o){var u=r++,a=t;if(!/\\W/.test(i))var l=i=o?i:i.toUpperCase(),a=e;a("parentNode",i,u,n,l,o)},"~":function(n,i,o){var u=r++,a=t;if("string"==typeof i&&!/\\W/.test(i))var l=i=o?i:i.toUpperCase(),a=e;a("previousSibling",i,u,n,l,o)}},find:{ID:function(e,t,n){if("undefined"!=typeof t.getElementById&&!n)return(e=t.getElementById(e[1]))?[e]:[]},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var n=[],r=t.getElementsByName(e[1]),i=0,o=r.length;i<o;i++)r[i].getAttribute("name")===e[1]&&n.push(r[i]);return 0===n.length?null:n}},TAG:function(e,t){return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,n,r,i,o){if(e=" "+e[1].replace(/\\\\/g,"")+" ",o)return e;for(var u,o=0;null!=(u=t[o]);o++)u&&(i^(u.className&&0<=(" "+u.className+" ").indexOf(e))?n||r.push(u):n&&(t[o]=!1));return!1},ID:function(e){return e[1].replace(/\\\\/g,"")},TAG:function(e,t){for(var n=0;!1===t[n];n++);return t[n]&&p(t[n])?e[1]:e[1].toUpperCase()},CHILD:function(e){if("nth"==e[1]){var t=/(-?)(\\d*)n((?:\\+|-)?\\d*)/.exec("even"==e[2]&&"2n"||"odd"==e[2]&&"2n+1"||!/\\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}return e[0]=r++,e},ATTR:function(e,t,n,r,i,o){return t=e[1].replace(/\\\\/g,""),!o&&l.attrMap[t]&&(e[1]=l.attrMap[t]),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,r,i,o){if("not"===e[1]){if(!(1<n.exec(e[3]).length||/^\\w/.test(e[3])))return e=u.filter(e[3],t,r,1^o),r||i.push.apply(i,e),!1;e[3]=u(e[3],null,null,t)}else if(l.match.POS.test(e[0])||l.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return!1===e.disabled&&"hidden"!==e.type},disabled:function(e){return!0===e.disabled},checked:function(e){return!0===e.checked},selected:function(e){return e.parentNode.selectedIndex,!0===e.selected},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!u(n[3],e).length},header:function(e){return/h\\d/i.test(e.nodeName)},text:function(e){return"text"===e.type},radio:function(e){return"radio"===e.type},checkbox:function(e){return"checkbox"===e.type},file:function(e){return"file"===e.type},password:function(e){return"password"===e.type},submit:function(e){return"submit"===e.type},image:function(e){return"image"===e.type},reset:function(e){return"reset"===e.type},button:function(e){return"button"===e.type||"BUTTON"===e.nodeName.toUpperCase()},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,r){return t===r.length-1},even:function(e,t){return 0===t%2},odd:function(e,t){return 1===t%2},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0==t},eq:function(e,t,n){return n[3]-0==t}},filter:{PSEUDO:function(e,t,n,r){var i=t[1],o=l.filters[i];if(o)return o(e,n,t,r);if("contains"===i)return 0<=(e.textContent||e.innerText||"").indexOf(t[3]);if("not"===i){for(t=t[3],n=0,r=t.length;n<r;n++)if(t[n]===e)return!1;return!0}},CHILD:function(e,t){var n=t[1],r=e;switch(n){case"only":case"first":for(;r=r.previousSibling;)if(1===r.nodeType)return!1;if("first"==n)return!0;r=e;case"last":for(;r=r.nextSibling;)if(1===r.nodeType)return!1;return!0;case"nth":var n=t[2],i=t[3];if(1==n&&0==i)return!0;var o=t[0],u=e.parentNode;if(u&&(u.sizcache!==o||!e.nodeIndex)){for(var a=0,r=u.firstChild;r;r=r.nextSibling)1===r.nodeType&&(r.nodeIndex=++a);u.sizcache=o}return r=e.nodeIndex-i,0==n?0==r:0==r%n&&0<=r/n}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||e.nodeName===t},CLASS:function(e,t){return-1<(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)},ATTR:function(e,t){var n=t[1],n=l.attrHandle[n]?l.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),r=n+"",i=t[2],o=t[4];return null==n?"!="===i:"="===i?r===o:"*="===i?0<=r.indexOf(o):"~="===i?0<=(" "+r+" ").indexOf(o):o?"!="===i?r!=o:"^="===i?0===r.indexOf(o):"$="===i?r.substr(r.length-o.length)===o:"|="===i&&(r===o||r.substr(0,o.length+1)===o+"-"):r&&!1!==n},POS:function(e,t,n,r){var i=l.setFilters[t[2]];if(i)return i(e,n,t,r)}}},f=l.match.POS;for(a in l.match)l.match[a]=RegExp(l.match[a].source+/(?![^\\[]*\\])(?![^\\(]*\\))/.source);var c=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(e){c=function(e,t){var n=t||[];if("[object Array]"===i.call(e))Array.prototype.push.apply(n,e);else if("number"==typeof e.length)for(var r=0,o=e.length;r<o;r++)n.push(e[r]);else for(r=0;e[r];r++)n.push(e[r]);return n}}var s;document.documentElement.compareDocumentPosition?s=function(e,t){var n=4&e.compareDocumentPosition(t)?-1:e===t?0:1;return 0===n&&(o=!0),n}:"sourceIndex"in document.documentElement?s=function(e,t){var n=e.sourceIndex-t.sourceIndex;return 0===n&&(o=!0),n}:document.createRange&&(s=function(e,t){var n=e.ownerDocument.createRange(),r=t.ownerDocument.createRange();return n.selectNode(e),n.collapse(!0),r.selectNode(t),r.collapse(!0),n=n.compareBoundaryPoints(Range.START_TO_END,r),0===n&&(o=!0),n}),function(){var e=document.createElement("div"),t="script"+(new Date).getTime();e.innerHTML="<a name=\'"+t+"\'/>";var n=document.documentElement;n.insertBefore(e,n.firstChild),document.getElementById(t)&&(l.find.ID=function(e,t,n){if("undefined"!=typeof t.getElementById&&!n)return(t=t.getElementById(e[1]))?t.id===e[1]||"undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id").nodeValue===e[1]?[t]:void 0:[]},l.filter.ID=function(e,t){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),n.removeChild(e),n=e=null}(),function(){var e=document.createElement("div");e.appendChild(document.createComment("")),0<e.getElementsByTagName("*").length&&(l.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var r=[],i=0;n[i];i++)1===n[i].nodeType&&r.push(n[i]);n=r}return n}),e.innerHTML="<a href=\'#\'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(l.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),document.querySelectorAll&&function(){var e=u,t=document.createElement("div");if(t.innerHTML="<p class=\'TEST\'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){u=function(t,n,r,i){if(n=n||document,!i&&9===n.nodeType&&!p(n))try{return c(n.querySelectorAll(t),r)}catch(e){}return e(t,n,r,i)};for(var n in e)u[n]=e[n];t=null}}(),document.getElementsByClassName&&document.documentElement.getElementsByClassName&&function(){var e=document.createElement("div");e.innerHTML="<div class=\'test e\'></div><div class=\'test\'></div>",0!==e.getElementsByClassName("e").length&&(e.lastChild.className="e",1!==e.getElementsByClassName("e").length&&(l.order.splice(1,0,"CLASS"),l.find.CLASS=function(e,t,n){if("undefined"!=typeof t.getElementsByClassName&&!n)return t.getElementsByClassName(e[1])},e=null))}();var d=document.compareDocumentPosition?function(e,t){return 16&e.compareDocumentPosition(t)}:function(e,t){return e!==t&&(!e.contains||e.contains(t))},p=function(e){return 9===e.nodeType&&"HTML"!==e.documentElement.nodeName||!!e.ownerDocument&&"HTML"!==e.ownerDocument.documentElement.nodeName},m=function(e,t){for(var n,r=[],i="",o=t.nodeType?[t]:t;n=l.match.PSEUDO.exec(e);)i+=n[0],e=e.replace(l.match.PSEUDO,"");e=l.relative[e]?e+"*":e,n=0;for(var a=o.length;n<a;n++)u(e,o[n],r);return u.filter(i,r)};return u}();',
pre:!0},"modules/devkit-core/node_modules/jsio/packages/math/geom/Rect.js":{path:"modules/devkit-core/node_modules/jsio/packages/math/geom/Rect.js",friendlyPath:"math.geom.Rect",directory:"modules/devkit-core/node_modules/jsio/packages/math/geom/",filename:"Rect.js",baseMod:"math",basePath:"/Users/tsunami/projects/devkitPoj/BubbleShooter/modules/devkit-core/node_modules/jsio/packages/math",src:'jsio("import lib.Enum"),jsio("import .Point"),jsio("import .Line"),jsio("import .intersect");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_node_modules_jsio_packages_math_geom_Rect=__class__,Rect=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_node_modules_jsio_packages_math_geom_Rect(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,i,h,s){switch(arguments.length){case 0:this.width=this.height=this.x=this.y=0;break;case 1:this.width=t.width,this.height=t.height,this.x=t.x,this.y=t.y;break;case 2:this.x=t.x,this.y=t.y,this.width=i.x,this.height=i.y;break;case 3:this.x=t.x,this.y=t.y,this.width=i,this.height=h;break;case 4:this.x=t,this.y=i,this.width=h,this.height=s}},this.normalize=function(){return 0>this.width&&(this.x-=this.width,this.width=-this.width),0>this.height&&(this.y-=this.height,this.height=-this.height),this},this.intersectRect=function(t){if(intersect.isRectAndRect(this,t)){var i=this.y,h=this.x+this.width,s=this.y+this.height;this.x=Math.max(this.x,t.x),this.y=Math.max(i,t.y),this.width=Math.min(h,t.x+t.width)-this.x,this.height=Math.min(s,t.y+t.height)-this.y}else this.height=this.width=0},this.unionRect=function(t){this.normalize(),t.normalize&&t.normalize();var i=this.x+this.width,h=this.y+this.height,s=t.x+t.width,e=t.y+t.height;this.x=this.x<t.x?this.x:t.x,this.y=this.y<t.y?this.y:t.y,this.width=(i>s?i:s)-this.x,this.height=(h>e?h:e)-this.y},this.getCorner=function(t){switch(t){case CORNERS.TOP_LEFT:return new Point(this.x,this.y);case CORNERS.TOP_RIGHT:return new Point(this.x+this.width,this.y);case CORNERS.BOTTOM_LEFT:return new Point(this.x,this.y+this.height);case CORNERS.BOTTOM_RIGHT:return new Point(this.x+this.width,this.y+this.height)}},this.getSide=function(t){switch(t){case SIDES.TOP:return new Line(this.getCorner(CORNERS.TOP_LEFT),this.getCorner(CORNERS.TOP_RIGHT));case SIDES.RIGHT:return new Line(this.getCorner(CORNERS.TOP_RIGHT),this.getCorner(CORNERS.BOTTOM_RIGHT));case SIDES.BOTTOM:return new Line(this.getCorner(CORNERS.BOTTOM_RIGHT),this.getCorner(CORNERS.BOTTOM_LEFT));case SIDES.LEFT:return new Line(this.getCorner(CORNERS.BOTTOM_LEFT),this.getCorner(CORNERS.TOP_LEFT))}},this.getCenter=function(){return new Point(this.x+this.width/2,this.y+this.height/2)}}),SIDES=Rect.SIDES=lib.Enum("TOP","BOTTOM","LEFT","RIGHT"),CORNERS=Rect.CORNERS=lib.Enum("TOP_LEFT","TOP_RIGHT","BOTTOM_RIGHT","BOTTOM_LEFT");',pre:!0},"modules/devkit-core/node_modules/jsio/packages/math/geom/Point.js":{path:"modules/devkit-core/node_modules/jsio/packages/math/geom/Point.js",friendlyPath:".Point",directory:"modules/devkit-core/node_modules/jsio/packages/math/geom/",filename:"Point.js",src:'var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_node_modules_jsio_packages_math_geom_Point=__class__,Point=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_node_modules_jsio_packages_math_geom_Point(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,n){switch(arguments.length){case 0:this.y=this.x=0;break;case 1:this.x=t.x||0,this.y=t.y||0;break;case 2:this.x=t||0,this.y=n||0}},this.rotate=function(t){var n=this.x,i=this.y,e=Math.cos(t),t=Math.sin(t);return this.x=n*e-i*t,this.y=n*t+i*e,this},this.translate=this.add=function(t,n){return"number"==typeof t?(this.x+=t,this.y+=n):(this.x+=t.x,this.y+=t.y),this},this.subtract=function(t,n){return"number"==typeof t?(this.x-=t,this.y-=n):(this.x-=t.x,this.y-=t.y),this},this.scale=function(t,n){return void 0===n&&(n=t),this.x*=t,this.y*=n,this},this.setMagnitude=function(t){var n=this.getAngle();return this.x=t*Math.cos(n),this.y=t*Math.sin(n),this},this.normalize=function(){var t=this.getMagnitude();return this.x/=t,this.y/=t,this},this.addMagnitude=function(t){return this.setMagnitude(this.getMagnitude()+t)},this.getMagnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},this.getSquaredMagnitude=function(){return this.x*this.x+this.y*this.y},this.getDirection=this.getAngle=function(){return Math.atan2(this.y,this.x)}});Point.getPolarR=function(){throw"notImplemented"},Point.getPolarTheta=function(t,n){var i=Math.atan2(n,t)+2*Math.PI;return i>2*Math.PI?i%(2*Math.PI):i},Point.add=Point.translate=function(t,n,i,e){switch(arguments.length){case 2:return new Point(t).add(n);case 3:return new Point(t).add(n,i);case 4:return new Point(t,n).add(i,e)}},Point.subtract=function(t,n,i,e){switch(arguments.length){case 2:return new Point(t).subtract(n);case 3:return new Point(t).subtract(n,i);case 4:return new Point(t,n).subtract(i,e)}},Point.scale=function(t,n,i){switch(arguments.length){case 2:return new Point(t).scale(n);case 3:return new Point(t,n).scale(i)}},Point.setMagnitude=function(t,n,i){switch(arguments.length){case 2:return new Point(t).setMagnitude(i);case 3:return new Point(t,n).setMagnitude(i)}},Point.addMagnitude=function(t,n,i){switch(arguments.length){case 2:pt=new Point(t);break;case 3:pt=new Point(t,n),n=i}return pt.addMagnitude(n)},Point.getMagnitude=function(t,n){return new Point(t,n).getMagnitude()},Point.rotate=function(t,n,i){switch(arguments.length){case 2:return new Point(t).rotate(n);case 3:return new Point(t,n).rotate(i)}},Point.project=function(t,n){var i=new Point(n).normalize();return i.scale(i.x*t.x+i.y*t.y)};',pre:!0},"modules/devkit-core/node_modules/jsio/packages/math/geom/Line.js":{path:"modules/devkit-core/node_modules/jsio/packages/math/geom/Line.js",friendlyPath:".Line",directory:"modules/devkit-core/node_modules/jsio/packages/math/geom/",filename:"Line.js",src:'jsio("import .Point");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_node_modules_jsio_packages_math_geom_Line=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_node_modules_jsio_packages_math_geom_Line(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,e,i,s){switch(arguments.length){case 0:this.start=new Point,this.end=new Point;break;case 1:this.start=new Point(t.start),this.end=new Point(t.end);break;case 2:this.start=new Point(t),this.end=new Point(e);break;case 3:this.start=new Point(t),this.end=new Point(e,i);break;default:this.start=new Point(t,e),this.end=new Point(i,s)}},this.getMagnitude=this.getLength=function(){var t=this.end.x-this.start.x,e=this.end.y-this.start.y;return Math.sqrt(t*t+e*e)}});',pre:!0},"modules/devkit-core/node_modules/jsio/packages/math/geom/intersect.js":{path:"modules/devkit-core/node_modules/jsio/packages/math/geom/intersect.js",friendlyPath:".intersect",directory:"modules/devkit-core/node_modules/jsio/packages/math/geom/",filename:"intersect.js",src:'jsio("import .Point"),jsio("import .Line"),jsio("import .Rect");var intersect=exports;intersect.pointAndRect=intersect.ptAndRect=function(t,e){var n=t.x,i=t.y;return n>=e.x&&n<=e.x+e.width&&i>=e.y&&i<=e.y+e.height},intersect.rectAndPoint=intersect.rectAndPt=function(t,e){return intersect.pointAndRect(e,t)},intersect.pointAndCircle=intersect.ptAndCirc=function(t,e){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i<e.radius*e.radius},intersect.circleAndPoint=intersect.circAndPt=function(t,e){return intersect.pointAndCircle(e,t)},intersect.circleAndCircle=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.radius+e.radius;return n*n+i*i<=r*r},intersect.isRectAndRect=function(t,e){return!(t.y+t.height<e.y||e.y+e.height<t.y||t.x+t.width<e.x||e.x+e.width<t.x)},intersect.circleAndRect=function(t,e){return!!intersect.pointAndRect(t,e)||(intersect.lineAndCircle(e.getSide(1),t)||intersect.lineAndCircle(e.getSide(2),t)||intersect.lineAndCircle(e.getSide(3),t)||intersect.lineAndCircle(e.getSide(4),t))},intersect.rectAndCircle=function(t,e){return intersect.circleAndRect(e,t)},intersect.lineAndCircle=function(t,e){return intersect.pointToLine(e,t).getMagnitude()<e.radius},intersect.circleAndLine=function(t,e){return intersect.lineAndCircle(e,t)},intersect.pointToLine=intersect.ptToLine=function(t,e){var n=e.end.x-e.start.x,i=e.end.y-e.start.y,r=((t.x-e.start.x)*n+(t.y-e.start.y)*i)/(n*n+i*i),n=0>r?new Point(e.start):1<r?new Point(e.end):new Point(e.start.x+r*n,e.start.y+r*i);return new Line(n,t)},intersect.rectAndRect=function(t,e){return jsio("import .Rect"),(intersect.rectAndRect=function(t,e){if(!0===t||!0===e)return new Rect(e);if(intersect.isRectAndRect(t,e)){var n=Math.max(t.x,e.x),i=Math.max(t.y,e.y),r=Math.min(t.x+t.width,e.x+e.width),c=Math.min(t.y+t.height,e.y+e.height);return new Rect(n,i,r-n,c-i)}return null})(t,e)};',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/Audio.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/Audio.js",friendlyPath:".Audio",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/",filename:"Audio.js",src:'exports=function(o){var o=merge(o,{autoplay:!1,preload:"auto",volume:1,loop:0,src:""}),e=document.createElement("Audio");return e.autoplay=o.autoplay,e.preload=o.preload,e.volume=o.volume,e.loop=o.loop,e.src=o.src,e};',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/Canvas.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/Canvas.js",friendlyPath:".Canvas",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/",filename:"Canvas.js",src:'jsio("import .Context2D"),jsio("import .webgl.WebGLContext2D as WebGLContext2D");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_platforms_browser_Canvas=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_platforms_browser_Canvas(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){t=merge(t,{width:300,height:200}),this._width=t.width,this._height=t.height,this.isWebGL=!!t.useWebGL&&!!CONFIG.useWebGL&&WebGLContext2D.isSupported;var e;return e=this.isWebGL?WebGLContext2D.getContext(this,t):new Context2D(t),t=this._el=e.getElement(),t.complete=!0,t.style&&(t.style.userSelect=t.style.webkitUserSelect=t.style.webkitTouchCallout="none"),t.getContext=function(){return e},t},Object.defineProperties(this,{width:{get:function(){return this._width},set:function(t){this._width=t,this.isWebGL&&this.getContext().resize(this.width,this.height)}},height:{get:function(){return this._height},set:function(t){this._height=t,this.isWebGL&&this.getContext().resize(this.width,this.height)}}})});',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/Context2D.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/Context2D.js",friendlyPath:".Context2D",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/",filename:"Context2D.js",src:'jsio("import device"),jsio("import .FontRenderer"),exports=function(t){var e=t&&t.el||document.createElement("canvas");e.width=t.width,e.height=t.height;var i=e.getContext("2d");i.font="11px "+device.defaultFontFamily,i.getElement=function(){return e},i.reset=function(){},i.clear=function(){this.save(),this.setTransform(1,0,0,1,0,0),this.clearRect(0,0,e.width,e.height),this.restore()},i.clipRect=function(t,e,r,n){i.beginPath(),i.rect(t,e,r,n),i.clip()},i.swap=function(){},i.execSwap=function(){},i.circle=function(t,e,i){this.beginPath(),this.arc(t,e,i,0,2*Math.PI,!0)};var r=null,n=null,s=null;return i.drawPointSprites=function(t,e,i,o){var l=this.pointSprite;if(l&&l.complete){var a=l.width,c=l.height,h=s||(s=document.createElement("canvas"));if(l!=r||this.strokeStyle!=n){r=l,n=this.strokeStyle,h.width=a,h.height=c;var u=h.getContext("2d");u.fillStyle=this.strokeStyle,u.fillRect(0,0,a,c),u.globalCompositeOperation="destination-in",u.drawImage(l,0,0)}i-=t,o-=e,l=Math.ceil(Math.sqrt(i*i+o*o)/this.pointSpriteStep),1>l&&(l=1);for(var u=this.lineWidth,d=0;d<l;++d)this.drawImage(h,0,0,a,c,t+i*d/l-u/2,e+o*d/l-u/2,u,u)}},i.roundRect=function(t,e,i,r,n){this.beginPath(),this.moveTo(t,e+n),this.lineTo(t,e+r-n),this.quadraticCurveTo(t,e+r,t+n,e+r),this.lineTo(t+i-n,e+r),this.quadraticCurveTo(t+i,e+r,t+i,e+r-n),this.lineTo(t+i,e+n),this.quadraticCurveTo(t+i,e,t+i-n,e),this.lineTo(t+n,e),this.quadraticCurveTo(t,e,t,e+n)},i.loadIdentity=function(){this.setTransform(1,0,0,1,0,0)},i.measureText=FontRenderer.wrapMeasureText(i.measureText),i.fillText=FontRenderer.wrapFillText(i.fillText),i.strokeText=FontRenderer.wrapStrokeText(i.strokeText),i.filter=null,i.setFilter=function(t){this.filter=t},i.setFilters=function(){logger.WARN&&console.warn("WARN",".Context2D","ctx.setFilters is deprecated, use ctx.setFilter instead.");for(var t in filters){this.setFilter(filters[t]);break}},i.clearFilter=function(){this.filter=null},i.clearFilters=function(){logger.WARN&&console.warn("WARN",".Context2D","ctx.clearFilters is deprecated, use ctx.clearFilter instead."),this.clearFilter()},i};',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/FontRenderer.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/FontRenderer.js",friendlyPath:".FontRenderer",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/",filename:"FontRenderer.js",src:'jsio("import device"),jsio("import ui.resource.Image as Image"),jsio("import ui.Color as Color"),jsio("import ui.filter as filter"),jsio("import ui.resource.Font as Font");var max=Math.max,_customFonts={},_customFontInfo={},_origMeasureText;exports.init=function(){var t=window.CONFIG;if(t&&t.fonts)for(var t=t.fonts,e=0,o=t.length;e<o;e++){var i=t[e],n={fontName:i.fontName,settings:i,imagesLoaded:-1,imagesTotal:0,loaded:!1};_customFonts[i.fontName]=n,loadingCustomFont(n)}};var loadCustomFontImage=function(t,e,o){return e=new Image({url:"resources/fonts/"+t.fontName+"_"+e+(o?"_Stroke.png":".png")}),e.doOnLoad(function(){t.imagesLoaded++,t.loaded=t.imagesLoaded===t.imagesTotal}),e},findVerticalInfo=function(t){for(var e=[{start:65,end:90},{start:97,end:122},{start:32,end:255}],o=!1,i=0,n=0,s=0,a=e.length;s<a;s++){for(var r=e[s],l=r.start;l<=r.end;l++){var f=t[l];f&&(i=max(i,f.h),n=max(n,f.h),o=!0)}if(o)break}return{baseline:i,bottom:n}},findHorizontalInfo=function(t){for(var e=[{start:97,end:122},{start:65,end:90},{start:32,end:255}],o=0,i=0,n=0,s=e.length;n<s;n++){for(var a=e[n],r=a.start;r<=a.end;r++){var l=t[r];l&&(o+=l.w,i++)}if(0!==i)break}return{width:.8*o/i}},loadingCustomFont=function(t){if(-1!==t.imagesLoaded)return!t.loaded;var e=t.settings,o=e.fontName,i=_customFontInfo[o];i?(t.dimensions=i.dimensions,t.horizontal=i.horizontal,t.vertical=i.vertical):(t.dimensions=JSON.parse(CACHE["resources/fonts/"+o+".json"]),t.horizontal=findHorizontalInfo(t.dimensions),t.vertical=findVerticalInfo(t.dimensions),_customFontInfo[o]={dimensions:t.dimensions,horizontal:t.horizontal,vertical:t.vertical});for(var o=t.images=[],i=t.strokeImages=[],n=t.imagesLoaded=0;n<e.count;n++)o.push(loadCustomFontImage(t,n,!1)),t.imagesTotal++,t.settings.stroke&&(i.push(loadCustomFontImage(t,n,!0)),t.imagesTotal++);return!0},measure=function(t,e,o){var i=e.customFont,n=i.dimensions,s=e.scale,a=(i.settings.spacing||0)*s,r=0,l=!0;if(n)for(var l=!1,f=0,u=0,d=o.length;u<d;u++){var m=o.charCodeAt(u);if(9===m)r+=4*i.horizontal.width*s;else if(32===m)r+=i.horizontal.width*s;else if(n[m])var h=n[m],r=r+((h.xadvance+(h.kerning[f]||0))*s+a);else l=!0;if(l)break;f=m}return l?(i=t.font,t.font=e.size.value+e.size.unit+" "+(t.defaultFontFamily||device.defaultFontFamily),e={failed:!0,width:_origMeasureText.apply(t,[o])},t.font=i,e):{failed:!1,width:r}},renderCustomFont=function(t,e,o,i,n,s,a,r){var l=measure(t,a,n);if(l.failed)return!1;var s=a.customFont,r=0===r?s.images:s.strokeImages,f=s.dimensions,a=a.scale,l=l.width;l>i&&(a*=i/l),i=(s.settings.spacing||0)*a,"alphabetic"===t.textBaseline?o-=s.vertical.baseline*a:"middle"===t.textBaseline?o-=s.vertical.bottom/2*a:"bottom"===t.textBaseline&&(o-=s.vertical.bottom*a),"center"===t.textAlign?e-=l/2:"right"===t.textAlign&&(e-=l);for(var u=l=0,d=n.length;u<d;u++){var m=n.charCodeAt(u);if(9===m)e+=4*s.horizontal.width*a;else if(32===m)e+=s.horizontal.width*a;else{var h=f[m],e=e+(h.kerning[l]||0);r[h.sheetIndex].render(t,h.x,h.y,h.w,h.h,e+h.ox*a,o+h.oy*a,h.w*a,h.h*a),e+=h.xadvance*a+i}l=m}return!0};exports.findFontInfo=function(t){var t=Font.parse(t.font),e=t.getName();return e&&_customFonts[e]?(customFont=_customFonts[e],t.customFont=customFont,t.scale=t.getSize()/customFont.settings.size,t):null},exports.wrapMeasureText=function(t){return _origMeasureText=t,function(e){var o=exports.findFontInfo(this);return o?(o=measure(this,o,e),o.failed?t.apply(this,arguments):o):t.apply(this,arguments)}},exports.wrapFillText=function(t){return function(e,o,i,n){var s=exports.findFontInfo(this);if(!s)return t.apply(this,arguments);if(!loadingCustomFont(s.customFont)){isNaN(o)&&(o=0),isNaN(i)&&(i=0);var a=Color.parse(this.fillStyle);this.filter||(this.filter=new filter.TintFilter(a)),this.__bmpTxtColor!==a&&(this.__bmpTxtColor=a,this.filter.update(a)),renderCustomFont(this,o,i,n,e+"",this.fillStyle,s,0)||(a=this.font,this.font=s.size.value+s.size.unit+" "+(this.defaultFontFamily||device.defaultFontFamily),t.apply(this,[e,o,i]),this.font=a)}}},exports.wrapStrokeText=function(t){return function(e,o,i,n){var s=exports.findFontInfo(this);if(!s)return t.apply(this,arguments);if(!loadingCustomFont(s.customFont)){isNaN(o)&&(o=0),isNaN(i)&&(i=0);var a=Color.parse(this.strokeStyle);this.filter||(this.filter=new filter.TintFilter(a)),this.__bmpTxtColor!==a&&(this.__bmpTxtColor=a,this.filter.update(a)),renderCustomFont(this,o,i,n,e+"",this.strokeStyle,s,1)||(a=this.font,this.font=s.size.value+s.size.unit+" "+(this.defaultFontFamily||device.defaultFontFamily),t.apply(this,[e,o,i]),this.font=a)}}};',pre:!0},"modules/devkit-core/modules/timestep/src/ui/resource/Image.js":{path:"modules/devkit-core/modules/timestep/src/ui/resource/Image.js",friendlyPath:"ui.resource.Image",directory:"modules/devkit-core/modules/timestep/src/ui/resource/",filename:"Image.js",src:'function imageOnLoad(t,i,e){t&&!this.width?3>=e?setTimeout(bind(this,imageOnLoad,t,i,(e||0)+1),0):this.__cb.fire(!1):this.__cb.fire(!t)}jsio("import device"),jsio("import lib.PubSub"),jsio("import event.Callback as Callback"),jsio("import ui.resource.loader as resourceLoader"),jsio("import ui.backend.canvas.filterRenderer as filterRenderer");var ImageCache={},GET_IMAGE_DATA_NOT_SUPPORTED=!GLOBAL.document||!document.createElement;resourceLoader.on(resourceLoader.IMAGE_LOADED,function(t,i){ImageCache[i.resource]=t,t.__cb=new Callback,imageOnLoad.call(t,!0)});var ImageMap=!CONFIG.disableNativeViews&&NATIVE.timestep&&NATIVE.timestep.ImageMap;ImageMap||(ImageMap=__class__,ImageMap=ImageMap(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,i,e,r,s,h,n,a,o,c){this.url=c,this.x=i,this.y=e,this.width=r,this.height=s,this.marginTop=h,this.marginRight=n,this.marginBottom=a,this.marginLeft=o}}));var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_resource_Image=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_resource_Image(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){var t=GLOBAL.NATIVE&&!device.isNativeSimulator,i=device.get("Canvas"),e=null,r=null;this.init=function(t){t||(t={}),this._cb=new Callback,this._map=new ImageMap(this,0,0,-1,-1,0,0,0,0,t.url||""),this._originalURL=t.url||"",this._scale=t.scale||1,this._isError=!1,resourceLoader._updateImageMap(this._map,t.url,t.sourceX,t.sourceY,t.sourceW,t.sourceH),this._setSrcImg(t.srcImage,this._map.url,t.forceReload)},this._setSrcImg=function(t,e,r){if(this._cb.reset(),this._isError=!1,!t&&e&&!r&&ImageCache[e]&&(t=ImageCache[e]),!t&&!r&&Image.get){var s=Image.get(e);"object"==typeof s?t=s:s&&(e=s)}r&&(t&&t.destroy&&t.destroy(),e&&NATIVE.gl&&NATIVE.gl.deleteTexture&&NATIVE.gl.deleteTexture(e)),t||(t=new Image,t.crossOrigin="use-credentials"),this._srcImg=t,t instanceof HTMLCanvasElement||t instanceof i?this._onLoad(!1,t):(t.__cb||(t.__cb=new Callback,t.addEventListener("load",bind(t,imageOnLoad,!0),!1),t.addEventListener("error",bind(t,imageOnLoad,!1),!1),e&&(ImageCache[e]=t),!t.src&&e&&(t.src=this._map.url=e)),t.__cb.run(this,function(i){this._onLoad(i,t)}))},this.getSource=this.getSrcImg=function(){return this._srcImg},this.setSource=this.setSrcImg=function(t){this._setSrcImg(t)},this.reload=function(t){var i=this._srcImg;if(i){t&&t.chain&&(t=t.chain());var e=this._cb.fired();if(i.reload){var r=bind(this,function(){i.removeEventListener("reload",r,!1),e&&this._cb.fire(null,this),t&&t()});i.addEventListener("reload",r,!1),i.reload(),e&&this._cb.reset()}else t&&(this._cb.fired()?setTimeout(t,0):this._cb.run(t))}},this.getURL=function(){return this._map.url},this.getOriginalURL=function(){return this._originalURL},this.getSourceX=function(){return this._map.x},this.getSourceY=function(){return this._map.y},this.getSourceWidth=this.getSourceW=function(){return this._map.width},this.getSourceHeight=this.getSourceH=function(){return this._map.height},this.getOrigWidth=this.getOrigW=function(){return this._srcImg.width},this.getOrigHeight=this.getOrigH=function(){return this._srcImg.height},this.setSourceX=function(t){this._map.x=t},this.setSourceY=function(t){this._map.y=t},this.setSourceWidth=this.setSourceW=function(t){this._map.width=t},this.setSourceHeight=this.setSourceH=function(t){this._map.height=t},this.setMarginTop=function(t){this._map.marginTop=t},this.setMarginRight=function(t){this._map.marginRight=t},this.setMarginBottom=function(t){this._map.marginBottom=t},this.setMarginLeft=function(t){this._map.marginLeft=t},this.setURL=function(t,i){resourceLoader._updateImageMap(this._map,t),this._setSrcImg(null,this._map.url,i)},this.getWidth=function(){var t=this._map;return(t.width==-1?0:t.width+t.marginLeft+t.marginRight)/t.scale},this.getHeight=function(){var t=this._map;return(t.height===-1?0:t.height+t.marginTop+t.marginBottom)/t.scale},this.getMap=this.getBounds=function(){return this._map},this.setMap=this.setBounds=function(t,i,e,r,s,h,n,a){var o=this._map;o.x=t,o.y=i,o.width=e,o.height=r,o.marginTop=s||0,o.marginRight=h||0,o.marginBottom=n||0,o.marginLeft=a||0,this.emit("changeBounds")},this.doOnLoad=function(){return this._cb.forward(arguments),this},this._onLoad=function(t,i){var e=this._map,r=this._srcImg;i&&i!==r||(t?(logger.ERROR&&console.error("ERROR","ui.resource.Image","Image failed to load:",e.url),this._isError=!0,this._cb.fire({NoImage:!0})):(this._isError=!1,0===r.width&&logger.WARN&&console.warn("WARN","ui.resource.Image","Image has no width",this._url),1===this._scale||e.width===-1&&e.height===-1?(e.width===-1&&(e.width=r.width),e.height===-1&&(e.height=r.height)):(e.width===-1&&(e.width=r.width*e.height/r.height),e.height===-1&&(e.height=r.height*e.width/r.width),r.width=e.width,r.height=e.height),e.url=r.src,this._cb.fire(null,this)))},this.isError=function(){return this._isError},this.isLoaded=this.isReady=function(){return!this._isError&&this._cb.fired()},this.render=function(i){if(this._cb.fired()&&!this._isError){var e=arguments.length,r=this._map,s=this._srcImg,h=r.x,n=r.y,a=r.width,o=r.height,c=e>5?arguments[5]:arguments[1]||0,g=e>6?arguments[6]:arguments[2]||0,u=e>7?arguments[7]:arguments[3]||0,m=e>8?arguments[8]:arguments[4]||0;e<9?(u/=r.marginLeft+r.width+r.marginRight,m/=r.marginTop+r.height+r.marginBottom,c+=u*r.marginLeft,g+=m*r.marginTop,u*=r.width,m*=r.height):(h=arguments[1],n=arguments[2],a=arguments[3],o=arguments[4]),!t&&i.filter&&(r=filterRenderer.renderFilter(i,this,h,n,a,o))&&(s=r,n=h=0),i.drawImage(s,h,n,a,o,c,g,u,m)}},this.getImageData=function(t,s,h,n){null===e&&(e=new i,r=e.getContext("2d"));var a=this._map;if(GET_IMAGE_DATA_NOT_SUPPORTED)throw"Not supported";if(!a.width||!a.height)throw"Not loaded";return t=t||0,s=s||0,h=h||a.width,n=n||a.height,e.width=h,e.height=n,r.clear(),this.render(r,t,s,h,n,0,0,h,n),r.getImageData(0,0,h,n)},this.setImageData=function(){},this.destroy=function(){this._srcImg.destroy&&this._srcImg.destroy()}}),exports.__clearCache__=function(){ImageCache={}};',pre:!0},"modules/devkit-core/modules/timestep/src/event/Callback.js":{path:"modules/devkit-core/modules/timestep/src/event/Callback.js",friendlyPath:"event.Callback",directory:"modules/devkit-core/modules/timestep/src/event/",filename:"Callback.js",src:'jsio("import lib.Callback as exports");',pre:!0},"modules/devkit-core/modules/timestep/src/ui/resource/loader.js":{path:"modules/devkit-core/modules/timestep/src/ui/resource/loader.js",friendlyPath:"ui.resource.loader",directory:"modules/devkit-core/modules/timestep/src/ui/resource/",filename:"loader.js",src:'jsio("import .i18n"),jsio("import lib.Callback"),jsio("import event.Emitter as Emitter");var _cache={},MIME={".png":"image",".jpg":"image",".bmp":"image",".css":"css",".html":"html",".mp3":"audio",".ogg":"audio",".mp4":"audio",".3gp":"audio",".m4a":"audio",".aac":"audio",".flac":"audio",".mkv":"audio",".wav":"audio"},Loader=__class__,Loader=Loader(function(){return this.init&&this.init.apply(this,arguments)},Emitter,function(){var e=0,r=0;this._map={},this._originalMap={},this._audioMap={},Object.defineProperty(this,"progress",{get:function(){return 0<e?r/e:1}}),this.has=function(e){return this._map[e]},this.restoreMap=function(){this._map=this._originalMap},this.getMap=function(){return this._map},this.setMap=function(e){this.restoreMap(),this._map=e?i18n.applyResourceMap(this._map,e):i18n.localizeResourceMap(this._map)},this.get=function(e){return"resources/images/"+e},this.addSheets=function(e){Object.keys(e).forEach(function(r){e[r].forEach(function(e){this._map[e.f]={sheet:r,x:e.x||0,y:e.y||0,w:e.w||0,h:e.h||0,scale:e.s||1,marginTop:e.t||0,marginRight:e.r||0,marginBottom:e.b||0,marginLeft:e.l||0}},this)},this),this._originalMap=this._map},this.addAudioMap=function(e){Object.keys(e).forEach(function(e){this._audioMap[e]=!0},this)},this.preload=function(e,r,i){if("function"==typeof r&&(i=r,r=void 0),isArray(e)){var o=new lib.Callback;return e.forEach(function(e){e&&this.preload(e,r,o.chain())},this),i&&o.run(i),o}var t,e=e.replace(/^\\//,""),a={},n=this._map;for(t in n)0===t.indexOf(e)&&(a[n[t]&&n[t].sheet||t]=!0);var s=this._audioMap,n={};for(t in s)0===t.indexOf(e)&&(n[t]=!0);return a=Object.keys(a),a=a.concat(Object.keys(n)),0==a.length&&(a=[e]),e=this._loadGroup(merge({resources:a},r)),i&&e.run(i),e};var i=null,o=null;this.getSound=function(e){return i||(jsio("import AudioManager"),i=new AudioManager({preload:!0}),o=i.getAudioLoader()),GLOBAL.NATIVE&&GLOBAL.NATIVE.sound&&GLOBAL.NATIVE.sound.preloadSound?NATIVE.sound.preloadSound(e):(i.addSound(e),{complete:!0,loader:o})},this.getImagePaths=function(e){var r,e=e.replace(/^\\//,""),i=[],o=this._map;for(r in o)0==r.indexOf(e)&&i.push(r);return i},this.getImage=function(e,r){var i=new Image;if(i.crossOrigin="use-credentials",Image.get){var o=Image.get(e);if(o instanceof Image)return o}return o?(i.src=o,Image.set(e,i)):(r||logger.WARN&&console.warn("WARN","ui.resource.loader","Preload Warning:",e,"not properly cached!"),i.src=e),i},this._updateImageMap=function(e,r,i,o,t,a){var i=i||0,o=o||0,t=void 0==t?-1:t,a=void 0==a?-1:a,n=this._map[r];return n&&n.sheet?(r=n.scale||1,e.x=n.x-n.marginLeft,e.y=n.y-n.marginTop,e.width=n.w+n.marginLeft+n.marginRight,e.height=n.h+n.marginTop+n.marginBottom,e.x+=i*r,e.y+=o*r,0<t&&(e.width=t*r),0<a&&(e.height=a*r),e.marginLeft=Math.max(0,n.x-e.x),e.marginTop=Math.max(0,n.y-e.y),e.marginRight=Math.max(0,e.x+e.width-(n.x+n.w)),e.marginBottom=Math.max(0,e.y+e.height-(n.y+n.h)),e.x+=e.marginLeft,e.y+=e.marginTop,e.width-=e.marginLeft+e.marginRight,e.height-=e.marginTop+e.marginBottom,e.scale=r,e.url=n.sheet,e):(e.x=i,e.y=o,e.width=t,e.height=a,e.scale=1,e.url=r,void 0)},this._getRaw=function(e,r,i,o){if(!i&&_cache[r])return _cache[r];switch(i=null,e){case"audio":i=this.getSound(r);break;case"image":i=this.getImage(r,o);break;default:logger.ERROR&&console.error("ERROR","ui.resource.loader","Preload Error: Unknown Type",e)}return _cache[r]=i},this._requestedResources=[],this._loadGroup=function(i,o){for(var t=i.timeout,a=new lib.Callback,n=this,s=i.resources||[],u=s.length||0,h=[],c=0;c<u;++c){for(var l,d=s[c].substring(s[c].lastIndexOf(".")).split("|")[0],d=MIME[d],g=!1,m=0,p=0;p<this._requestedResources.length;p++)if(l=this._requestedResources[p],l.type===d&&l.resource===s[c]){g=!0,m++;break}g||("image"!==d&&"audio"!==d||(l={type:d,resource:s[c]},h.push(l),this._requestedResources.push(l)),"image"==d&&GLOBAL.NATIVE&&NATIVE.gl&&NATIVE.gl.touchTexture(s[c]))}if(!h.length)return m||logger.WARN&&console.warn("WARN","ui.resource.loader","Preload Fail: No Loadable Resources Found"),o&&a.run(o),a.fire(),a;var f=0,_=h.length;e+=_;var L=Math.min(_,i.parallel||5),A=0,M=bind(this,function(){var i,t=f++,s=h[t];if(s){i=this._getRaw(s.type,s.resource,!1,!0);var u=function(t){A>=_||(i.onreload=i.onload=i.onerror=function(){},++A,++r,r===e&&(r=e=0),A>=_?(o&&o(s,t,!0,A,_),E&&clearTimeout(E),logger.LOG&&console.log("LOG","ui.resource.loader","Preload Complete:",s.resource),a.fire()):(o&&o(s,t,!1,A,_),setTimeout(M,0)))};if(i.reload&&i.complete){var c=i.onreload,l=i.onerror;i.onreload=function(){c&&c(),u(!1)},i.onerror=function(){l&&l(),u(!0)},i.reload()}else i.complete?i.loader?i.loader.load([s.resource],u):u(!0===i.failed):(c=i.onload,l=i.onerror,i.onload=function(){c&&c(),i.failed=!1,"image"===s.type&&n.emit(Loader.IMAGE_LOADED,i,s),u(!1)},i.onerror=function(){l&&l(),i.failed=!0,u(!0)})}}),E=null;return setTimeout(function(){for(var e=0;e<L;++e)M();t&&(E=setTimeout(function(){logger.WARN&&console.warn("WARN","ui.resource.loader","Preload Timeout: Something Failed to Load"),a.fire(),A=_},t))},0),a}});Loader.IMAGE_LOADED="imageLoaded",exports=new Loader,exports.IMAGE_LOADED=Loader.IMAGE_LOADED;',pre:!0},"modules/devkit-core/modules/timestep/src/ui/resource/i18n.js":{path:"modules/devkit-core/modules/timestep/src/ui/resource/i18n.js",friendlyPath:".i18n",directory:"modules/devkit-core/modules/timestep/src/ui/resource/",filename:"i18n.js",src:'var LOCALE_CODES=navigator.language&&navigator.language.split("-"),LANGUAGE_CODE=(LOCALE_CODES[0]||"en").toLowerCase(),REGION_CODE=(LOCALE_CODES[1]||"US").toUpperCase(),EU_REGIONS="AD AT BE BL CY DE EE ES EU FI FR GR IE IT LU LV MC ME MT MQ NL PM PT RE SI SK SM VA YT".split(" "),Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_resource_i18n=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_resource_i18n(function(){return this.init&&this.init.apply(this,arguments)},function(){var e={languageCode:LANGUAGE_CODE,regionCode:REGION_CODE,stringsPath:"resources/strings/",defaultStringsFile:"en.json"};this.init=function(s){s=merge(s,e),this._languageCode=s.languageCode,this._regionCode=s.regionCode,this._stringsPath=s.stringsPath,this._defaultStringsFile=s.defaultStringsFile,this._strings={},this.loadStrings(this._stringsPath,this._defaultStringsFile)},this.getLanguageCode=function(){return this._languageCode},this.getRegionCode=function(){return this._regionCode},this.loadStrings=function(e,s){var r=this._languageCode,t=e+r+"-"+this._regionCode+".json",r=e+r+".json",i=e+s,n=CACHE[t]||CACHE[r]||CACHE[i];if(n)try{this._strings=JSON.parse(n)}catch(e){console.error("Error loading strings JSON:"),console.error(e)}else console.error("No JSON found for files:",t,r,i)},this.getString=function(e){var s=this._strings[e];return void 0!==s?s:e}}),exports.localizeResourceMap=function(e){var s,r={},t="resources-"+LANGUAGE_CODE+"-"+REGION_CODE,i="resources-"+LANGUAGE_CODE,n="resources-"+REGION_CODE;for(s in e){var o=s,u=s.indexOf(t),_=s.indexOf(i),g=s.indexOf(n),a=s.indexOf("resources-EU");0===u?o="resources"+s.substring(t.length):0===_?o="resources"+s.substring(i.length):0===g?o="resources"+s.substring(n.length):0===a&&-1!==EU_REGIONS.indexOf(REGION_CODE)&&(o="resources"+s.substring(12)),r[o]=e[s]}return r},exports.applyResourceMap=function(e,s){var r,t={},i="resources-"+s;for(r in e){var n=r;0===r.indexOf(i)?(n="resources"+r.substring(i.length),t[n]=e[r]):0>Object.keys(t).indexOf(n)&&(t[n]=e[r])}return t};',
pre:!0},"modules/devkit-core/modules/timestep/src/AudioManager.js":{path:"modules/devkit-core/modules/timestep/src/AudioManager.js",friendlyPath:"AudioManager",directory:"modules/devkit-core/modules/timestep/src/",filename:"AudioManager.js",baseMod:"AudioManager",basePath:"/Users/tsunami/projects/devkitPoj/BubbleShooter/modules/devkit-core/modules/timestep/src/AudioManager",src:'jsio("import device"),jsio("import util.path"),jsio("import event.Emitter as Emitter"),jsio("import ui.backend.sound.AudioLoader as AudioLoader");var AudioContext=window.AudioContext||window.webkitAudioContext,_ctx=null;if(AudioContext)try{_ctx=new AudioContext}catch(t){logger.WARN&&console.warn("WARN","AudioManager","HTML5 AudioContext init failed, falling back to Audio!")}else logger.WARN&&console.warn("WARN","AudioManager","HTML5 AudioContext not supported, falling back to Audio!");var _muteAll=!1,_registeredAudioManagers=[],RawAudio=__class__,RawAudio=RawAudio(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){if("undefined"==typeof Audio)return null;var t,i=new Audio,s=RawAudio.prototype;for(t in s)!i[t]&&s.hasOwnProperty(t)&&(i[t]=s[t]);var e=null;return i.oldPlay=i.play,i.play=function(){4===i.readyState?i.oldPlay():e=setTimeout(i.play,32)},i.oldPause=i.pause,i.pause=function(){null!==e&&(clearTimeout(e),e=null),i.oldPause()},i},this.stop=function(){!this.paused&&this.pause(),void 0!==this.NETWORK_LOADING&&this.networkState===this.NETWORK_LOADING&&this.networkState===this.NETWORK_NO_SOURCE||isNaN(this.duration)||(this.currentTime=0)}}),MultiSound=__class__,MultiSound=MultiSound(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,i,s){s="string"==typeof s?{sources:[s]}:s||{},this._soundManager=t,this._name=i,this._isPaused=!1,this._lastSrc=null,this._sources=[],this._paths=[],this._useAudioContext=!1,this._gainNode=this._loader=null,this.loop=void 0!==s.loop?s.loop:s.background,this.isBackgroundMusic=s.background;var i=s.sources||[i],e=this._sources,u=this._paths,o=t.getPath(),n=t.getExt(),r=RegExp(n+"$","i"),a=this.loop,h=void 0!==s.volume?s.volume:1,d=bind(this,"isPaused"),c=function(t){this.removeEventListener(arguments.callee),d()&&this.pause()};_ctx&&(this._useAudioContext=!0,this._loader=t.getAudioLoader(),this._gainNode=_ctx.createGain(),this._gainNode.connect(_ctx.destination),this._gainNode.gain.value=h);for(var _,l=0;_=i[l];++l)if(_=util.path.join(o,s.path,_),r.test(_)||(_+=n),u.push(_),!this._useAudioContext){var f=new RawAudio;f&&(f.loop=a,f.volume=h,f.isBackgroundMusic=s.background,f.src=_,f.preload=4!==f.readyState||t._preload&&!s.background?"auto":"none",f.addEventListener&&f.addEventListener("playing",c),e.push(f),f.isBackgroundMusic&&NATIVE&&NATIVE.sound&&NATIVE.sound.registerMusic(_,f))}},this.getVolume=function(){if(this._useAudioContext)return this._gainNode.gain.value;var t=this._sources[0];return t&&t.volume||0},this.setVolume=function(t){if(this._useAudioContext)this._gainNode.gain.value=t;else for(var i,s=0;i=this._sources[s];++s)i.volume=t},this.stop=function(){if(this._useAudioContext)this._lastSrc&&this._lastSrc.stop(0),this._lastSrc=null;else for(var t,i=0;t=this._sources[i];++i)t.stop()},this.pause=function(){if(this._isPaused=!0,this._useAudioContext)this.stop();else for(var t,i=0;t=this._sources[i];++i)t.pause()},this.isPaused=function(){return this._isPaused},this.isPlaying=function(){var t=!1;if(!this._useAudioContext&&null!==this._lastSrc){var i=this._lastSrc.currentTime,s=this._lastSrc.duration;(isNaN(s)||i<s)&&(t=!this.isPaused())}return t},this.getDuration=function(){return this._lastSrc&&this._lastSrc.duration||0},this.getTime=function(){return this._lastSrc&&this._lastSrc.currentTime||0},this.setTime=function(t){!this._useAudioContext&&this._lastSrc&&this.isBackgroundMusic&&this._lastSrc.duration&&(this._lastSrc.currentTime=t)},this.play=function(t){var t=t||{},i=t.loop||this.loop,s=t.time||0,e=t.duration?1e3*t.duration:void 0;if(this._useAudioContext){var t=this._loader,u=this._paths[Math.random()*this._paths.length|0],o=t.getBuffer(u);o?this._playFromBuffer(o,i,s,e):t.doOnLoad(u,bind(this,function(t){this._isPaused||this._playFromBuffer(t[0],i,s,e)}))}else t=this._getRandom(),t.play(),t.muted&&(t.muted=!1,t.muted=!0),this.setTime(s),void 0!==e&&setTimeout(bind(this,"pause"),e),this._lastSrc=t;this._isPaused=!1},this._playFromBuffer=function(t,i,s,e){if(t){var u=_ctx.createBufferSource();u.buffer=t,u.loop=i,u.connect(this._gainNode),void 0!==e?u.start(_ctx.currentTime,s,e):u.start(_ctx.currentTime,s),this._lastSrc=u}},this._getRandom=function(){return this._sources[Math.random()*this._sources.length|0]}}),Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_AudioManager=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_AudioManager(function(){return this.init&&this.init.apply(this,arguments)},Emitter,function(t){this.init=function(i){if(i=i||{},t(this,"init",arguments),this._loader=null,this.setPath(i.path),this._map=i.files||i.map,this._preload=i.preload,this._sounds={},this._areEffectsMuted=this._isMusicMuted=!1,this._currentMusic=null,this._key="",this.setMuted(_muteAll),_registeredAudioManagers.push(this),i.persist&&this.persistState(i.persist),_ctx&&this.setAudioContext(),"undefined"!=typeof Audio){var s=new Audio;s.canPlayType("audio/mpeg")?this._ext=".mp3":s.canPlayType("audio/ogg")&&(this._ext=".ogg")}else logger.WARN&&console.warn("WARN","AudioManager","HTML5 Audio not supported!");void 0===this._ext&&(this._ext=".mp3",logger.WARN&&console.warn("WARN","AudioManager","Warning: sound support unclear - defaulting to .mp3"));for(var e in this._map)this.addSound(e,this._map[e]);if(_ctx&&this._preload){var u=[];for(e in this._sounds)s=this._sounds[e],u=u.concat(s._paths);this.preloadSounds(u)}},this.getAudioContext=function(){return _ctx},this.setAudioContext=function(){this._loader?this._loader.setAudioContext(_ctx):this._loader=new AudioLoader({ctx:_ctx})},this.getAudioLoader=function(){return this._loader},this.preloadSounds=function(t){this._loader&&this._loader.load(t)},this.getExt=function(){return this._ext},this.getPath=function(){return this._path},this.setPath=function(t){t&&(t=t.replace(/\\/$/,"")),this._path=t||""},this.addSound=function(t,i){this._sounds[t]=new MultiSound(this,t,i)},this.persistState=function(t){if(this._key=t,t=localStorage.getItem(this._key))try{t=JSON.parse(t)}catch(t){}t&&(logger.LOG&&console.log("LOG","AudioManager","Restoring Audio API state!"),this.setMusicMuted(t.isMusicMuted),this.setEffectsMuted(t.areEffectsMuted))},this._persist=function(){""!==this._key&&localStorage.setItem(this._key,JSON.stringify({isMusicMuted:this._isMusicMuted,areEffectsMuted:this._areEffectsMuted}))},this.getMuted=function(){return this._isMusicMuted&&this._areEffectsMuted},this.getMusicMuted=function(){return this._isMusicMuted},this.getEffectsMuted=function(){return this._areEffectsMuted},this.setMuted=function(t){this.setMusicMuted(t),this.setEffectsMuted(t)},this.setMusicMuted=function(t){_muteAll&&(t=!0),this._isMusicMuted=t,this._persist(),this._currentMusic&&(this._currentMusic.pause(),t||this._currentMusic.play())},this.setEffectsMuted=function(t){if(_muteAll&&(t=!0),this._areEffectsMuted=t,this._persist(),t)for(var i in this._sounds)t=this._sounds[i],t.isBackgroundMusic||t.stop()},this.getSound=function(t){var i=this._sounds[t];return i||logger.WARN&&console.warn("WARN","AudioManager","Warning: no sound named "+t),i},this.setVolume=function(t,i){var s=this.getSound(t);return!!s&&(s.setVolume(i),!0)},this.getVolume=function(t){return(t=this.getSound(t))?t.getVolume():null},this.setTime=function(t,i){var s=this.getSound(t);return!!s&&(s.setTime(i||0),!0)},this.getTime=function(t){return t=this.getSound(t),!!t&&t.getTime()},this.getDuration=function(t){return t=this.getSound(t),!!t&&t.getDuration()},this.play=function(t,i){var s=this.getSound(t);return!!s&&(i=i||{},s.isBackgroundMusic?(this._currentMusic&&this._currentMusic.stop(),this._currentMusic=s,this._isMusicMuted||s.play(i)):this._areEffectsMuted||s.play(i),!0)},this.pause=function(t){return!!(t=this.getSound(t))&&(this._currentMusic===t&&(this._currentMusic=null),t.pause(),!0)},this.stop=function(t){return!!(t=this.getSound(t))&&(this._currentMusic===t&&(this._currentMusic=null),t.stop(),!0)},this.isPaused=function(t){return t=this.getSound(t),!!t&&t.isPaused()},this.isPlaying=function(t){return t=this.getSound(t),!!t&&t.isPlaying()},this.playBackgroundMusic=this.play,this.pauseBackgroundMusic=function(){this._currentMusic&&this._currentMusic.pause()}}),exports.muteAll=function(t){_muteAll=t;for(var i=0,s=_registeredAudioManagers.length;i<s;i++)_registeredAudioManagers[i].setMuted(t)};',pre:!0},"modules/devkit-core/node_modules/jsio/packages/util/path.js":{path:"modules/devkit-core/node_modules/jsio/packages/util/path.js",friendlyPath:"util.path",directory:"modules/devkit-core/node_modules/jsio/packages/util/",filename:"path.js",pre:!0,src:'var util=jsio.__jsio.__util;exports.join=util.buildPath,exports.resolveRelativePath=util.resolveRelativePath,exports.splitPath=util.splitPath,exports.relative=util.relative,exports.splitExt=function(e){var e=exports.splitPath(e),t=e.filename.lastIndexOf(".");return-1==t?(e.basename=e.filename,e.ext=""):(e.basename=e.filename.substring(0,t),e.ext=e.filename.substring(t)),e};'},"modules/devkit-core/modules/timestep/src/ui/backend/sound/AudioLoader.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/sound/AudioLoader.js",friendlyPath:"ui.backend.sound.AudioLoader",directory:"modules/devkit-core/modules/timestep/src/ui/backend/sound/",filename:"AudioLoader.js",src:'var _ctx=null,_bufferMap={},_loadingMap={},_onLoadMap={},Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_sound_AudioLoader=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_sound_AudioLoader(function(){return this.init&&this.init.apply(this,arguments)},function(){function o(o,e,n,i){i?(n.buffers[e]=_bufferMap[o]=i,(e=_onLoadMap[o])&&(e([i]),_onLoadMap[o]=null)):logger.ERROR&&console.error("ERROR","ui.backend.sound.AudioLoader","Error decoding audio file data:",o),_loadingMap[o]=!1,++n.loadedCount===n.fileCount&&n.callback(n.buffers)}this.init=function(o){_ctx=o.ctx},this.load=function(o,e){for(var n={fileCount:o.length,loadedCount:0,buffers:[],callback:e||function(){logger.LOG&&console.log("LOG","ui.backend.sound.AudioLoader","Finished loading audio files:",o)}},i=0,t=o.length;i<t;i++)this._loadFile(o[i],i,n)},this._loadFile=function(e,n,i){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){_ctx.decodeAudioData(t.response,function(t){o(e,n,i,t)},function(t){logger.ERROR&&console.error("ERROR","ui.backend.sound.AudioLoader","Error with AudioContext decodeAudioData:",t&&t.err||t),o(e,n,i,null)})},t.onerror=function(){logger.ERROR&&console.error("ERROR","ui.backend.sound.AudioLoader","Error with audio XHR on URL:",e),o(e,n,i,null)},_loadingMap[e]=!0,t.send()},this.getAudioContext=function(){return _ctx},this.setAudioContext=function(o){_ctx=o},this.getBuffer=function(o){return _bufferMap[o]||null},this.isLoading=function(o){return _loadingMap[o]||!1},this.doOnLoad=function(o,e){if(this.isLoading(o))_onLoadMap[o]=e;else{var n=this.getBuffer(o);n?e([n]):this.load([o],e)}}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/canvas/filterRenderer.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/filterRenderer.js",friendlyPath:"ui.backend.canvas.filterRenderer",directory:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/",filename:"filterRenderer.js",src:'jsio("import cache.LRUCache as LRUCache"),jsio("import device");var FilterRenderer=__class__,FilterRenderer=FilterRenderer(function(){return this.init&&this.init.apply(this,arguments)},function(){var e=null,t=null,i=null;this.cache=new LRUCache(1024);var r={},s={},n=0,a=!0;this.initialize=function(){e=device.get("Canvas"),t=new e({useWebGL:CONFIG.useWebGL}),a=!1,this.useCache=!device.isNative&&!CONFIG.useWebGL,this.useWebGL=CONFIG.useWebGL,this.useCache&&jsio("import ui.Engine").get().subscribe("Tick",this,this.onTick)},this.onTick=function(){n++,r=s,s={}},this.renderFilter=function(e,r,s,n,o,h){a&&this.initialize();var c=e.filter,l=c&&c.getType&&c.getType(),u=this.useWebGL&&"NegativeMask"!==l&&"PositiveMask"!==l;if(!c||u||!c.getType)return null;if(this.useCache){var g=this.getCacheKey(r.getURL(),s,n,o,h,c);if(u=this.cache.get(g))return u}var d=this.useCache&&this.testShouldCache(g);switch(d?u=this.getCanvas(o,h):(u=t,u.width=o,u.height=h),l){case"LinearAdd":this.renderColorFilter(e,r,s,n,o,h,c,"lighter",u);break;case"Tint":this.renderColorFilter(e,r,s,n,o,h,c,"source-over",u);break;case"Multiply":this.renderMultiply(e,r,s,n,o,h,c,u);break;case"NegativeMask":this.renderMask(e,r,s,n,o,h,c.getMask(),"source-in",u);break;case"PositiveMask":this.renderMask(e,r,s,n,o,h,c.getMask(),"source-out",u)}return d&&(i=(e=this.cache.put(g,u))?e.value:null),u},this.testShouldCache=function(e){return e=s[e]=r[e]||n,3<n-e},this.renderColorFilter=function(e,t,i,r,s,n,a,o,h){return e=h.getContext("2d"),e.globalCompositeOperation="source-over",t.render(e,i,r,s,n,0,0,s,n),e.globalCompositeOperation=o,e.fillStyle=a.getColorString(),e.fillRect(0,0,s,n),e.globalCompositeOperation="destination-in",t.render(e,i,r,s,n,0,0,s,n),h},this.renderMultiply=function(e,t,i,r,s,n,a,o){for(var a=a.get(),e=o.getContext("2d"),t=t.getImageData(i,r,s,n),i=t.data,n=a.a,r=1+n*(a.r/255-1),s=1+n*(a.g/255-1),a=1+n*(a.b/255-1),n=0,h=i.length;n<h;n+=4)i[n]*=r,i[n+1]*=s,i[n+2]*=a;return e.putImageData(t,0,0),o},this.renderMask=function(e,t,i,r,s,n,a,o,h){var e=h.getContext("2d"),c=a.getSourceX(),l=a.getSourceY(),u=a.getSourceW(),g=a.getSourceH();return e.globalCompositeOperation="source-over",a.render(e,c,l,u,g,0,0,s,n),e.globalCompositeOperation=o,t.render(e,i,r,s,n,0,0,s,n),h},this.clearCache=function(){this.cache.removeAll()},this.getCacheKey=function(e,t,i,r,s,n){var a=n&&n.getType&&n.getType();return"NegativeMask"===a||"PositiveMask"===a?n=n.getMask().getURL():(n=n.get(),n=""+(255*n.a&255)+"|"+n.r+"|"+n.g+"|"+n.b),a+"|"+e+"|"+t+"|"+i+"|"+r+"|"+s+"|"+n},this.getCanvas=function(t,r){var s;return i?(s=i,s.width=t,s.height=r,i=null):s=new e({width:t,height:r}),s}});exports=new FilterRenderer;',pre:!0},"modules/devkit-core/modules/timestep/src/cache/LRUCache.js":{path:"modules/devkit-core/modules/timestep/src/cache/LRUCache.js",friendlyPath:"cache.LRUCache",directory:"modules/devkit-core/modules/timestep/src/cache/",filename:"LRUCache.js",baseMod:"cache",basePath:"/Users/tsunami/projects/devkitPoj/BubbleShooter/modules/devkit-core/modules/timestep/src/cache",src:'var LRUCache=function(e){this.size=0,this.limit=e,this._keymap={}};LRUCache.prototype.put=function(e,t){var i={key:e,value:t};return this._keymap[e]=i,this.tail?(this.tail.newer=i,i.older=this.tail):this.head=i,this.tail=i,this.size===this.limit?this.shift():void this.size++},LRUCache.prototype.shift=function(){var e=this.head;return e&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):this.head=void 0,e.newer=e.older=void 0,delete this._keymap[e.key]),e},LRUCache.prototype.get=function(e,t){var i=this._keymap[e];if(void 0!==i)return i===this.tail?t?i:i.value:(i.newer&&(i===this.head&&(this.head=i.newer),i.newer.older=i.older),i.older&&(i.older.newer=i.newer),i.newer=void 0,(i.older=this.tail)&&(this.tail.newer=i),this.tail=i,t?i:i.value)},LRUCache.prototype.find=function(e){return this._keymap[e]},LRUCache.prototype.set=function(e,t){var i,r=this.get(e,!0);return r?(i=r.value,r.value=t):(i=this.put(e,t))&&(i=i.value),i},LRUCache.prototype.remove=function(e){if(e=this._keymap[e])return delete this._keymap[e.key],e.newer&&e.older?(e.older.newer=e.newer,e.newer.older=e.older):e.newer?(e.newer.older=void 0,this.head=e.newer):e.older?(e.older.newer=void 0,this.tail=e.older):this.head=this.tail=void 0,this.size--,e.value},LRUCache.prototype.removeAll=function(){this.head=this.tail=void 0,this.size=0,this._keymap={}},LRUCache.prototype.keys="function"==typeof Object.keys?function(){return Object.keys(this._keymap)}:function(){var e,t=[];for(e in this._keymap)t.push(e);return t},LRUCache.prototype.forEach=function(e,t,i){if(!0===t?(i=!0,t=void 0):"object"!=typeof t&&(t=this),i)for(i=this.tail;i;)e.call(t,i.key,i.value,this),i=i.older;else for(i=this.head;i;)e.call(t,i.key,i.value,this),i=i.newer},LRUCache.prototype.toJSON=function(){for(var e=[],t=this.head;t;)e.push({key:t.key.toJSON(),value:t.value.toJSON()}),t=t.newer;return e},LRUCache.prototype.toString=function(){for(var e="",t=this.head;t;)e+=""+t.key+":"+t.value,(t=t.newer)&&(e+=" < ");return e},exports=LRUCache;',pre:!0},"modules/devkit-core/modules/timestep/src/ui/Engine.js":{path:"modules/devkit-core/modules/timestep/src/ui/Engine.js",friendlyPath:"ui.Engine",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"Engine.js",src:'jsio("import event.Emitter as Emitter"),jsio("import event.input.dispatch as dispatch"),jsio("import timer"),jsio("import ui.backend.ReflowManager as ReflowManager"),jsio("import device");var _timers=[];timer.onTick=function(t){for(var i=_timers.length;i--;)_timers[i](t)};var __instance=null,Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_Engine=__class__,Engine=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_Engine(function(){return this.init&&this.init.apply(this,arguments)},Emitter,function(){this.init=function(t){__instance||(jsio("import .StackView"),__instance=this);var i=t&&t.canvas;"string"==typeof i&&GLOBAL.document&&document.getElementById&&(i=document.getElementById(i)),this._opts=t=merge(t,{keyListenerEnabled:!0,width:i&&i.width||device.width,height:i&&i.height||device.height,view:null,dtFixed:0,dtMinimum:0,clearEachFrame:!0,alwaysRepaint:!0,repaintOnEvent:!0,mergeMoveEvents:!1,continuousInputCheck:!device.isMobileBrowser&&!device.isMobile,showFPS:!1}),_timers.push(bind(this,this._tick)),this._doubleBuffered=!0,this._countdown=null,this._rootElement=new(device.get("Canvas"))({el:i,useWebGL:!0,width:t.width,height:t.height,offscreen:!1}),i=device.screen.devicePixelRatio,this._rootElement.style.width=t.width/i+"px",this._rootElement.style.height=t.height/i+"px",this._rootElement.id="timestep_onscreen_canvas",this._ctx=this._rootElement.getContext("2d"),this._ctx.font="11px "+device.defaultFontFamily,this._view=t.view||new StackView,this._view.style.update({width:t.width,height:t.height}),this._view.__root=this,this._events=[],dispatch.KeyListener&&(this._keyListener=new dispatch.KeyListener),this._inputListener=new dispatch.InputListener({rootView:this._view,el:this._rootElement,keyListener:this._keyListener,engine:this}),this._reflowMgr=ReflowManager.get(),this._tickBuffer=0,this._onTick=[],"browser"==device.name&&(device.width=t.width,device.height=t.height,device.screen.width=t.width,device.screen.height=t.height,(t=device.get("doc"))&&t.setEngine(this)),this.updateOpts(this._opts)},this.getOpt=function(t){return this._opts[t]},this.updateOpts=function(t){if(this._opts=merge(t,this._opts),this._keyListener&&this._keyListener.setEnabled(this._opts.keyListenerEnabled),this._opts.scaleUI)if(Array.isArray(this._opts.scaleUI)){if(2!=this._opts.scaleUI.length)throw Error("Illegal value for engine option scaleUI: "+this._opts.scaleUI);this.scaleUI(this._opts.scaleUI[0],this._opts.scaleUI[1])}else this.scaleUI(576,1024);this._opts.showFPS?(this._applicationFPS||(jsio("import ui.backend.debug.FPSView as FPSView"),this._applicationFPS=new FPSView({application:this})),this._renderFPS=bind(this._applicationFPS,this._applicationFPS.render),this._tickFPS=bind(this._applicationFPS,this._applicationFPS.tick)):(this._renderFPS=function(){},this._tickFPS=function(){})},this.scaleUI=function(t,i){device.height>device.width?(this._view.baseWidth=t,this._view.baseHeight=device.height*(t/device.width),this._view.scale=device.width/this._view.baseWidth):(this._view.baseWidth=i,this._view.baseHeight=device.height*(i/device.width),this._view.scale=device.height/this._view.baseHeight),this._view.style.scale=this._view.scale},this.supports=function(t){return this._opts[t]},this.getInput=function(){return this._inputListener},this.getKeyListener=function(){return this._keyListener},this.getEvents=function(){return this._events},this.getElement=this.getCanvas=function(){return this._rootElement},this.getViewCtor=function(){return View},this.getView=function(){return this._view},this.setView=function(t){return this._view=t,this},this.show=function(){return this._rootElement.style.display="block",this},this.hide=function(){return this._rootElement.style.display="none",this},this.pause=function(){this.stopLoop(),this._keyListener&&this._keyListener.setEnabled(!1)},this.resume=function(){this.startLoop(),this._keyListener&&this._keyListener.setEnabled(!0)},this.stepFrame=function(t){this.pause(),this._countdown=t||1,this.resume()},this.startLoop=function(t){if(!this._running)return this._running=!0,this.now=0,timer.start(t||this._opts.dtMinimum),this.emit("resume"),this},this.stopLoop=function(){if(this._running)return this._running=!1,timer.stop(),this.emit("pause"),this},this.isRunning=function(){return this._running},this.doOnTick=function(t){1<arguments.length&&(t=bind.apply(this,arguments)),this._onTick.push(t)},this._tick=function(t){if(null!==this._countdown&&(this._countdown--,-1===this._countdown&&(this.pause(),this._countdown=null)),this._ctx){var i=this._ctx.getElement(),e=this._view.style;!i||e.width==i.width/e.scale&&e.height==i.height/e.scale||(e.width=i.width/e.scale,e.height=i.height/e.scale)}for(i=0;e=this._onTick[i];++i)e(t);if(e=this._inputListener.getEvents(),i=e.length,this._events=e,this._opts._mergeMoveEvents)for(var s=!1,i=i-1;0<=i;--i)e[i].type==dispatch.eventTypes.MOVE&&(s?e.splice(i,1):s=!0);for(i=0;s=e[i];++i)s.srcApp=this,dispatch.dispatchEvent(this._view,s);if(device.useDOM||(0<i?this._opts.repaintOnEvent&&this.needsRepaint():this._opts.continuousInputCheck&&(i=dispatch._evtHistory["input:move"])&&dispatch.dispatchEvent(this._view,new dispatch.InputEvent(i.id,i.type,i.srcPt))),this._opts.dtFixed)for(this._tickBuffer+=t;this._tickBuffer>=this._opts.dtFixed;)this._tickBuffer-=this._opts.dtFixed,this.now+=this._opts.dtFixed,this.__tick(this._opts.dtFixed);else this.__tick(t);this._reflowMgr.reflowViews(this._ctx),i=this._opts.alwaysRepaint||this._needsRepaint,!i&&this._doubleBuffered&&0<this._doubleBufferedState?(--this._doubleBufferedState,this.render(t)):i&&(this._doubleBufferedState=3,this.render(t)),this._needsRepaint=!1},this.render=function(t){this._opts.clearEachFrame&&this._ctx&&this._ctx.clear(),this._view.__view.constructor.absScale=1,this._view.__view.wrapRender(this._ctx,{}),this.publish("Render",this._ctx),this._ctx&&(DEBUG&&this._renderFPS(this._ctx,t),this._ctx.swap())},this.needsRepaint=function(){return this._needsRepaint=!0,this},this.__tick=function(t){this._tickFPS(t),this.publish("Tick",t),this._view.__view.wrapTick(t,this)}});exports.get=function(){return __instance};',pre:!0},"modules/devkit-core/modules/timestep/src/event/input/dispatch.js":{path:"modules/devkit-core/modules/timestep/src/event/input/dispatch.js",friendlyPath:"event.input.dispatch",directory:"modules/devkit-core/modules/timestep/src/event/input/",filename:"dispatch.js",src:'jsio("import math.geom.Point as Point"),jsio("import device"),jsio("import lib.Enum"),exports.eventTypes=new lib.Enum("START","MOVE","SELECT","SCROLL","CLEAR"),exports.VERTICAL_AXIS=2,exports.HORIZONTAL_AXIS=1,exports.dispatchEvent=function(t,e){e.root=t,exports.traceEvt(t,e,e.srcPt);var r=e.depth;exports._evtHistory[e.type]=e;for(var n=exports._evtCb[e.type]||exports.getEvtCbName(e.type),o=r-1;0<=o;--o){var i=e.trace[o],p=e.pt[i.uid];if(i.publish(n+"Capture",e,p,0==o),e.cancelled||i.__input.blockEvents)return}for(var s="on"+n,o=0;o<r&&(i=e.trace[o],!i.__input.canHandleEvents||(p=e.pt[i.uid],i[s]&&i[s](e,p,0==o),i.publish(n,e,p,0==o),i._onEventPropagate(e,p,0==o),!e.cancelled));++o);},exports.traceEvt=function(t,e,r){if(r=t.style.localizePoint(new Point(r)),!t.getInput().containsEvent(e,r))return!1;var n=t.getInput().canHandleEvents;n&&(e.depth++,e.trace.unshift(t),e.pt[t.uid]=r);for(var o=t.getSubviews(),i=o.length-1;0<=i;--i)if(o[i].style.visible&&exports.traceEvt(o[i],e,r))return!0;return n?(e.target=t,!0):void 0},exports._evtHistory={},exports._activeInputOver={},exports.clearOverState=function(t){if(t){var e=exports._activeInputOver[t];if(e&&(delete exports._activeInputOver[t],e=e.trace))for(var r,n=0;r=e[n];++n)r.__input.onLeave(t)}else for(t in exports._activeInputOver)exports.clearOverState(t)},exports._isDragging=!1,exports.isDragging=function(){return exports._isDragging},exports._evtCb={},exports.getEvtCbName=function(t){var e=exports.eventTypes[t];return exports._evtCb[t]="Input"+e.charAt(0)+e.substring(1).toLowerCase()},exports.InputListener=device.get("Input"),exports.KeyListener=device.get("KeyListener"),jsio("import .InputEvent as exports.InputEvent");',pre:!0},"modules/devkit-core/modules/timestep/src/event/input/InputEvent.js":{path:"modules/devkit-core/modules/timestep/src/event/input/InputEvent.js",friendlyPath:".InputEvent",directory:"modules/devkit-core/modules/timestep/src/event/input/",filename:"InputEvent.js",src:'jsio("import math.geom.Point as Point"),jsio("import timer");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_event_input_InputEvent=__class__,InputEvent=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_event_input_InputEvent(function(){return this.init&&this.init.apply(this,arguments)},function(){this.cancelled=!1,this.depth=0,this.init=function(t,i,e,s,n,o){this.id=t,this.type=i,this.point=this.pt={},this.srcPoint=this.srcPt=new Point(e,s),this.trace=[],this.root=n||null,this.when=timer.now,this.target=o||null},this.cancel=function(){this.cancelled=!0},this.clone=function(){return new InputEvent(this.id,this.type,this.srcPt.x,this.srcPt.y,this.root,this.target)}});',pre:!0},"modules/devkit-core/modules/timestep/src/timer.js":{path:"modules/devkit-core/modules/timestep/src/timer.js",friendlyPath:"timer",directory:"modules/devkit-core/modules/timestep/src/",filename:"timer.js",baseMod:"timer",basePath:"/Users/tsunami/projects/devkitPoj/BubbleShooter/modules/devkit-core/modules/timestep/src/timer",src:'jsio("import device");var Timer=device.get("Timer"),MAX_TICK=1e4;exports.now=0,exports.frames=0,exports.reset=function(){this._last=null},exports.tick=function(e){try{e>MAX_TICK&&(exports.onLargeTick(e,MAX_TICK),e=1),exports.now+=e,exports.frames++,exports.onTick(e),ok=!0}finally{exports.debug&&!ok&&app.stopLoop()}},exports.onLargeTick=function(e,t){logger.WARN&&console.warn("WARN","timer","Dropping large tick: "+e+"; Threshold is set at: "+t)},exports.onTick=function(){},exports.debug=!1,exports.start=function(e){this.reset(),this.isRunning=!0,device.get("Timer").start(exports.tick,e)},exports.stop=function(){this.reset(),this.isRunning=!1,device.get("Timer").stop()},exports.getTickProgress=function(){var e=+new Date;return-(Timer.last||e)+e};',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/ReflowManager.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/ReflowManager.js",friendlyPath:"ui.backend.ReflowManager",directory:"modules/devkit-core/modules/timestep/src/ui/backend/",filename:"ReflowManager.js",src:'var DEBUG_REFLOW=!1,DEBUG_TIME=!1;if(DEBUG_REFLOW||DEBUG_TIME){var _debug={space:"",stepIn:function(){return this.space+=" ",!0},stepOut:function(){return this.space=this.space.slice(0,this.space.length-1),!0},log:function(){return logger.log.apply(logger,[this.space].concat(Array.prototype.slice.call(arguments,0))),!0}};logger.LOG&&console.log("LOG","ui.backend.ReflowManager","===== CREATING REFLOW MANAGER")}var MAX_REFLOW_THRESHOLD=20,_pool=new(Class(function(){this._pool=[],this.recycle=function(e){e.view=null,this._pool.push(e)},this.get=function(e){var t=this._pool.pop()||{};return t.view=e,t.count=0,t.needsReflow=!1,t}})),Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_ReflowManager=__class__,ReflowManager=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_ReflowManager(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){this._pending={},this._pendingCount=this._iter=0},this.add=function(e){if(e.style.layout){var t=e.uid,t=this._pending[t]||(this._pending[t]=_pool.get(e));t.needsReflow||(++this._pendingCount,t.needsReflow=!0,DEBUG_REFLOW&&_debug.log("adding "+e+" ("+e.uid+")"+(" "+e.style.layout||"")+":",(void 0===e.style.width?"?":e.style.width)+"x"+(void 0===e.style.height?"?":e.style.height))),t.iter!=this._iter&&(t.iter=this._iter)}},this.reflow=function(e){void 0===e.style.__cachedWidth&&(e.style.__cachedWidth=e.style.width),void 0===e.style.__cachedHeight&&(e.style.__cachedHeight=e.style.height);var t=this._pending[e.uid];if(t&&t.needsReflow&&(t.needsReflow=!1,--this._pendingCount),e.__layout&&e.__layout.reflow(),e.reflow&&e.reflow(),e.__layout&&(t=e.style,t.__cachedWidth!=t.width||t.__cachedHeight!=t.height))for(var e=e.getSubviews(),t=0,i=e.length;t<i;++t)this.add(e[t])},this.reflowViews=function(){if(this._pendingCount){this._iter=0;var e,t;if(DEBUG_REFLOW&&_debug.stepIn(),DEBUG_TIME)var i=Date.now();for(;this._pendingCount;){for(;this._pendingCount;){++this._iter,e=0;for(t in this._pending){DEBUG_REFLOW&&0==e&&1==this._iter&&console.log(" == beginning reflow == ");var n=this._pending[t];if(n.count>MAX_REFLOW_THRESHOLD){logger.WARN&&console.warn("WARN","ui.backend.ReflowManager","reflow loop detected for view",n.view.uid),this.cleanUp();break}n.needsReflow&&(++n.count,DEBUG_REFLOW&&_debug.log("-- reflow view",n.view.uid,"("+n.count+" times)")&&_debug.stepIn(),this.reflow(n.view),DEBUG_REFLOW&&_debug.stepOut(),++e)}DEBUG_REFLOW&&e&&_debug.log("***** iteration",this._iter,"reflowed",e,"views")}for(t in this._pending)if(e=this._pending[t].view,e.hasListeners("resize")){var n=e.style,_=n.width,o=n.height;n.__cachedWidth==_&&n.__cachedHeight==o||(DEBUG_REFLOW&&_debug.log("view",e.uid,"resize event firing",_+"x"+o,"(prev: "+n.__cachedWidth+"x"+n.__cachedHeight+")"),n.__cachedWidth=_,n.__cachedHeight=o,e.emit("resize"))}}this.cleanUp(),DEBUG_REFLOW&&_debug.stepOut(),DEBUG_TIME&&this._iter&&(t=Date.now(),_debug.log("total reflow time:",t-i))}},this.cleanUp=function(){for(var e in this._pending)_pool.recycle(this._pending[e]),delete this._pending[e];this._pendingCount=0}}),_instance=null;exports.get=function(){return _instance||(_instance=new ReflowManager)};',pre:!0},"modules/devkit-core/modules/timestep/src/ui/StackView.js":{path:"modules/devkit-core/modules/timestep/src/ui/StackView.js",friendlyPath:".StackView",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"StackView.js",src:'jsio("import ui.View as View"),jsio("import animate");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_StackView=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_StackView(function(){return this.init&&this.init.apply(this,arguments)},View,function(t){this.init=function(i){i=merge(i,{layout:"box"}),t(this,"init",[i]),this.stack=[]},this.getStack=function(){return this.stack},this.getCurrentView=function(){return this.stack.length?this.stack[this.stack.length-1]:null},this.push=function(t,i,s){!this.stack[0]&&!1!==i&&(i=!0);var e=this.getCurrentView();return e&&this._hide(e,i),t.style.y=0,t.style.width=this.style.width/t.style.scale,t.style.height=this.style.height/t.style.scale,this.stack.push(t),this._show(t,i,s),t},this._hide=function(t,i,s){t.publish("ViewWillDisappear"),i?(this.removeSubview(t),t.publish("ViewDidDisappear")):(this.getInput().blockEvents=!0,animate(t).then({x:(s?1:-1)*this.style.width}).then(bind(this,function(){this.removeSubview(t),t.publish("ViewDidDisappear"),this.getInput().blockEvents=!1})))},this._show=function(t,i,s){t.publish("ViewWillAppear"),t.style.visible=!0,i?(this.addSubview(t),t.style.x=0,t.publish("ViewDidAppear")):(t.style.x=(s?-1:1)*this.style.width,this.addSubview(t),animate(t).then({x:0}).then(bind(t,"publish","ViewDidAppear")))},this.hasView=function(t){return 0<=this.stack.indexOf(t)},this.remove=function(t){t=this.stack.indexOf(t),0<=t&&this.stack.splice(t,1)},this.pop=function(t,i){if(!this.stack.length)return!1;var s=this.stack.pop();return this._hide(s,t,!1!==i),this.stack.length&&this._show(this.stack[this.stack.length-1],t,!0),s},this.popAll=function(t){for(;this.stack[1];)this.pop(t)}});',
pre:!0},"modules/devkit-core/modules/timestep/src/ui/View.js":{path:"modules/devkit-core/modules/timestep/src/ui/View.js",friendlyPath:"ui.View",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"View.js",src:'jsio("import device"),jsio("import event.Emitter as Emitter"),jsio("import math.geom.Point as Point"),jsio("import math.geom.Rect as Rect"),jsio("import .backend.canvas.ViewBacking"),jsio("import ui.backend.ReflowManager as ReflowManager");var _reflowMgr=ReflowManager.get();jsio("import event.input.dispatch as dispatch"),jsio("import event.input.InputHandler as InputHandler"),jsio("import animate"),jsio("import util.setProperty");var EventScheduler=__class__,EventScheduler=EventScheduler(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){this._queue=[]},this.add=function(t){if(this._queue.push(t),!this._running){for(this._running=!0;t=this._queue.shift();)t();this._running=!1}}}),scheduler=new EventScheduler,FocusMgr=new(Class(function(){this.init=function(){this._target=null,this._canChange=!0},this.focus=function(t){this._target!=t&&this._canChange&&(this._target&&this._target.onBlur&&this._target.onBlur(this),(this._target=t)&&t.onFocus&&this._target.onFocus(this))},this.blur=function(t){t.onBlur&&t.onBlur(this),this._target=!1},this.get=function(){return this}})),UID=0,_BackingCtor=null,Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_View=__class__,View=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_View(function(){return this.init&&this.init.apply(this,arguments)},Emitter,function(){this.init=function(t){t||(t={}),this.uid=++UID,this.__rightSibling=this.__leftSibling=this.__children=this.__parent=null,this.__input=new InputHandler(this,t),this.__view=this.style=new(t.Backing||_BackingCtor)(this,t),this._filter=null,this.__view._view=this,this.updateOpts(t)},this.updateOpts=function(t){if(t=t||{},this._opts)for(var i in t)this._opts[i]=t[i];else this._opts=t;return t.tag&&(this.tag=t.tag),t.filter&&(this._filter=t.filter),t.infinite&&(this._infinite=t.infinite),this.style.update(t),this.__input.update(t),t.centerAnchor&&(this.style.anchorX=(this.style.width||0)/2,this.style.anchorY=(this.style.height||0)/2),t.superview&&t.superview.addSubview(this),t.parent&&t.parent.addSubview(this),t},this.getFilters=function(){logger.WARN&&console.warn("WARN","ui.View","View.getFilters() is deprecated! Use View.getFilter() instead.");var t={};return this._filter&&(t[this._filter.getType()]=this._filter),t},this.getFilter=function(){return this._filter},this.addFilter=function(t){logger.WARN&&console.warn("WARN","ui.View","View.addFilter() is deprecated! Use View.setFilter() instead."),this.setFilter(t)},this.setFilter=function(t){this._filter=t},this.removeFilter=function(){this._filter=null},util.setProperty(this,"render",{value:void 0,cb:function(){this.__view&&(this.__view.hasJSRender=!0)}}),util.setProperty(this,"tick",{value:void 0,cb:function(){this.__view&&(this.__view.hasJSTick=!0)}}),this.getAnimation=function(t){return animate(this,t)},this.animate=function(t,i,e){return this.getAnimation().then(t,i,e)},this.focus=function(){return FocusMgr.get().focus(this),this},this.blur=function(){return FocusMgr.get().blur(this),this},this.onFocus=function(){this._isFocused=!0},this.onBlur=function(){this._isFocused=!1},this.isDragging=function(){return this.__input.isDragging()},this.startDrag=function(t){this.__input.startDrag(t)},this.getInput=function(){return this.__input},this.isInputOver=function(){return!!this.__input.overCount},this.getInputOverCount=function(){return this._inputOverCount},this.setHandleEvents=this.canHandleEvents=function(t,i){this.__input.canHandleEvents=t,"boolean"==typeof i&&(this.__input.blockEvents=i)},this.setIsHandlingEvents=function(t){this.__input.canHandleEvents=t},this.isHandlingEvents=function(){return this.__input.canHandleEvents},this.needsRepaint=function(){this._needsRepaint=!0},this.needsReflow=function(){(this.reflow!=t||this.style.layout)&&(_reflowMgr.add(this),this._needsRepaint=!0)},this.reflowSync=function(){_reflowMgr.reflow(this)},this._onEventPropagate=function(t,i,e){if(e){var n,i=t.id;switch(t.type){case dispatch.eventTypes.SELECT:case dispatch.eventTypes.CLEAR:dispatch._evtHistory[dispatch.eventTypes.MOVE]=null,(e=dispatch._activeInputOver[i])&&dispatch.clearOverState(i);break;case dispatch.eventTypes.START:case dispatch.eventTypes.MOVE:var s=t.trace[0],r=null;if((e=dispatch._activeInputOver[i])&&s!=e.trace[0]){var h=e.trace;for(n=0;r=h[n];++n)r.uid in t.pt||r.__input.onLeave(i,s==r)}if(!e||s!=e.trace[0]){for(h=t.trace,n=t.depth-1;0<=n;--n)h[n].__input.onEnter(i,s==r);dispatch._activeInputOver[i]=t}}}},this.localizePoint=function(t){var i=this.getParents(),e=0;for(i.push(this);i[e];)t=i[e++].__view.localizePoint(t);return t},this.getSubview=function(t){return this.__view.getSubviews()[t]},this.getSubviews=function(){return this.__view.getSubviews()},this.getSuperview=function(){return this.__view.getSuperview()},this.connectEvent=function(t,i){this.__subs||(this.__subs=[],this.on("ViewAdded",bind(this,"_connectEvents")),this.on("ViewRemoved",bind(this,"_disconnectEvents")),this.__root&&this._connectEvents());var e=Array.prototype.slice.call(arguments,1);this.__subs.push([t,e]),this.__root&&t.on.apply(t,e)},this.disconnectEvent=function(t,i){if(this.__subs)for(var e,n=Array.prototype.slice.call(arguments,1),s=0;e=this.__subs[s];++s){var r;if(r=e[0]==t)t:{r=0;for(var h=n.length;r<h;++r)if(n[r]!=e[1][r]){r=!1;break t}r=!0}r&&(e[0].removeListener.apply(e[0],e[1]),this.__subs.splice(s--,1))}},this._connectEvents=function(){for(var t,i=0;t=this.__subs[i];++i)t[0].on.apply(t[0],t[1])},this._disconnectEvents=function(){for(var t,i=0;t=this.__subs[i];++i)t[0].removeListener.apply(t[0],t[1])},this.addSubview=function(t){if(this.__view.addSubview(t)&&(t.needsRepaint(),this._linkView(t),t.__input.resetOver(),this.publish("SubviewAdded",t),this.__root)){var i=this.__root;scheduler.add(bind(this,function e(n){n.style.__firstRender||(n.style.__firstRender=!0,n.needsReflow()),n.__root=i,n.emit("ViewAdded",t);for(var s,n=n.getSubviews(),r=0;s=n[r];++r)e(s)},t))}return t},this._linkView=function(t){this._unlinkView(t),this.__children&&(this.__children.__leftSibling=t),t.__leftSibling=null,t.__rightSibling=this.__children,this.__children=t,t.__parent=this},this._unlinkView=function(t){t.__parent&&(t.__leftSibling&&(t.__leftSibling.__rightSibling=t.__rightSibling),t.__rightSibling&&(t.__rightSibling.__leftSibling=t.__leftSibling),t.__parent.__children==t&&(t.__parent.__children=t.__rightSibling),t.__leftSibling=null,t.__rightSibling=null,t.__parent=null)},this.removeSubview=function(t){return this.__view.removeSubview(t)&&(this._unlinkView(t),this.publish("SubviewRemoved",t),t.__root&&scheduler.add(bind(this,function t(i){i.__root=null,i.emit("ViewRemoved",this);for(var e,i=i.getSubviews(),n=0;e=i[n];++n)t(e)},t))),t},this.removeFromSuperview=function(){var t=this.__view.getSuperview();t&&t.removeSubview(this)},this.removeAllSubviews=function(){for(var t=this.getSubviews(),i=t.length;i--;)this.removeSubview(t[i])},util.setProperty(this,"_superview",{get:this.getSuperview,set:function(){}}),util.setProperty(this,"_subviews",{get:this.getSubviews,set:function(){}});var t=function(){};this.reflow=t,this.getEngine=this.getApp=function(){return this.__root},this.getParents=this.getSuperviews=function(){for(var t=[],i=this.getSuperview();i;)t.unshift(i),i=i.getSuperview();return t},this.buildView=function(){},this.containsLocalPoint=function(t){if(this._infinite)return!0;var i=this.style,e=i.width,i=i.height;return 0<e&&0<i?t.x<=e&&t.y<=i&&0<=t.x&&0<=t.y:0<e?t.x<=e&&t.y>=i&&0<=t.x&&0>=t.y:0<i?t.x>=e&&t.y<=i&&0>=t.x&&0<=t.y:t.x>=e&&t.y>=i&&0>=t.x&&0>=t.y},this._boundingShape={},this.getBoundingShape=function(t){if(this._infinite)return!0;var i=this.style,e=i.width,n=i.height;if((!e||!n)&&i.layout){var s=this.getSuperview();s&&(s=s.getBoundingShape(!0),e||(e=s.width,i.layoutWidth&&(e*=parseInt(i.layoutWidth)/100)),!n)&&(n=s.height,i.layoutHeight&&(n*=parseInt(i.layoutHeight)/100))}return t?(this._boundingShape.x=i.x,this._boundingShape.y=i.y,this._boundingShape.width=e*i.scale,this._boundingShape.height=n*i.scale,this._boundingShape):new Rect(i.x,i.y,e*i.scale,n*i.scale)},this.getRelativeRegion=function(t,i){var e=this.getPosition(i||t.src);return new Rect((t.x-e.x)/e.scale,(t.y-e.y)/e.scale,t.width/e.scale,t.height/e.scale)},this.getPosition=function(t){for(var i=new Point,e=this,n=0,s=this.style,r=s.width,s=s.height,h=1;e&&e!=t;){var o=e.style.scale;i.add(-e.style.anchorX,-e.style.anchorY),i.rotate(e.style.r),i.scale(o),i.add(e.style.anchorX+e.style.x+e.style.offsetX,e.style.anchorY+e.style.y+e.style.offsetY),n+=e.style.r,r*=o,s*=o,h*=o,e=e.__view.getSuperview()}return{x:i.x,y:i.y,r:n%(2*Math.PI),width:r,height:s,scale:h,anchorX:this.style.anchorX,anchorY:this.style.anchorY}},this.getBacking=function(){return this.__view},this.show=function(){this.style.visible=!0,this.needsRepaint()},this.hide=function(){this.style.visible=!1,this.needsRepaint()},this.toString=this.getTag=function(){var t="View";return DEBUG&&(this.__tagClassName?t=this.__tagClassName:((t=this.constructor.name)||(t=this.constructor.toString().match(/^function ([^(]*)/)[1]),t&&(t=t.substr(t.lastIndexOf("_")+1)),this.__tagClassName=t||"unknown")),t+this.uid+(this.tag?":"+this.tag:"")}}),_extensions=[];View.addExtension=function(t){t.extend(View.BackingCtor),_extensions.push(t)},View.setDefaultViewBacking=function(t){_BackingCtor=View.BackingCtor=t,_extensions.forEach(function(t){t.extend(_BackingCtor)})},View.setDefaultViewBacking(backend.canvas.ViewBacking);',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/canvas/ViewBacking.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/ViewBacking.js",friendlyPath:".backend.canvas.ViewBacking",directory:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/",filename:"ViewBacking.js",src:'jsio("import ..strPad"),jsio("import ..BaseBacking");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_canvas_ViewBacking=__class__,ViewBacking=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_canvas_ViewBacking(function(){return this.init&&this.init.apply(this,arguments)},BaseBacking,function(){var i={a:1,b:0,c:0,d:1,tx:0,ty:0},t=Math.sin,s=Math.cos;this.init=function(i){this._globalTransform={a:1,b:0,c:0,d:1,tx:0,ty:0},this._cachedSin=this._cachedRotation=0,this._globalOpacity=this._cachedCos=1,this._view=i,this._superview=null,this._subviews=[],this._childCount=0},this.getSuperview=function(){return this._superview},this.getSubviews=function(){this._needsSort&&(this._needsSort=!1,this._subviews.sort());for(var i=[],t=this._subviews,s=t.length,e=0;e<s;++e)i[e]=t[e]._view;return i};var e=9e5;this.addSubview=function(i){var t=i.__view,s=t._superview;return s!=this._view&&this!=t&&(s&&s.__view.removeSubview(i),i=this._subviews.length,this._subviews[i]=t,t._superview=this._view,t._setAddedAt(++e),this._childCount++,i&&t.__sortKey<this._subviews[i-1].__sortKey&&(this._needsSort=!0),!0)},this.removeSubview=function(i){var t=this._subviews.indexOf(i.__view);return-1!=t&&(this._subviews.splice(t,1),this._childCount--,i.__view._superview=null,!0)},this.wrapTick=function(i,t){this._view._tick&&this._view._tick(i,t);for(var s=this._subviews,e=0;e<this._childCount;++e)s[e].wrapTick(i,t)},this.updateGlobalTransform=function(){var e,h=this.flipX?-1:1,_=this.flipY?-1:1,r=this._superview&&this._superview.__view;r?(e=r._globalTransform,this._globalOpacity=r._globalOpacity*this.opacity):(e=i,this._globalOpacity=this.opacity);var r=this._globalTransform,o=this.scaleX*this.scale*h,a=this.scaleY*this.scale*_,_=this.flipX?this._width-this.anchorX:this.anchorX,h=this.flipY?this._height-this.anchorY:this.anchorY,n=this.x+this.offsetX+this.anchorX,c=this.y+this.offsetY+this.anchorY;if(0===this.r)n-=_*o,c-=h*a,r.a=e.a*o,r.b=e.b*o,r.c=e.c*a,r.d=e.d*a;else{this.r!==this._cachedRotation&&(this._cachedRotation=this.r,this._cachedSin=t(this.r),this._cachedCos=s(this.r));var d=this._cachedCos*o,o=this._cachedSin*o,l=-this._cachedSin*a,a=this._cachedCos*a;(_||h)&&(n-=d*_+l*h,c-=o*_+a*h),r.a=d*e.a+o*e.c,r.b=d*e.b+o*e.d,r.c=l*e.a+a*e.c,r.d=l*e.b+a*e.d}r.tx=n*e.a+c*e.c+e.tx,r.ty=n*e.b+c*e.d+e.ty},this.wrapRender=function(i,t){if(this.visible){this._needsSort&&(this._needsSort=!1,this._subviews.sort());var s=this._width,e=this._height;if(!(0>s||0>e)){var h=this.clip||this.compositeOperation||!this._view.__parent;h&&i.save(),this.updateGlobalTransform();var _=this._globalTransform;i.setTransform(_.a,_.b,_.c,_.d,_.tx,_.ty),i.globalAlpha=this._globalOpacity,this.clip&&i.clipRect(0,0,s,e),(_=this._view.getFilter())?i.setFilter(_):i.clearFilter(),this.compositeOperation&&(i.globalCompositeOperation=this.compositeOperation),this.backgroundColor&&(i.fillStyle=this.backgroundColor,i.fillRect(0,0,s,e)),s=t.viewport,this._view._render&&this._view._render(i,t),this._renderSubviews(i,t),t.viewport=s,i.clearFilter(),h&&i.restore()}}},this._renderSubviews=function(i,t){for(var s=this._subviews,e=0;e<this._childCount;e++)s[e].wrapRender(i,t)},this._onResize=function(){this._view.needsReflow();var i=this._view.style;i.centerAnchor&&(i.anchorX=(i.width||0)/2,i.anchorY=(i.height||0)/2)},this._sortIndex=strPad.initialValue,this._onZIndex=function(i,t){this._sortIndex=strPad.pad(t),this._setSortKey(),this._view.needsRepaint();var s=this._view.getSuperview();s&&(s.__view._needsSort=!0)},this._setAddedAt=function(i){this._addedAt=i,this._setSortKey()},this._setSortKey=function(){this.__sortKey=this._sortIndex+this._addedAt},this._onOffsetX=function(i){this.offsetX=i*this.width/100},this._onOffsetY=function(i){this.offsetY=i*this.height/100},this.toString=function(){return this.__sortKey}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/strPad.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/strPad.js",friendlyPath:"..strPad",directory:"modules/devkit-core/modules/timestep/src/ui/backend/",filename:"strPad.js",src:'var LEN=8,MAX=99999999,MIN=-99999999,PAD="00000000";exports.initialValue=PAD,exports.pad=function(t){return t=~~t,t<MIN&&(t=MIN),t>MAX&&(t=MAX),0>t?(t*=-1,"-"+PAD.substring(0,LEN-(""+t).length)+t):PAD.substring(0,LEN-(""+t).length)+t};',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/BaseBacking.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/BaseBacking.js",friendlyPath:"..BaseBacking",directory:"modules/devkit-core/modules/timestep/src/ui/backend/",filename:"BaseBacking.js",src:'jsio("import util.setProperty as setProperty");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_BaseBacking=__class__,BaseBacking=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_BaseBacking(function(){return this.init&&this.init.apply(this,arguments)},function(){var e=this.constructor.styleKeys={},t={x:{value:0},y:{value:0},offsetX:{value:0},offsetY:{value:0},offsetXPercent:{value:void 0,cb:"_onOffsetX"},offsetYPercent:{value:void 0,cb:"_onOffsetY"},anchorX:{value:0},anchorY:{value:0},centerAnchor:{value:!1},width:{cb:"_onResize"},height:{cb:"_onResize"},r:{value:0},opacity:{value:1},zIndex:{value:0,cb:"_onZIndex"},scale:{value:1},scaleX:{value:1},scaleY:{value:1},flipX:{value:!1},flipY:{value:!1},visible:{value:!0},shadowColor:{value:"black"},clip:{value:!1},backgroundColor:{value:""},compositeOperation:{value:void 0}};this.constructor.addProperty=function(t,o){e[t]=!0,setProperty(this.prototype,t,o)};for(var o in t)this.constructor.addProperty(o,t[o]);this.localizePoint=function(e){return e.x-=this.x+this.anchorX+this.offsetX,e.y-=this.y+this.anchorY+this.offsetY,this.r&&e.rotate(-this.r),e.scale(1/this.scale),e.x+=this.anchorX,e.y+=this.anchorY,e},this.copy=function(){var t,o={};for(t in e)o[t]=this[t];return o},this.update=function(t){for(var o in t)t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&(this[o]=t[o]);return this}});',pre:!0},"modules/devkit-core/modules/timestep/src/event/input/InputHandler.js":{path:"modules/devkit-core/modules/timestep/src/event/input/InputHandler.js",friendlyPath:"event.input.InputHandler",directory:"modules/devkit-core/modules/timestep/src/event/input/",filename:"InputHandler.js",src:'jsio("import math.geom.Point as Point"),jsio("import event.input.dispatch as dispatch");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_event_input_InputHandler=__class__,InputHandler=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_event_input_InputHandler(function(){return this.init&&this.init.apply(this,arguments)},function(){this.overCount=this.dragCount=this.startCount=0,this.canHandleEvents=!0,this.blockEvents=!1,this.init=function(t,i){this.view=t,this.view.subscribe("InputStart",this,"onInputStart"),this.update(i)},this.update=function(t){"canHandleEvents"in t&&(this.canHandleEvents=t.canHandleEvents),"blockEvents"in t&&(this.blockEvents=t.blockEvents)},this.containsEvent=function(t,i){return!this.blockEvents&&(!this.view._superview||this.view.containsLocalPoint(i))},this.onEnter=function(t,i){var n=this.view,s=this._over||(this._over={});t in s||(s[t]=!0,this.overCount++,n.onInputOver&&n.onInputOver(s,this.overCount,i),n.publish("InputOver",s,this.overCount,i))},this.onLeave=function(t,i){var n=this.view,s=this._over||(this._over={});t in s&&(delete s[t],--this.overCount,n.onInputOut&&n.onInputOut(s,this.overCount,i),n.publish("InputOut",s,this.overCount,i))},this.resetOver=function(){delete this._over,this.overCount=0},this.startDrag=function(t){var t=t||{},i=this.view,n=t.inputStartEvt||t.inputStartEvent||dispatch._evtHistory[dispatch.eventTypes.START],s=n.id,e=this._isDragging||(this._isDragging={});e[s]||(e[s]=!0,++this.dragCount,++this.startCount,s=n.root,i=new dispatch.InputEvent(n.id,"input:drag",n.srcPt.x,n.srcPt.y,s,i),i.didDrag=!1,i.radius=t.radius*t.radius||0,s.subscribe("InputMoveCapture",this,"onDragStart",i),s.subscribe("InputSelectCapture",this,"onDragStop",i))},this.isDragging=function(){return this.dragCount&&dispatch._isDragging},this.onDragStart=function(t,i){var n=i.srcPt.x-t.srcPt.x,s=i.srcPt.y-t.srcPt.y;n*n+s*s<=t.radius||t.didDrag||(t.didDrag=!0,--this.startCount,n=this.view,0==this.startCount&&t.root.unsubscribe("InputMoveCapture",this,"onDragStart"),t.currPt=t.srcPt,t.localPt=n.localizePoint(new Point(t.currPt)),n.onDragStart&&n.onDragStart(t),n.publish("DragStart",t),t.root.subscribe("InputMoveCapture",this,"onDrag",t),this.onDrag(t,i))},this.onDrag=function(t,i){if(t.id==i.id&&(i.srcPt.x!=t.currPt.x||i.srcPt.y!=t.currPt.y)){var n=this.view;t.prevPt=t.currPt,t.currPt=i.srcPt,t.prevLocalPt=t.localPt,t.localPt=n.localizePoint(new Point(t.currPt));var s=Point.subtract(t.localPt,t.prevLocalPt);dispatch._isDragging=!0,n.onDrag&&n.onDrag(t,i,s),n.publish("Drag",t,i,s)}},this.onDragStop=function(t,i){var n=t.id,s=this._isDragging||(this._isDragging={});s[n]&&t.id==i.id&&(delete s[n],--this.dragCount,this.dragCount||(t.root.unsubscribe("InputMoveCapture",this,"onDragStart"),t.root.unsubscribe("InputMoveCapture",this,"onDrag"),t.root.unsubscribe("InputSelectCapture",this,"onDragStop"),dispatch._isDragging=!1),t.didDrag)&&(n=this.view,i.cancel(),n.onDragStop&&n.onDragStop(t,i),n.publish("DragStop",t,i))},this.onInputStart=function(t){0!==this.view.listeners("InputActivate").length&&(this._isDown=!0,this.view.subscribe("InputSelect",this,"onInputSelect"),t.root.subscribeOnce("InputSelect",this,"onGlobalInputSelect"))},this.onInputSelect=function(t,i){this._isDown&&this.view.publish("InputActivate",t,i),this._isDown=!1,this.view.unsubscribe("InputSelect",this,"onInputSelect")},this.onGlobalInputSelect=function(){this._isDown&&this.view.unsubscribe("InputSelect",this,"onInputSelect"),this._isDown=!1}});',pre:!0},"modules/devkit-core/modules/timestep/src/animate.js":{path:"modules/devkit-core/modules/timestep/src/animate.js",friendlyPath:"animate",directory:"modules/devkit-core/modules/timestep/src/",filename:"animate.js",baseMod:"animate",basePath:"/Users/tsunami/projects/devkitPoj/BubbleShooter/modules/devkit-core/modules/timestep/src/animate",src:'jsio("import ui.backend.canvas.animate as exports");',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/canvas/animate.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/animate.js",friendlyPath:"ui.backend.canvas.animate",directory:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/",filename:"animate.js",src:'function getTransition(t){return"function"==typeof t?t:TRANSITIONS[0|t]}jsio("import event.Emitter as Emitter"),jsio("import animate.transitions as transitions"),jsio("import timer"),jsio("import ObjectPool");var engine=null,groups={},DEFAULT_GROUP_ID="__default_group";exports=function(t,e){if(null===engine&&(jsio("import ui.Engine as Engine"),jsio("import ui.View as View"),jsio("import device"),engine=Engine.get()),device.useDOM&&t instanceof View&&!e)return t.getAnimation();e=e||DEFAULT_GROUP_ID,!groups[e]&&(groups[e]=new Group(e));var i=t.__anims||(t.__anims={}),s=i[e];return s||(s=t instanceof View?new ViewAnimator(t):new Animator(t),s.groupID=e,i[e]=s),s},exports.getSubjectAnimations=function(t){var e,t=t.__anims||{},i=[];for(e in t)i.push(t[e]);return i},exports.clearSubjectAnimations=function(t){for(var t=this.getSubjectAnimations(t),e=0;e<t.length;e++)t[e].clear()},exports.commitSubjectAnimations=function(t){for(var t=this.getSubjectAnimations(t),e=0;e<t.length;e++)t[e].commit()},exports.pauseSubjectAnimations=function(t){for(var t=this.getSubjectAnimations(t),e=0;e<t.length;e++)t[e].pause()},exports.resumeSubjectAnimations=function(t){for(var t=this.getSubjectAnimations(t),e=0;e<t.length;e++)t[e].resume()},exports.clearAllAnimations=function(){for(var t in groups)groups[t].clear()},exports.commitAllAnimations=function(){for(var t in groups)groups[t].commit()},exports.pauseAllAnimations=function(){for(var t in groups)groups[t].pause()},exports.resumeAllAnimations=function(){for(var t in groups)groups[t].resume()},exports.getGroup=function(t){return groups[t||DEFAULT_GROUP_ID]};var Group=__class__,Group=Group(function(){return this.init&&this.init.apply(this,arguments)},Emitter,function(){this.init=function(t){this.groupID=t+"",this.anims=[]},this.add=function(t){-1===this.anims.indexOf(t)&&this.anims.push(t)},this.remove=function(t){t=this.anims.indexOf(t),-1!==t&&(this.anims.splice(t,1),0===this.anims.length&&this.publish("Finish"))},this.isActive=function(){return 0<this.anims.length},this.clear=function(){for(var t=this.anims,e=t.length-1;0<=e;e--)t[e].clear();return this},this.commit=function(){for(var t=this.anims,e=t.length-1;0<=e;e--)t[e].commit();return this},this.pause=function(){for(var t=this.anims,e=t.length-1;0<=e;e--)t[e].pause();return this},this.resume=function(){for(var t=this.anims,e=t.length-1;0<=e;e--)t[e].resume();return this}}),TRANSITIONS=[transitions.easeInOut,transitions.linear,transitions.easeIn,transitions.easeOut,transitions.easeInOut,transitions.easeInQuad,transitions.easeOutQuad,transitions.easeInOutQuad,transitions.easeInCubic,transitions.easeOutCubic,transitions.easeInOutCubic,transitions.easeInQuart,transitions.easeOutQuart,transitions.easeInOutQuart,transitions.easeInQuint,transitions.easeOutQuint,transitions.easeInOutQuint,transitions.easeInSine,transitions.easeOutSine,transitions.easeInOutSine,transitions.easeInExpo,transitions.easeOutExpo,transitions.easeInOutExpo,transitions.easeInCirc,transitions.easeOutCirc,transitions.easeInOutCirc,transitions.easeInElastic,transitions.easeOutElastic,transitions.easeInOutElastic,transitions.easeInBack,transitions.easeOutBack,transitions.easeInOutBack,transitions.easeInBounce,transitions.easeOutBounce,transitions.easeInOutBounce];exports.linear=1,exports.easeIn=2,exports.easeOut=3,exports.easeInOut=4,exports.easeInQuad=5,exports.easeOutQuad=6,exports.easeInOutQuad=7,exports.easeInCubic=8,exports.easeOutCubic=9,exports.easeInOutCubic=10,exports.easeInQuart=11,exports.easeOutQuart=12,exports.easeInOutQuart=13,exports.easeInQuint=14,exports.easeOutQuint=15,exports.easeInOutQuint=16,exports.easeInSine=17,exports.easeOutSine=18,exports.easeInOutSine=19,exports.easeInExpo=20,exports.easeOutExpo=21,exports.easeInOutExpo=22,exports.easeInCirc=23,exports.easeOutCirc=24,exports.easeInOutCirc=25,exports.easeInElastic=26,exports.easeOutElastic=27,exports.easeInOutElastic=28,exports.easeInBack=29,exports.easeOutBack=30,exports.easeInOutBack=31,exports.easeInBounce=32,exports.easeOutBounce=33,exports.easeInOutBounce=34;var Frame=__class__,Frame=Frame(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){this.target=this.subject=null,this.duration=0,this.pool=this._baseStyle=this.base=this.transition=null,this._poolIndex=0,this._obtainedFromPool=!1},this.reset=function(t,e,i,s){if(this.subject=t,this.target=e,this.duration=0===i?0:i||500,this.transition=getTransition(s),this._baseStyle=this.base=null,0>this.duration)throw Error("Animations cannot have negative durations!")},this.recycle=function(){this.pool.release(this)},this.exec=function(){},this.debugLog=function(){}}),CallbackFrame=__class__,CallbackFrame=CallbackFrame(function(){return this.init&&this.init.apply(this,arguments)},Frame,function(){var t=Frame.prototype;this.reset=function(e,i,s,n){t.reset.call(this,e,i,s,n),this.duration=s||0},this.exec=function(t,e,i){this.target.call(this.subject,t,e,i)}}),ObjectFrame=__class__,ObjectFrame=ObjectFrame(function(){return this.init&&this.init.apply(this,arguments)},Frame,function(){this.exec=function(t,e,i){if(!this.base){this.base={};for(var s in this.target)this.base[s]=this.subject[s]}for(s in this.target)e=this.base[s],this.subject[s]=e+t*(this.target[s]-e);i&&this.debugLog(t)},this.debugLog=function(t){var e,i={};for(e in this.target)i[e]=this.subject[e]+" -> "+this.target[e];logger.LOG&&console.log("LOG","ui.backend.canvas.animate",this.duration,t,JSON.stringify(i))}}),ViewStyleFrame=__class__,ViewStyleFrame=ViewStyleFrame(function(){return this.init&&this.init.apply(this,arguments)},Frame,function(){this.resolveDeltas=function(t){var e,i=this.target;for(e in i){var s=e.substring(1);"d"==e.charAt(0)&&!(e in t)&&s in t&&(i[s]=i[e]+t[s],delete i[e])}},this.exec=function(t,e,i){var e=this._baseStyle,s=this.target,n=this.subject.style;e||(e=this._baseStyle=n.copy(),this.resolveDeltas(e));for(var o in s)if(o in e){var r=e[o];n[o]=r+t*(s[o]-r)}i&&this.debugLog(t)},this.debugLog=function(t){var e,i={},s=this.target,n=this.subject.style;for(e in s)i[e]=n[e]+" -> "+s[e];logger.LOG&&console.log("LOG","ui.backend.canvas.animate",timer.now,this.duration,t,JSON.stringify(i))}});exports.Animator=__class__;var Animator=exports.Animator=exports.Animator(function(){return this.init&&this.init.apply(this,arguments)},Emitter,function(){this.init=function(t){this.subject=t,this._queue=[],this._elapsed=0,this._debug=this._isScheduled=this._isPaused=!1},this.clear=function(){for(var t=this._queue,e=t.length,i=0;i<e;i++)t[i].recycle();return this._elapsed=t.length=0,this._unschedule(),this._removeFromGroup(),this},this.pause=function(){return this._isPaused||(this._isPaused=!0,this._unschedule()),this},this.resume=function(){return this._isPaused&&(this._isPaused=!1,this._schedule()),this},this._schedule=function(){this._isScheduled||(this._isScheduled=!0,engine.subscribe("Tick",this,"onTick"))},this._unschedule=function(){this._isScheduled&&(this._isScheduled=!1,engine.unsubscribe("Tick",this,"onTick"))},this.isPaused=function(){return this._isPaused},this.hasFrames=function(){return!!this._queue[0]},this.wait=function(t){return this.then(void 0,t)},this.buildFrame=function(t,e,i){var s,n=this.subject;return s=typeof t,"function"===s?(s=callbackFramePool.obtain(),s.pool=callbackFramePool):"object"===s?(s=objectFramePool.obtain(),s.pool=objectFramePool):(s=framePool.obtain(),s.pool=framePool),s.reset(n,t,e,i),s},this.now=function(t,e,i){return this.clear(),this.then(t,e,i)},this.then=function(t,e,i){return this._queue.length||(this._elapsed=0),this._queue.push(this.buildFrame(t,e,i)),this._schedule(),this._addToGroup(),this},this.debug=function(){return this._debug=!0,this},this.commit=function(){this.resume();for(var t,e=this._elapsed=0;t=this._queue[e];++e)this._elapsed+=t.duration;return this.next(),this},this.onTick=function(t){this._isScheduled&&(this._elapsed+=t,this.next())},this.next=function(){for(var t=this._queue[0];t;){var e=t.duration,i=this._elapsed>=e,s=i?1:this._elapsed/e,n=t.transition(s);if(i&&(this._elapsed-=e),t.exec(n,s,this._debug),i&&t===this._queue[0]&&this._queue.shift().recycle(),!i||this._isPaused)return;t=this._queue[0]}this._unschedule(),this._removeFromGroup()},this._addToGroup=function(){var t=groups[this.groupID];t&&t.add(this)},this._removeFromGroup=function(){var t=groups[this.groupID];t&&t.remove(this)}}),ViewAnimator=__class__,ViewAnimator=ViewAnimator(function(){return this.init&&this.init.apply(this,arguments)},Animator,function(){var t=Animator.prototype;this.buildFrame=function(e,i,s){if("object"==typeof e){var n=viewStyleFramePool.obtain();return n.pool=viewStyleFramePool,n.reset(this.subject,e,i,s),n}return t.buildFrame.call(this,e,i,s)}});exports.getViewAnimator=function(){return ViewAnimator},exports.setViewAnimator=function(t){ViewAnimator=t};var framePool=new ObjectPool({ctor:Frame}),objectFramePool=new ObjectPool({ctor:ObjectFrame}),callbackFramePool=new ObjectPool({ctor:CallbackFrame}),viewStyleFramePool=new ObjectPool({ctor:ViewStyleFrame});exports.initializeFrameCount=function(t){for(var t=t-framePool.getTotalCount(),e=0;e<t;e++)framePool.create()},exports.initializeObjectFrameCount=function(t){for(var t=t-objectFramePool.getTotalCount(),e=0;e<t;e++)objectFramePool.create()},exports.initializeCallbackFrameCount=function(t){for(var t=t-callbackFramePool.getTotalCount(),e=0;e<t;e++)callbackFramePool.create()},exports.initializeViewStyleFrameCount=function(t){for(var t=t-viewStyleFramePool.getTotalCount(),e=0;e<t;e++)viewStyleFramePool.create()};',pre:!0},"modules/devkit-core/modules/timestep/src/animate/transitions.js":{path:"modules/devkit-core/modules/timestep/src/animate/transitions.js",friendlyPath:"animate.transitions",directory:"modules/devkit-core/modules/timestep/src/animate/",filename:"transitions.js",src:"exports.linear=function(t){return t},exports.easeIn=exports.easeInQuad=function(t){return t*t},exports.easeOut=exports.easeOutQuad=function(t){return t*(2-t)},exports.easeInOutQuad=function(t){return 1>(t*=2)?.5*t*t:-.5*(--t*(t-2)-1)},exports.easeInCubic=function(t){return t*t*t},exports.easeOutCubic=function(t){return(t-=1)*t*t+1},exports.easeInOut=exports.easeInOutCubic=function(t){return 1>(t*=2)?.5*t*t*t:.5*((t-=2)*t*t+2)},exports.easeInQuart=function(t){return t*t*t*t},exports.easeOutQuart=function(t){return-1*((t-=1)*t*t*t-1)},exports.easeInOutQuart=function(t){return 1>(t*=2)?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},exports.easeInQuint=function(t){return t*t*t*t*t},exports.easeOutQuint=function(t){return(t-=1)*t*t*t*t+1},exports.easeInOutQuint=function(t){return 1>(t*=2)?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},exports.easeInSine=function(t){return 0==t?0:1==t?1:-1*Math.cos(t*(Math.PI/2))+1},exports.easeOutSine=function(t){return 0==t?0:1==t?1:Math.sin(t*(Math.PI/2))},exports.easeInOutSine=function(t){return 0==t?0:1==t?1:-.5*(Math.cos(Math.PI*t)-1)},exports.easeInExpo=function(t){return 0==t?0:1==t?1:0==t?0:Math.pow(2,10*(t-1))},exports.easeOutExpo=function(t){return 0==t?0:1==t?1:1==t?1:-Math.pow(2,-10*t)+1},exports.easeInOutExpo=function(t){return 0==t?0:1==t?1:1>(t*=2)?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},exports.easeInCirc=function(t){return 0==t?0:1==t?1:-1*(Math.sqrt(1-t*t)-1)},exports.easeOutCirc=function(t){return 0==t?0:1==t?1:Math.sqrt(1-(t-=1)*t)},exports.easeInOutCirc=function(t){return 0==t?0:1==t?1:1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},exports.easeInElastic=function(t){return 0==t?0:1==t?1:-(Math.pow(2,10*(t-=1))*Math.sin(2*(t-.075)*Math.PI/.3))},exports.easeOutElastic=function(t){return 0==t?0:1==t?1:Math.pow(2,-10*t)*Math.sin(2*(t-.075)*Math.PI/.3)+1},exports.easeInOutElastic=function(t){return 0==t?0:2==(t*=2)?1:1>t?-.5*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-.1125)*Math.PI/.45):.5*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-.1125)*Math.PI/.45)+1},exports.easeInBack=function(t){return 0==t?0:1==t?1:t*t*(2.70158*t-1.70158)},exports.easeOutBack=function(t){return 0==t?0:1==t?1:(t-=1)*t*(2.70158*t+1.70158)+1},exports.easeInOutBack=function(t){if(0==t)return 0;if(1==t)return 1;var e=1.70158;return 1>(t*=2)?.5*t*t*(((e*=1.525)+1)*t-e):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},exports.easeOutBounce=function(t){return 0==t?0:1==t?1:t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},exports.easeInBounce=function(t){return 1-exports.easeOutBounce(1-t)},exports.easeInOutBounce=function(t){return.5>t?.5*exports.easeInBounce(2*t):.5*exports.easeOutBounce(2*t-1)+.5};",
pre:!0},"modules/devkit-core/modules/timestep/src/ObjectPool.js":{path:"modules/devkit-core/modules/timestep/src/ObjectPool.js",friendlyPath:"ObjectPool",directory:"modules/devkit-core/modules/timestep/src/",filename:"ObjectPool.js",baseMod:"ObjectPool",basePath:"/Users/tsunami/projects/devkitPoj/BubbleShooter/modules/devkit-core/modules/timestep/src/ObjectPool",src:'var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ObjectPool=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ObjectPool(function(){return this.init&&this.init.apply(this,arguments)},"ObjectPool",function(){this.init=function(t){this._ctor=t.ctor,this._pool=[],this._freshIndex=0;for(var t=t.initCount||0,o=0;o<t;o++)this.create()},this.create=function(){var t=this._pool,o=new this._ctor;return o._poolIndex=t.length,t.push(o),o},this.obtain=function(){var t;return t=this._pool,t=this._freshIndex<t.length?t[this._freshIndex]:this.create(),t._obtainedFromPool=!0,this._freshIndex++,t},this.release=function(t){var o=this._pool;if(t._obtainedFromPool){t._obtainedFromPool=!1;var e=o[this._freshIndex-1];o[this._freshIndex-1]=t,o[t._poolIndex]=e,o=e._poolIndex,e._poolIndex=t._poolIndex,t._poolIndex=o,this._freshIndex--}},this.forEachActive=function(t,o){for(var e=this._pool,i=this._freshIndex-1;0<=i;i--)t.call(o,e[i],i)},this.getActiveCount=function(){return this._freshIndex},this.getTotalCount=function(){return this._pool.length}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/debug/FPSView.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/debug/FPSView.js",friendlyPath:"ui.backend.debug.FPSView",directory:"modules/devkit-core/modules/timestep/src/ui/backend/debug/",filename:"FPSView.js",src:'function strokeRect(t,i,e){t.fillStyle=e,t.fillRect(i.x,i.y,1,i.height),t.fillRect(i.x,i.y,i.width,1),t.fillRect(i.x+i.width-1,i.y,1,i.height),t.fillRect(i.x,i.y+i.height-1,i.width,1)}function fillRect(t,i,e){t.fillStyle=e,t.fillRect(i.x,i.y,i.width,i.height)}jsio("import device"),jsio("import lib.Enum as Enum"),jsio("import math.geom.Rect as Rect"),jsio("import math.geom.intersect as intersect"),jsio("import event.input.dispatch as dispatch");var viewModes=new Enum("FPS","DT"),Graph=__class__,Graph=Graph(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){var i=device.get("Canvas");this._width=t.width,this._height=t.height,this._maxValue=t.maxValue,this._backgroundColor=t.backgroundColor,this._colors=t.colors,this._axisColor=t.axisColor,this._canvas=new i({width:t.width,height:t.height}),this._ctx=this._canvas.getContext("2d"),this._ctx.fillStyle=t.backgroundColor,this._ctx.fillRect(0,0,t.width,t.height),this._index=this._offset=0},this.addValues=function(t,i){var e,s,h=this._ctx,o=this._width,r=this._height,_=this._maxValue,l=(this._offset+this._index)%o;for(h.fillStyle=this._backgroundColor,h.fillRect(l,0,2,r),s=t.length;s;)e=t[--s],e>_&&(e=_),e=~~(e/_*r),h.fillStyle=this._colors[s],h.fillRect(l,r-e,2,e);h.fillStyle=this._axisColor,i&&h.fillRect(l,0,1,r),h.fillRect(l,25,2,1),h.fillRect(l,50,2,1),h.fillRect(l,75,2,1),this._index<o?this._index+=2:(this._offset+=2,this._offset>=o&&(this._offset=0))},this.render=function(t,i,e){var s=this._offset,h=this._width,o=this._height;0===s?t.drawImage(this._canvas,0,0,h,o,i,e,h,o):(t.drawImage(this._canvas,s,0,h-s,o,i,e,h-s,o),t.drawImage(this._canvas,0,0,s,o,h-s+i,e,s,o))}}),Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_debug_FPSView=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_debug_FPSView(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){this._application=t.application,this._time=+new Date+1e3,this._frames=0,this._fps=20,this._dt=10,this._minimized=!0,this._rectTop=new Rect(1,1,200,16),this._rectMin=new Rect(0,0,24,15),this._rectMax=new Rect(0,0,202,117),this._rect=this._rectMin,this._rectFPS=new Rect(141,1,30,15),this._rectDT=new Rect(171,1,30,15),this._borderColor="rgb(100,100,150)",this._backgroundColor="#17182E",this._textColor="#FFFFFF",this._viewMode=viewModes.DT,this._graphs={},this._graphs[viewModes.FPS]=new Graph({width:200,height:100,maxValue:60,backgroundColor:this._backgroundColor,colors:["rgba(170,170,252,0.3)","rgb(170,170,252)"],axisColor:"#FFFFFF"}),this._graphs[viewModes.DT]=new Graph({width:200,height:100,maxValue:66,backgroundColor:this._backgroundColor,colors:["rgba(255,0,0,0.5)","rgb(254,255,170)"],axisColor:"#FFFFFF"})},this.tick=function(t){var i=+new Date;if(i>this._time?(this._time=i+1e3,this._fps=this._frames,this._frames=1):this._frames++,i=this._application.getEvents(),i.length&&this._handleEvents(i),this._dt=.8*this._dt+.2*t,!this._minimized)switch(this._viewMode){case viewModes.DT:this._graphs[viewModes.DT].addValues([this._dt,t],1===this._frames);break;case viewModes.FPS:this._graphs[viewModes.FPS].addValues([this._fps,1e3/t],1===this._frames)}},this._handleEvents=function(t){for(var i=dispatch.eventTypes,e=t.length;e;){var s=t[--e];switch(s.type){case i.START:intersect.ptAndRect(s.srcPt,this._rect)&&(this._minimized?this._minimized=!1:intersect.ptAndRect(s.srcPt,this._rectFPS)?this._viewMode=viewModes.FPS:intersect.ptAndRect(s.srcPt,this._rectDT)?this._viewMode=viewModes.DT:this._minimized=!0,this._rect=this._minimized?this._rectMin:this._rectMax)}}},this.render=function(t){if(t.save(),t.textBaseline="top",t.textAlign="center",t.font="12px Verdana",this._minimized)fillRect(t,this._rect,this._backgroundColor);else{fillRect(t,this._rectTop,this._backgroundColor),this._graphs[this._viewMode].render(t,1,17),t.fillStyle=this._borderColor,t.fillRect(0,16,this._rect.width,1);var i=this._viewMode===viewModes.FPS,e=this._viewMode===viewModes.DT;fillRect(t,this._rectFPS,i?this._borderColor:this._backgroundColor),t.fillStyle=i?this._textColor:this._borderColor,t.fillText("FPS",this._rectFPS.x+this._rectFPS.width/2,0),fillRect(t,this._rectDT,e?this._borderColor:this._backgroundColor),t.fillStyle=e?this._textColor:this._borderColor,t.fillText("DT",this._rectDT.x+this._rectDT.width/2,0)}strokeRect(t,this._rect,this._borderColor),t.fillStyle=this._textColor,t.fillText(this._fps,12,0),t.restore()},this.getFPS=function(){return this._fps}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/Color.js":{path:"modules/devkit-core/modules/timestep/src/ui/Color.js",friendlyPath:"ui.Color",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"Color.js",src:'var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_Color=__class__,RGBA=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_Color(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){this.b=this.g=this.r=0,this.a=1,this.update.apply(this,arguments)},this.update=function(e){if(2<arguments.length)this.r=arguments[0],this.g=arguments[1],this.b=arguments[2],this.a=void 0!==arguments[3]?arguments[3]:1;else if("string"==typeof e){var n=cache[e];n?this.set(n):this.parse(e)}else e&&this.set(e)},this.get=function(){return{r:this.r,g:this.g,b:this.b,a:this.a}},this.set=function(e){void 0!==e&&(this.r=e.r||0,this.g=e.g||0,this.b=e.b||0,this.a=void 0!==e.a?e.a:1)};var e=/rgba?\\(\\s*([.0-9]+)\\s*,\\s*([.0-9]+)\\s*,\\s*([.0-9]+)\\s*,?\\s*([.0-9]+)?\\s*\\)/;this.parse=function(n){var i=n.match(e);i?(this.r=parseInt(i[1])||0,this.g=parseInt(i[2])||0,this.b=parseInt(i[3])||0,void 0!==i[4]?(i=parseFloat(i[4]),this.a=isNaN(i)?1:i):this.a=1):(this.a=1,i=n.length,5===i?(i=n.substring(4,5),this.a=("0x"+i+i|0)/255,n=n.substring(0,4)):9===i&&(this.a=("0x"+n.substring(7,9)|0)/255,n=n.substring(0,7)),n="0x"+n.slice(1).replace(5>n.length&&/./g,"$&$&"),i=[n>>16,n>>8&255,255&n],this.r=i[0],this.g=i[1],this.b=i[2])},this.toHex=function(){return"#"+((256+this.r<<8|this.g)<<8|this.b).toString(16).slice(1)},this.toString=function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"}});exports.parse=function(e){return cache[e]||(cache[e]=new RGBA(e))};var cache={aliceblue:new RGBA(240,248,255),antiquewhite:new RGBA(250,235,215),aqua:new RGBA(0,255,255),aquamarine:new RGBA(127,255,212),azure:new RGBA(240,255,255),beige:new RGBA(245,245,220),bisque:new RGBA(255,228,196),black:new RGBA(0,0,0),blanchedalmond:new RGBA(255,235,205),blue:new RGBA(0,0,255),blueviolet:new RGBA(138,43,226),brown:new RGBA(165,42,42),burlywood:new RGBA(222,184,135),cadetblue:new RGBA(95,158,160),chartreuse:new RGBA(127,255,0),chocolate:new RGBA(210,105,30),coral:new RGBA(255,127,80),cornflowerblue:new RGBA(100,149,237),cornsilk:new RGBA(255,248,220),crimson:new RGBA(220,20,60),cyan:new RGBA(0,255,255),darkblue:new RGBA(0,0,139),darkcyan:new RGBA(0,139,139),darkgoldenrod:new RGBA(184,134,11),darkgray:new RGBA(169,169,169),darkgreen:new RGBA(0,100,0),darkgrey:new RGBA(169,169,169),darkkhaki:new RGBA(189,183,107),darkmagenta:new RGBA(139,0,139),darkolivegreen:new RGBA(85,107,47),darkorange:new RGBA(255,140,0),darkorchid:new RGBA(153,50,204),darkred:new RGBA(139,0,0),darksalmon:new RGBA(233,150,122),darkseagreen:new RGBA(143,188,143),darkslateblue:new RGBA(72,61,139),darkslategray:new RGBA(47,79,79),darkslategrey:new RGBA(47,79,79),darkturquoise:new RGBA(0,206,209),darkviolet:new RGBA(148,0,211),deeppink:new RGBA(255,20,147),deepskyblue:new RGBA(0,191,255),dimgray:new RGBA(105,105,105),dimgrey:new RGBA(105,105,105),dodgerblue:new RGBA(30,144,255),firebrick:new RGBA(178,34,34),floralwhite:new RGBA(255,250,240),forestgreen:new RGBA(34,139,34),fuchsia:new RGBA(255,0,255),gainsboro:new RGBA(220,220,220),ghostwhite:new RGBA(248,248,255),gold:new RGBA(255,215,0),goldenrod:new RGBA(218,165,32),gray:new RGBA(128,128,128),grey:new RGBA(128,128,128),green:new RGBA(0,128,0),greenyellow:new RGBA(173,255,47),honeydew:new RGBA(240,255,240),hotpink:new RGBA(255,105,180),indianred:new RGBA(205,92,92),indigo:new RGBA(75,0,130),ivory:new RGBA(255,255,240),khaki:new RGBA(240,230,140),lavender:new RGBA(230,230,250),lavenderblush:new RGBA(255,240,245),lawngreen:new RGBA(124,252,0),lemonchiffon:new RGBA(255,250,205),lightblue:new RGBA(173,216,230),lightcoral:new RGBA(240,128,128),lightcyan:new RGBA(224,255,255),lightgoldenrodyellow:new RGBA(250,250,210),lightgray:new RGBA(211,211,211),lightgreen:new RGBA(144,238,144),lightgrey:new RGBA(211,211,211),lightpink:new RGBA(255,182,193),lightsalmon:new RGBA(255,160,122),lightseagreen:new RGBA(32,178,170),lightskyblue:new RGBA(135,206,250),lightslategray:new RGBA(119,136,153),lightslategrey:new RGBA(119,136,153),lightsteelblue:new RGBA(176,196,222),lightyellow:new RGBA(255,255,224),lime:new RGBA(0,255,0),limegreen:new RGBA(50,205,50),linen:new RGBA(250,240,230),magenta:new RGBA(255,0,255),maroon:new RGBA(128,0,0),mediumaquamarine:new RGBA(102,205,170),mediumblue:new RGBA(0,0,205),mediumorchid:new RGBA(186,85,211),mediumpurple:new RGBA(147,112,219),mediumseagreen:new RGBA(60,179,113),mediumslateblue:new RGBA(123,104,238),mediumspringgreen:new RGBA(0,250,154),mediumturquoise:new RGBA(72,209,204),mediumvioletred:new RGBA(199,21,133),midnightblue:new RGBA(25,25,112),mintcream:new RGBA(245,255,250),mistyrose:new RGBA(255,228,225),moccasin:new RGBA(255,228,181),navajowhite:new RGBA(255,222,173),navy:new RGBA(0,0,128),oldlace:new RGBA(253,245,230),olive:new RGBA(128,128,0),olivedrab:new RGBA(107,142,35),orange:new RGBA(255,165,0),orangered:new RGBA(255,69,0),orchid:new RGBA(218,112,214),palegoldenrod:new RGBA(238,232,170),palegreen:new RGBA(152,251,152),paleturquoise:new RGBA(175,238,238),palevioletred:new RGBA(219,112,147),papayawhip:new RGBA(255,239,213),peachpuff:new RGBA(255,218,185),peru:new RGBA(205,133,63),pink:new RGBA(255,192,203),plum:new RGBA(221,160,221),powderblue:new RGBA(176,224,230),purple:new RGBA(128,0,128),red:new RGBA(255,0,0),rosybrown:new RGBA(188,143,143),royalblue:new RGBA(65,105,225),saddlebrown:new RGBA(139,69,19),salmon:new RGBA(250,128,114),sandybrown:new RGBA(244,164,96),seagreen:new RGBA(46,139,87),seashell:new RGBA(255,245,238),sienna:new RGBA(160,82,45),silver:new RGBA(192,192,192),skyblue:new RGBA(135,206,235),slateblue:new RGBA(106,90,205),slategray:new RGBA(112,128,144),slategrey:new RGBA(112,128,144),snow:new RGBA(255,250,250),springgreen:new RGBA(0,255,127),steelblue:new RGBA(70,130,180),tan:new RGBA(210,180,140),teal:new RGBA(0,128,128),thistle:new RGBA(216,191,216),tomato:new RGBA(255,99,71),transparent:new RGBA(0,0,0,0),turquoise:new RGBA(64,224,208),violet:new RGBA(238,130,238),wheat:new RGBA(245,222,179),white:new RGBA(255,255,255),whitesmoke:new RGBA(245,245,245),yellow:new RGBA(255,255,0),yellowgreen:new RGBA(154,205,50)};',pre:!0},"modules/devkit-core/modules/timestep/src/ui/filter.js":{path:"modules/devkit-core/modules/timestep/src/ui/filter.js",friendlyPath:"ui.filter",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"filter.js",src:'jsio("import ui.Color as Color");var Image;exports.Filter=__class__;var Filter=exports.Filter=exports.Filter(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){this._color=new Color(t),this._type=t.type||"",this._views=[]},this.get=function(){var t=this._color.get();return t.type=this._type,t.priority=0,t},this.getType=function(){return this._type},this.update=function(t){t=t||this.get(),this._color.update(t),this._type=void 0!==t.type?t.type:this._type;for(var t=this._views,i=0,e=t.length;i<e;i++){var s=t[i];s.__view.filterColor=this.getColorString(),s.__view.filterType=Filter.TYPES[this.getType()]||0}},this.setView=function(t){var i=this._views;-1===i.indexOf(t)&&i.push(t)},this.removeView=function(t){var i=this._views,t=i.indexOf(t);-1!==t&&i.splice(t,1)},this.getColorString=function(){return this._color.toString()}});Filter.TYPES={None:0,LinearAdd:1,Multiply:2,Tint:3},exports.LinearAddFilter=__class__,exports.LinearAddFilter=exports.LinearAddFilter(function(){return this.init&&this.init.apply(this,arguments)},Filter,function(t){this.init=function(i){t(this,"init",arguments),this._type="LinearAdd"}}),exports.TintFilter=__class__,exports.TintFilter=exports.TintFilter(function(){return this.init&&this.init.apply(this,arguments)},Filter,function(t){this.init=function(i){t(this,"init",arguments),this._type="Tint"}}),exports.MultiplyFilter=__class__,exports.MultiplyFilter=exports.MultiplyFilter(function(){return this.init&&this.init.apply(this,arguments)},Filter,function(t){this.init=function(i){t(this,"init",arguments),this._type="Multiply"}}),exports.PositiveMaskFilter=__class__,exports.PositiveMaskFilter=exports.PositiveMaskFilter(function(){return this.init&&this.init.apply(this,arguments)},Filter,function(t){this.init=function(i){t(this,"init",arguments),this._type="PositiveMask",i.image&&(Image=Image||jsio("import ui.resource.Image"),this._mask=new Image({url:i.image}))},this.getMask=function(){return this._mask}}),exports.NegativeMaskFilter=__class__,exports.NegativeMaskFilter=exports.NegativeMaskFilter(function(){return this.init&&this.init.apply(this,arguments)},Filter,function(t){this.init=function(i){t(this,"init",arguments),this._type="NegativeMask",i.image&&(Image=Image||jsio("import ui.resource.Image"),this._mask=new Image({url:i.image}))},this.getMask=function(){return this._mask}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/resource/Font.js":{path:"modules/devkit-core/modules/timestep/src/ui/resource/Font.js",friendlyPath:"ui.resource.Font",directory:"modules/devkit-core/modules/timestep/src/ui/resource/",filename:"Font.js",src:'function parseSize(t){if(t=t.match(sizeParser),!t)throw"invalid font size";return{value:parseFloat(t[1]),unit:t[2]}}function toPx(t){return{value:t.value*TO_PX[t.unit],unit:"px"}}function toPt(t){return{value:t.value*TO_PT[t.unit],unit:"pt"}}function parseFont(t){var e=t.match(fontParser);if(!e)throw"invalid font string";return t={},t.weight=e[1]||"normal",t.style=e[2]||"normal",t.size={value:parseFloat(e[3]),unit:e[4]},e=e[5].split(","),t.names=e.map(function(t){return t.replace(/[\\-_]/g," ").replace(/\\s+/g," ").replace(/[\'"]/g,"").replace(/^\\s+|\\s+$/g,"")}),t.name=t.names[0],e=e.map(function(t){return t.replace(/\\s+/g," ").replace(/[\'"]/g,"").replace(/^\\s+|\\s+$/g,"")}),t.origName=e[0],t}var _cache={},weights="normal|bold|bolder|lighter|[1-9]00",styles="normal|italic|oblique",units="px|pt|pc|in|cm|mm|%",name="([\\\\w\\"\'\\\\- ]+(?:,|$))+",fontParser=RegExp("^ *(?:("+weights+") *)?(?:("+styles+") *)?([\\\\d\\\\.]+)("+units+")("+name+")","i"),sizeParser=RegExp("([\\\\d\\\\.]+)("+units+")","i"),TO_PT={pt:1,px:.75,in:72,mm:72/25.4,cm:72/2.54},TO_PX={pt:4/3,px:1,in:96,mm:96/25.4,cm:96/2.54},Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_resource_Font=__class__,Font=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_resource_Font(function(){return this.init&&this.init.apply(this,arguments)},function(){var t=null;this.constructor.setDefaultFontFamily=function(e){t=e};var e={name:t,size:20,unit:"px",style:"",weight:""};this.init=function(t){"string"==typeof t?(_cache[t]=this,this._string=t,t=parseFont(t)):t=merge(t,e),"string"==typeof t.size&&(t.size=parseSize(t.size)),this._name=t.name,this._origName=t.origName,this._style=t.style,this.size=t.size,this.sizePx=toPx(this.size).value,this.sizePt=toPt(this.size).value,this._weight=t.weight,this._isBold=/bold/i.test(this._weight)},this.getSize=function(){return this.sizePx},this.getName=function(){return this._name},this.getOrigName=function(){return this._origName},this.getWeight=function(){return this._weight}});exports.parse=function(t){return t in _cache?_cache[t]:new Font(t)};',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/webgl/WebGLContext2D.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/webgl/WebGLContext2D.js",friendlyPath:".webgl.WebGLContext2D",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/webgl/",filename:"WebGLContext2D.js",src:'jsio("import device"),jsio("import ui.resource.loader as loader"),jsio("import ui.Color as Color"),jsio("import .TextManager"),jsio("import .Shaders"),jsio("import .Matrix2D"),jsio("import .WebGLTextureManager");var ContextStateStack=__class__,ContextStateStack=ContextStateStack(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){this._states=[this.getObject()],this._stateIndex=0},this.save=function(){var t=this.state;++this._stateIndex>=this._states.length&&(this._states[this._stateIndex]=this.getObject());var e=this.state;e.globalCompositeOperation=t.globalCompositeOperation,e.globalAlpha=t.globalAlpha,e.transform.copy(t.transform),e.textBaseLine=t.textBaseLine,e.lineWidth=t.lineWidth,e.strokeStyle=t.strokeStyle,e.fillStyle=t.fillStyle,e.filter=t.filter,e.clip=t.clip,e.clipRect.x=t.clipRect.x,e.clipRect.y=t.clipRect.y,e.clipRect.width=t.clipRect.width,e.clipRect.height=t.clipRect.height},this.restore=function(){0<this._stateIndex&&this._stateIndex--},this.getObject=function(){return{globalCompositeOperation:"source-over",globalAlpha:1,transform:new Matrix2D,lineWidth:1,filter:null,clip:!1,clipRect:{x:0,y:0,width:0,height:0},fillStyle:"",strokeStyle:""}},Object.defineProperty(this,"state",{get:function(){return this._states[this._stateIndex]}}),Object.defineProperty(this,"parentState",{get:function(){return 0<this._stateIndex?this._states[this._stateIndex-1]:null}})}),STRIDE=24,RENDER_MODES={Default:0,LinearAdd:1,Tint:2,Multiply:3,Rect:4,PositiveMask:0,NegativeMask:0},COLOR_MAP={},getColor=function(t){var e=COLOR_MAP[t];return e||(e=COLOR_MAP[t]=Color.parse(t)),e},GLManager=__class__,GLManager=GLManager(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){var t=!1;try{var e=document.createElement("canvas"),t=!(!window.WebGLRenderingContext||!e.getContext("webgl"))}catch(t){}if(this.width=device.screen.width,this.height=device.screen.height,this.isSupported=t&&CONFIG.useWebGL){for(this.textManager=new TextManager,this.textureManager=new WebGLTextureManager,this.textureManager.on(WebGLTextureManager.TEXTURE_REMOVED,bind(this,function(){this.flush()})),this._helperTransform=new Matrix2D,this._canvas=document.createElement("canvas"),this._canvas.width=this.width,this._canvas.height=this.height,this._canvas.getWebGLContext=this._canvas.getContext.bind(this._canvas,"webgl",{alpha:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!0}),this._indexCache=new Uint16Array(3072),this._vertexCache=new ArrayBuffer(2048*STRIDE),this._vertices=new Float32Array(this._vertexCache),this._colors=new Uint8Array(this._vertexCache),e=t=0;3072>t;t+=6,e+=4)this._indexCache[t]=e,this._indexCache[t+1]=e+2,this._indexCache[t+2]=e+3,this._indexCache[t+3]=e,this._indexCache[t+4]=e+3,this._indexCache[t+5]=e+1;for(this._batchQueue=Array(512),t=0;512>=t;t++)this._batchQueue[t]={textureId:0,index:0,clip:!1,filter:null,clipRect:{x:0,y:0,width:0,height:0},renderMode:0};this.contexts=[],this.initGL(),this._primaryContext=new Context2D(this,this._canvas),this.activate(this._primaryContext),loader.on(loader.IMAGE_LOADED,function(t){this.createOrUpdateTexture(t,t.__GL_ID,!0)}.bind(this)),this.contextActive=!0,this._canvas.addEventListener("webglcontextlost",this.handleContextLost.bind(this),!1),this._canvas.addEventListener("webglcontextrestored",this.handleContextRestored.bind(this),!1)}},this.handleContextLost=function(t){t.preventDefault(),this.contextActive=!1,this.gl=null},this.handleContextRestored=function(){this.initGL(),this.contextActive=!0},this.initGL=function(){var t=this.gl=this._canvas.getWebGLContext();t.clearColor(0,0,0,0),t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),t.blendEquation(t.FUNC_ADD),t.activeTexture(t.TEXTURE0),this._scissorEnabled=!1,this._activeScissor={x:0,y:0,width:0,height:0},this._activeCompositeOperation="",this.setActiveCompositeOperation("source-over"),this._activeRenderMode=-1,this._activeShader=null,t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._batchIndex=this._drawIndex=-1,this._indexBuffer=t.createBuffer(),this._vertexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this._indexCache,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this._vertexCache,t.DYNAMIC_DRAW),this.shaders=[],this.shaders[RENDER_MODES.Default]=new Shaders.DefaultShader({gl:t}),this.shaders[RENDER_MODES.LinearAdd]=new Shaders.LinearAddShader({gl:t}),this.shaders[RENDER_MODES.Tint]=new Shaders.TintShader({gl:t}),this.shaders[RENDER_MODES.Multiply]=new Shaders.MultiplyShader({gl:t}),this.shaders[RENDER_MODES.Rect]=new Shaders.RectShader({gl:t}),this.textureManager.initGL(t),this.updateContexts()},this.updateContexts=function(){for(var t=0;t<this.contexts.length;t++)this.contexts[t].createOffscreenFrameBuffer()},this.updateCanvasDimensions=function(){this._primaryContext.resize(this._canvas.width,this._canvas.height)},this.getContext=function(t,e){var i,e=e||{};return!1===e.offscreen?(i=this._primaryContext,i.resize(e.width,e.height)):(i=new Context2D(this,t),i.createOffscreenFrameBuffer(),this.contexts.push(i)),i},this.setActiveRenderMode=function(t){if(this._activeRenderMode!==t&&this.gl){var e=this._activeCtx;this._activeRenderMode=t,t=this.shaders[t],this._activeShader&&this._activeShader!==t&&this._activeShader.disableVertexAttribArrays(),this._activeShader=t,gl.useProgram(t.program),t.enableVertexAttribArrays(),gl.uniform2f(t.uniforms.uResolution,e.width,e.height),-1!==t.uniforms.uSampler&&gl.uniform1i(t.uniforms.uSampler,0)}},this.setActiveCompositeOperation=function(t){if(t=t||"source-over",this._activeCompositeOperation!==t&&this.gl){this._activeCompositeOperation=t;var e,i=this.gl;switch(t){case"source-over":t=i.ONE,e=i.ONE_MINUS_SRC_ALPHA;break;case"source-atop":t=i.DST_ALPHA,e=i.ONE_MINUS_SRC_ALPHA;break;case"source-in":t=i.DST_ALPHA,e=i.ZERO;break;case"source-out":t=i.ONE_MINUS_DST_ALPHA,e=i.ZERO;break;case"destination-atop":t=i.DST_ALPHA,e=i.SRC_ALPHA;break;case"destination-in":t=i.ZERO,e=i.SRC_ALPHA;break;case"destination-out":e=t=i.ONE_MINUS_SRC_ALPHA;break;case"destination-over":t=i.DST_ALPHA,e=i.SRC_ALPHA;break;case"lighter":e=t=i.ONE;break;case"xor":case"copy":t=i.ONE,e=i.ONE_MINUS_SRC_ALPHA;break;default:t=i.ONE,e=i.ONE_MINUS_SRC_ALPHA}i.blendFunc(t,e)}},this.flush=function(){if(-1!==this._batchIndex&&this.gl){var t=this.gl;t.bufferSubData(t.ARRAY_BUFFER,0,this._vertexCache),this._batchQueue[this._batchIndex+1].index=this._drawIndex+1;for(var e=0;e<=this._batchIndex;e++){var i=this._batchQueue[e];if(i.clip){var s=i.clipRect;this.enableScissor(s.x,s.y,s.width,s.height)}else this.disableScissor();if(s=i.textureId,-1!==s){if(s=this.textureManager.getTexture(s),!s)continue;t.bindTexture(t.TEXTURE_2D,s)}this.setActiveCompositeOperation(i.globalCompositeOperation),this.setActiveRenderMode(i.renderMode),i=i.index,t.drawElements(t.TRIANGLES,6*(this._batchQueue[e+1].index-i),t.UNSIGNED_SHORT,12*i)}this._batchIndex=this._drawIndex=-1}},this.createOrUpdateTexture=function(t,e,i){return this.gl?(e=this.textureManager.createOrUpdateTexture(t,e),i&&(i=this._primaryContext.globalAlpha,this._primaryContext.globalAlpha=1e-5,this._primaryContext.drawImage(t,0,0,1,1,0,0,1,1),this.flush(),this._primaryContext.globalAlpha=i),e):-1},this.getTexture=function(t){return this.textureManager.getTexture(t)},this.deleteTexture=function(t){this.textureManager.deleteTexture(t)},this.deleteTextureForImage=function(t){this.textureManager.deleteTextureForImage(t)},this.enableScissor=function(t,e,i,s){if(this.gl){var a=this.gl;this._scissorEnabled||(a.enable(a.SCISSOR_TEST),this._scissorEnabled=!0);var r=this._activeScissor,e=this._activeCtx.height-s-e;t===r.x&&e===r.y&&i===r.width&&s===r.height||(r.x=t,r.y=e,r.width=i,r.height=s,a.scissor(t,e,i,s))}},this.disableScissor=function(){if(this.gl&&this._scissorEnabled){var t=this.gl;this._scissorEnabled=!1,t.disable(t.SCISSOR_TEST)}},this.addToBatch=function(t,e){511<=this._drawIndex&&this.flush(),this._drawIndex++;var i=t.filter,s=t.clip,a=t.clipRect,r=-1<this._batchIndex?this._batchQueue[this._batchIndex]:null;return(!r||r.textureId!==e||-1===e&&r.fillStyle!==t.fillStyle||r.globalCompositeOperation!==t.globalCompositeOperation||r.filter!==i||r.clip!==s||r.clipRect.x!==a.x||r.clipRect.y!==a.y||r.clipRect.width!==a.width||r.clipRect.height!==a.height)&&(r=this._batchQueue[++this._batchIndex],r.textureId=e,r.index=this._drawIndex,r.globalCompositeOperation=t.globalCompositeOperation,r.filter=i,r.clip=s,r.clipRect.x=a.x,r.clipRect.y=a.y,r.clipRect.width=a.width,r.clipRect.height=a.height,r.renderMode=-1===e?RENDER_MODES.Rect:i?RENDER_MODES[i.getType()]:RENDER_MODES.Default),this._drawIndex},this.isPowerOfTwo=function(t,e){return 0<t&&0===(t&t-1)&&0<e&&0===(e&e-1)},this.activate=function(t,e){var i=this.gl,s=t===this._activeCtx;s&&!e||(s||(this.flush(),i.finish(),this._activeCtx=t),i.bindFramebuffer(i.FRAMEBUFFER,t.frameBuffer),i.viewport(0,0,t.width,t.height),this._activeRenderMode=-1)}}),textCtx=document.createElement("canvas").getContext("2d"),Context2D=__class__,Context2D=Context2D(function(){return this.init&&this.init.apply(this,arguments)},function(){this._helperTransform=new Matrix2D;for(var t=function(t,e){Object.defineProperty(t,e,{get:function(){return this.stack.state[e]},set:function(t){this.stack.state[e]=t}})},e="globalAlpha globalCompositeOperation textBaseLine lineWidth strokeStyle fillStyle font".split(" "),i=0;i<e.length;i++)t(this,e[i]);this.init=function(t,e){this._manager=t,this.canvas=e,this.width=e.width,this.height=e.height,this.stack=new ContextStateStack,this.font="11px "+device.defaultFontFamily,this.filter=this.frameBuffer=null},this.createOffscreenFrameBuffer=function(){var t=this._manager.gl;if(t){var e=this._manager._activeCtx;this._texture=this._manager.getTexture(this._manager.createOrUpdateTexture(this.canvas)),this.frameBuffer=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.bindTexture(t.TEXTURE_2D,this._texture),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this._texture,0),this.canvas.__glFlip=!0,this._manager.activate(e,!0)}};var s=Math.min,a=Math.max;this.loadIdentity=function(){this.stack.state.transform.identity()},this.setTransform=function(t,e,i,s,a,r){this.stack.state.transform.setTo(t,e,i,s,a,r)},this.transform=function(t,e,i,s,a,r){this._helperTransform.setTo(t,e,i,s,a,r),this.stack.state.transform.transform(this._helperTransform)},this.scale=function(t,e){this.stack.state.transform.scale(t,e)},this.translate=function(t,e){this.stack.state.transform.translate(t,e)},this.rotate=function(t){this.stack.state.transform.rotate(t)},this.getElement=function(){return this.canvas},this.reset=function(){},this.clear=function(){this._manager.activate(this),this._manager.flush(),this._manager.disableScissor();var t=this._manager.gl;t&&t.clear(t.COLOR_BUFFER_BIT)},this.resize=function(t,e){if(this.width=t,this.height=e,this.canvas instanceof HTMLCanvasElement&&(this.canvas.width=t,this.canvas.height=e),this._manager.activate(this,!0),this._texture&&this._manager.gl){var i=this._manager.gl;i.bindTexture(i.TEXTURE_2D,this._texture),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t,e,0,i.RGBA,i.UNSIGNED_BYTE,null)}},this.clipRect=function(t,e,i,r){var h,n,c=this.stack.state.transform,o=t+i,l=e+r,i=t*c.a+e*c.c+c.tx,r=t*c.b+e*c.d+c.ty,d=o*c.a+e*c.c+c.tx,e=o*c.b+e*c.d+c.ty,f=t*c.a+l*c.c+c.tx,t=t*c.b+l*c.d+c.ty,u=o*c.a+l*c.c+c.tx,c=o*c.b+l*c.d+c.ty,_=(o=this.stack.parentState)&&o.clip&&o.clipRect;_?(o=_.x,h=_.y,l=_.x+_.width,n=_.y+_.height):(h=o=0,l=this.width,n=this.height),_=s(l,i,d,f,u),i=a(o,i,d,f,u),d=s(n,r,e,t,c),r=a(h,r,e,t,c),_<o&&(_=o),i>l&&(i=l),d<h&&(d=h),r>n&&(r=n),this.stack.state.clip=!0,e=this.stack.state.clipRect,e.x=_,e.y=d,e.width=i-_,e.height=r-d},this.swap=function(){this._manager.flush()},this.execSwap=function(){},this.setFilter=function(t){this.filter=this.stack.state.filter=t},this.setFilters=function(t){logger.WARN&&console.warn("WARN",".webgl.WebGLContext2D","ctx.setFilters is deprecated, use ctx.setFilter instead.");for(var e in t)return void this.setFilter(t[e]);this.clearFilter()},this.clearFilter=function(){this.filter=this.stack.state.filter=null},this.clearFilters=function(){logger.WARN&&console.warn("WARN",".webgl.WebGLContext2D","ctx.clearFilters is deprecated, use ctx.clearFilter instead."),this.clearFilter()},this.save=function(){this.stack.save()},this.restore=function(){this.stack.restore()},this.circle=function(){},this.drawPointSprites=function(){},this.roundRect=function(){},this.fillText=function(t,e,i){if(this._manager.gl&&(t=this._manager.textManager.get(this,t,!1))){var s=t.image.width,a=t.image.height;this.drawImage(t.image,0,0,s,a,e,i,s,a)}},this.strokeText=function(t,e,i){if(this._manager.gl&&(t=this._manager.textManager.get(this,t,!0))){var s=t.image.width,a=t.image.height;this.drawImage(t.image,0,0,s,a,e-.5*this.lineWidth,i-.5*this.lineWidth,s,a)}},this.measureText=function(t){return textCtx.font=this.font,textCtx.measureText(t)},this.drawImage=function(t,e,i,r,h,n,c,o,l){if(this._manager.gl){var d=!!t.__glFlip,f=this.stack.state,u=f.globalAlpha;if(0!==u){var _=this._manager;_.activate(this);var x=t.__GL_ID;if(void 0===x||t.__needsUpload){if(0===t.width||0===t.height||!t.complete)return;t.__needsUpload=!1,x=_.createOrUpdateTexture(t,x)}var x=_.addToBatch(this.stack.state,x),g=t.width,p=t.height,t=f.transform,v=e+r,R=i+h,b=n+o,m=c+l;if(d&&(i=p-i,R=i-h),0>e||v>g||0>i||R>p)var d=a(0,e),E=a(0,i),C=s(v,g),S=s(R,p),r=o/r,h=l/h,n=n+(d-e)*r,b=b-(v-C)*r,c=c+(E-i)*h,m=m-(R-S)*h,e=d,i=E,v=C,R=S;h=n*t.b+c*t.d+t.ty,l=b*t.a+c*t.c+t.tx,r=b*t.b+c*t.d+t.ty,o=n*t.a+m*t.c+t.tx,d=n*t.b+m*t.d+t.ty,E=b*t.a+m*t.c+t.tx,b=b*t.b+m*t.d+t.ty,C=1/g,m=1/p,g=_._vertices,p=24*x,e*=C,v*=C,i*=m,R*=m,g[p+0]=n*t.a+c*t.c+t.tx,g[p+1]=h,g[p+2]=e,g[p+3]=i,g[p+4]=u,g[p+6]=l,g[p+7]=r,g[p+8]=v,g[p+9]=i,g[p+10]=u,g[p+12]=o,g[p+13]=d,g[p+14]=e,g[p+15]=R,g[p+16]=u,g[p+18]=E,g[p+19]=b,g[p+20]=v,g[p+21]=R,g[p+22]=u,f.filter&&(n=f.filter.get(),c=4*x*STRIDE,_=_._colors,_[c+20]=_[c+44]=_[c+68]=_[c+92]=n.r,_[c+21]=_[c+45]=_[c+69]=_[c+93]=n.g,_[c+22]=_[c+46]=_[c+70]=_[c+94]=n.b,_[c+23]=_[c+47]=_[c+71]=_[c+95]=255*n.a)}}},this.fillRect=function(t,e,i,s){0!==this.globalAlpha&&this._fillRect(t,e,i,s,getColor(this.stack.state.fillStyle))},this.strokeRect=function(t,e,i,s){var a=this.stack.state.lineWidth,r=a/2,h=getColor(this.stack.state.strokeStyle);this._fillRect(t+r,e-r,i-a,a,h),this._fillRect(t+r,e+s-r,i-a,a,h),this._fillRect(t-r,e-r,a,s+a,h),this._fillRect(t+i-r,e-r,a,s+a,h)},this._fillRect=function(t,e,i,s,a){var r=this.stack.state.transform,h=t+i,n=e+s,s=t*r.a+e*r.c+r.tx,i=t*r.b+e*r.d+r.ty,c=h*r.a+e*r.c+r.tx,e=h*r.b+e*r.d+r.ty,o=t*r.a+n*r.c+r.tx,t=t*r.b+n*r.d+r.ty,l=h*r.a+n*r.c+r.tx,h=h*r.b+n*r.d+r.ty,r=this._manager;r.activate(this);var n=r.addToBatch(this.stack.state,-1),d=r._vertices,f=24*n;d[f+0]=s,d[f+1]=i,d[f+4]=this.globalAlpha,d[f+6]=c,d[f+7]=e,d[f+10]=this.globalAlpha,d[f+12]=o,d[f+13]=t,d[f+16]=this.globalAlpha,d[f+18]=l,d[f+19]=h,d[f+22]=this.globalAlpha,s=4*n*STRIDE,i=r._colors,i[s+20]=i[s+44]=i[s+68]=i[s+92]=a.r,i[s+21]=i[s+45]=i[s+69]=i[s+93]=a.g,i[s+22]=i[s+46]=i[s+70]=i[s+94]=a.b,i[s+23]=i[s+47]=i[s+71]=i[s+95]=255*a.a},this.deleteTextureForImage=function(t){this._manager.deleteTextureForImage(t)}});exports=new GLManager;',
pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/webgl/TextManager.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/webgl/TextManager.js",friendlyPath:".TextManager",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/webgl/",filename:"TextManager.js",src:'function getTextHeight(e){if(!_fontHeightCache[e]){heightMeasure.style.font=e;var t={ascent:baselineDiv.getBoundingClientRect().top,height:bottomDiv.getBoundingClientRect().top,descent:0};t.descent=t.height-t.ascent,_fontHeightCache[e]=t}return _fontHeightCache[e]}jsio("from util.browser import $"),jsio("import timer"),jsio("import .FontLoader"),jsio("import ui.resource.Font as Font");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_platforms_browser_webgl_TextManager=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_platforms_browser_webgl_TextManager(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){this._buffers={},this._numBuffers=0},this.get=function(e,t,i){var s=e.font,n=Font.parse(s);if(isFontLoaded(n.getOrigName())){if(n=(i?e.lineWidth+"|"+e.strokeStyle+"|":"-|"+e.fillStyle)+"|"+s+"|"+t,!this._buffers[n]){if(500<this._numBuffers){var o,r=1/0,a=null;for(o in this._buffers){var l=this._buffers[o].lastUsed;l<r&&(r=l,a=o)}e.deleteTextureForImage(this._buffers[a].image),delete this._buffers[a]}else++this._numBuffers;o=document.createElement("canvas"),o.complete=!0,this._buffers[n]={lastUsed:0,image:o,metrics:this._render(o,t,s,i,e.fillStyle,e.strokeStyle,e.lineWidth)}}return this._buffers[n].lastUsed=timer.now,this._buffers[n]}},this._render=function(e,t,i,s,n,o,r){var a=e.getContext("2d"),l=getTextHeight(i);return a.font=i,e.width=a.measureText(t).width+r,e.height=l.height+r,a.textBaseline="top",a.font=i,s?(a.strokeStyle=o,a.lineWidth=r,a.strokeText(t,r/2,r/2)):(a.fillStyle=n,a.fillText(t,0,0)),l}});var heightMeasure=document.body.appendChild(document.createElement("div")),contents=heightMeasure.appendChild(document.createElement("span"));$.setText(contents,"Hg");var baselineDiv=heightMeasure.appendChild(document.createElement("div"));baselineDiv.style.cssText="display: inline-block; width: 1px; height: 0px; vertical-align: baseline";var bottomDiv=heightMeasure.appendChild(document.createElement("div"));bottomDiv.style.cssText="display: inline-block; width: 1px; height: 0px; vertical-align: bottom",heightMeasure.style.cssText="position: absolute; top: 0px; left: -1000px; visibility: hidden; pointer-events: none";var _fontHeightCache={},isFontLoaded=function(){function e(e){s[e]=!0,new FontLoader([e],{fontLoaded:function(){i[e]=!0},fontsLoaded:function(e){e&&console.error(e)}},t).loadFonts()}var t=3e4,i={},s={};return function(t){return s[t]||e(t),i[t]}}();',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/webgl/FontLoader.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/webgl/FontLoader.js",friendlyPath:".FontLoader",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/webgl/",filename:"FontLoader.js",src:'!function(A,B){"function"==typeof define&&define.amd?define([],B):"object"==typeof exports?module.exports=B():A.FontLoader=B()}(window,function(){function A(A,B,g,e){this.delegate=B,this.timeout="undefined"!=typeof g?g:3e3,this._fontsArray=this._parseFonts(A),this._adobeBlankSizeWatcher=this._testContainer=this._testDiv=null,this._sizeWatchers=[],this._intervalId=this._timeoutId=null,this._intervalDelay=50,this._numberOfLoadedFonts=0,this._numberOfFonts=this._fontsArray.length,this._fontsMap={},this._finished=!1,this._document=e||document}function B(A,B){this.width=A,this.height=B}function g(A,B){this._element=A,this._delegate=B.delegate,this._size=null,this._continuous=!!B.continuous,this._direction=B.direction?B.direction:g.directions.both,this._dimension=B.dimension?B.dimension:g.dimensions.both,this._sizeIncreaseWatcherElm=this._sizeDecreaseWatcherElm=this._sizeIncreaseWatcherContentElm=null,this._state=g.states.initialized,this._scrollAmount=2,this._document=B.document||document,this._generateScrollWatchers(B.size),this._appendScrollWatchersToElement(B.container)}var e=/MSIE/i.test(navigator.userAgent),t=null;if(e){var Q;Q=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent),null!==Q&&(t=parseFloat(Q[1]))}return A.useAdobeBlank=!e||11<=t,A.useResizeEvent=e&&11>t&&"undefined"!=typeof document.attachEvent,A.useIntervalChecking=window.opera||e&&11>t&&!A.useResizeEvent,A.referenceText=" !\\"\\\\#$%&\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}~",A.referenceFontFamilies=A.useAdobeBlank?["AdobeBlank"]:["serif","cursive"],A.adobeBlankFontFaceStyleId="fontLoaderAdobeBlankFontFace",A.adobeBlankReferenceSize=null,A.referenceFontFamilyVariationSizes={},A.adobeBlankFontFaceRule="@font-face{ font-family:AdobeBlank; src:url(\'data:font/opentype;base64,T1RUTwAKAIAAAwAgQ0ZGIM6ZbkwAAEPEAAAZM0RTSUcAAAABAABtAAAAAAhPUy8yAR6vMwAAARAAAABgY21hcDqI98oAACjEAAAa4GhlYWT+BQILAAAArAAAADZoaGVhCCID7wAAAOQAAAAkaG10eAPoAHwAAFz4AAAQBm1heHAIAVAAAAABCAAAAAZuYW1lD/tWxwAAAXAAACdScG9zdP+4ADIAAEOkAAAAIAABAAAAAQj1Snw1O18PPPUAAwPoAAAAAM2C2p8AAAAAzYLanwB8/4gDbANwAAAAAwACAAAAAAAAAAEAAANw/4gAyAPoAHwAfANsAAEAAAAAAAAAAAAAAAAAAAACAABQAAgBAAAABAAAAZAABQAAAooCWAAAAEsCigJYAAABXgAyANwAAAAAAAAAAAAAAAD3/67/+9///w/gAD8AAAAAQURCRQHAAAD//wNw/4gAyANwAHhgLwH/AAAAAAAAAAAAAAAgAAAAAAARANIAAQAAAAAAAQALAAAAAQAAAAAAAgAHAAsAAQAAAAAAAwAbABIAAQAAAAAABAALAAAAAQAAAAAABQA5AC0AAQAAAAAABgAKAGYAAwABBAkAAABuAHAAAwABBAkAAQAWAN4AAwABBAkAAgAOAPQAAwABBAkAAwA2AQIAAwABBAkABAAWAN4AAwABBAkABQByATgAAwABBAkABgAUAaoAAwABBAkACAA0Ab4AAwABBAkACwA0AfIAAwABBAkADSQSAiYAAwABBAkADgBIJjhBZG9iZSBCbGFua1JlZ3VsYXIxLjAzNTtBREJFO0Fkb2JlQmxhbms7QURPQkVWZXJzaW9uIDEuMDM1O1BTIDEuMDAzO2hvdGNvbnYgMS4wLjcwO21ha2VvdGYubGliMi41LjU5MDBBZG9iZUJsYW5rAKkAIAAyADAAMQAzACAAQQBkAG8AYgBlACAAUwB5AHMAdABlAG0AcwAgAEkAbgBjAG8AcgBwAG8AcgBhAHQAZQBkAC4AIABBAGwAbAAgAFIAaQBnAGgAdABzACAAUgBlAHMAZQByAHYAZQBkAC4AQQBkAG8AYgBlACAAQgBsAGEAbgBrAFIAZQBnAHUAbABhAHIAMQAuADAAMwA1ADsAQQBEAEIARQA7AEEAZABvAGIAZQBCAGwAYQBuAGsAOwBBAEQATwBCAEUAVgBlAHIAcwBpAG8AbgAgADEALgAwADMANQA7AFAAUwAgADEALgAwADAAMwA7AGgAbwB0AGMAbwBuAHYAIAAxAC4AMAAuADcAMAA7AG0AYQBrAGUAbwB0AGYALgBsAGkAYgAyAC4ANQAuADUAOQAwADAAQQBkAG8AYgBlAEIAbABhAG4AawBBAGQAbwBiAGUAIABTAHkAcwB0AGUAbQBzACAASQBuAGMAbwByAHAAbwByAGEAdABlAGQAaAB0AHQAcAA6AC8ALwB3AHcAdwAuAGEAZABvAGIAZQAuAGMAbwBtAC8AdAB5AHAAZQAvAEEAZABvAGIAZQAgAEIAbABhAG4AawAgAGkAcwAgAHIAZQBsAGUAYQBzAGUAZAAgAHUAbgBkAGUAcgAgAHQAaABlACAAUwBJAEwAIABPAHAAZQBuACAARgBvAG4AdAAgAEwAaQBjAGUAbgBzAGUAIAAtACAAcABsAGUAYQBzAGUAIAByAGUAYQBkACAAaQB0ACAAYwBhAHIAZQBmAHUAbABsAHkAIABhAG4AZAAgAGQAbwAgAG4AbwB0ACAAZABvAHcAbgBsAG8AYQBkACAAdABoAGUAIABmAG8AbgB0AHMAIAB1AG4AbABlAHMAcwAgAHkAbwB1ACAAYQBnAHIAZQBlACAAdABvACAAdABoAGUAIAB0AGgAZQAgAHQAZQByAG0AcwAgAG8AZgAgAHQAaABlACAAbABpAGMAZQBuAHMAZQA6AA0ACgANAAoAQwBvAHAAeQByAGkAZwBoAHQAIACpACAAMgAwADEAMwAgAEEAZABvAGIAZQAgAFMAeQBzAHQAZQBtAHMAIABJAG4AYwBvAHIAcABvAHIAYQB0AGUAZAAgACgAaAB0AHQAcAA6AC8ALwB3AHcAdwAuAGEAZABvAGIAZQAuAGMAbwBtAC8AKQAsACAAdwBpAHQAaAAgAFIAZQBzAGUAcgB2AGUAZAAgAEYAbwBuAHQAIABOAGEAbQBlACAAQQBkAG8AYgBlACAAQgBsAGEAbgBrAA0ACgANAAoAVABoAGkAcwAgAEYAbwBuAHQAIABTAG8AZgB0AHcAYQByAGUAIABpAHMAIABsAGkAYwBlAG4AcwBlAGQAIAB1AG4AZABlAHIAIAB0AGgAZQAgAFMASQBMACAATwBwAGUAbgAgAEYAbwBuAHQAIABMAGkAYwBlAG4AcwBlACwAIABWAGUAcgBzAGkAbwBuACAAMQAuADEALgANAAoADQAKAFQAaABpAHMAIABsAGkAYwBlAG4AcwBlACAAaQBzACAAYwBvAHAAaQBlAGQAIABiAGUAbABvAHcALAAgAGEAbgBkACAAaQBzACAAYQBsAHMAbwAgAGEAdgBhAGkAbABhAGIAbABlACAAdwBpAHQAaAAgAGEAIABGAEEAUQAgAGEAdAA6ACAAaAB0AHQAcAA6AC8ALwBzAGMAcgBpAHAAdABzAC4AcwBpAGwALgBvAHIAZwAvAE8ARgBMAA0ACgANAAoALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAA0ACgBTAEkATAAgAE8AUABFAE4AIABGAE8ATgBUACAATABJAEMARQBOAFMARQAgAFYAZQByAHMAaQBvAG4AIAAxAC4AMQAgAC0AIAAyADYAIABGAGUAYgByAHUAYQByAHkAIAAyADAAMAA3AA0ACgAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ADQAKAA0ACgBQAFIARQBBAE0AQgBMAEUADQAKAFQAaABlACAAZwBvAGEAbABzACAAbwBmACAAdABoAGUAIABPAHAAZQBuACAARgBvAG4AdAAgAEwAaQBjAGUAbgBzAGUAIAAoAE8ARgBMACkAIABhAHIAZQAgAHQAbwAgAHMAdABpAG0AdQBsAGEAdABlACAAdwBvAHIAbABkAHcAaQBkAGUAIABkAGUAdgBlAGwAbwBwAG0AZQBuAHQAIABvAGYAIABjAG8AbABsAGEAYgBvAHIAYQB0AGkAdgBlACAAZgBvAG4AdAAgAHAAcgBvAGoAZQBjAHQAcwAsACAAdABvACAAcwB1AHAAcABvAHIAdAAgAHQAaABlACAAZgBvAG4AdAAgAGMAcgBlAGEAdABpAG8AbgAgAGUAZgBmAG8AcgB0AHMAIABvAGYAIABhAGMAYQBkAGUAbQBpAGMAIABhAG4AZAAgAGwAaQBuAGcAdQBpAHMAdABpAGMAIABjAG8AbQBtAHUAbgBpAHQAaQBlAHMALAAgAGEAbgBkACAAdABvACAAcAByAG8AdgBpAGQAZQAgAGEAIABmAHIAZQBlACAAYQBuAGQAIABvAHAAZQBuACAAZgByAGEAbQBlAHcAbwByAGsAIABpAG4AIAB3AGgAaQBjAGgAIABmAG8AbgB0AHMAIABtAGEAeQAgAGIAZQAgAHMAaABhAHIAZQBkACAAYQBuAGQAIABpAG0AcAByAG8AdgBlAGQAIABpAG4AIABwAGEAcgB0AG4AZQByAHMAaABpAHAAIAB3AGkAdABoACAAbwB0AGgAZQByAHMALgANAAoADQAKAFQAaABlACAATwBGAEwAIABhAGwAbABvAHcAcwAgAHQAaABlACAAbABpAGMAZQBuAHMAZQBkACAAZgBvAG4AdABzACAAdABvACAAYgBlACAAdQBzAGUAZAAsACAAcwB0AHUAZABpAGUAZAAsACAAbQBvAGQAaQBmAGkAZQBkACAAYQBuAGQAIAByAGUAZABpAHMAdAByAGkAYgB1AHQAZQBkACAAZgByAGUAZQBsAHkAIABhAHMAIABsAG8AbgBnACAAYQBzACAAdABoAGUAeQAgAGEAcgBlACAAbgBvAHQAIABzAG8AbABkACAAYgB5ACAAdABoAGUAbQBzAGUAbAB2AGUAcwAuACAAVABoAGUAIABmAG8AbgB0AHMALAAgAGkAbgBjAGwAdQBkAGkAbgBnACAAYQBuAHkAIABkAGUAcgBpAHYAYQB0AGkAdgBlACAAdwBvAHIAawBzACwAIABjAGEAbgAgAGIAZQAgAGIAdQBuAGQAbABlAGQALAAgAGUAbQBiAGUAZABkAGUAZAAsACAAcgBlAGQAaQBzAHQAcgBpAGIAdQB0AGUAZAAgAGEAbgBkAC8AbwByACAAcwBvAGwAZAAgAHcAaQB0AGgAIABhAG4AeQAgAHMAbwBmAHQAdwBhAHIAZQAgAHAAcgBvAHYAaQBkAGUAZAAgAHQAaABhAHQAIABhAG4AeQAgAHIAZQBzAGUAcgB2AGUAZAAgAG4AYQBtAGUAcwAgAGEAcgBlACAAbgBvAHQAIAB1AHMAZQBkACAAYgB5ACAAZABlAHIAaQB2AGEAdABpAHYAZQAgAHcAbwByAGsAcwAuACAAVABoAGUAIABmAG8AbgB0AHMAIABhAG4AZAAgAGQAZQByAGkAdgBhAHQAaQB2AGUAcwAsACAAaABvAHcAZQB2AGUAcgAsACAAYwBhAG4AbgBvAHQAIABiAGUAIAByAGUAbABlAGEAcwBlAGQAIAB1AG4AZABlAHIAIABhAG4AeQAgAG8AdABoAGUAcgAgAHQAeQBwAGUAIABvAGYAIABsAGkAYwBlAG4AcwBlAC4AIABUAGgAZQAgAHIAZQBxAHUAaQByAGUAbQBlAG4AdAAgAGYAbwByACAAZgBvAG4AdABzACAAdABvACAAcgBlAG0AYQBpAG4AIAB1AG4AZABlAHIAIAB0AGgAaQBzACAAbABpAGMAZQBuAHMAZQAgAGQAbwBlAHMAIABuAG8AdAAgAGEAcABwAGwAeQAgAHQAbwAgAGEAbgB5ACAAZABvAGMAdQBtAGUAbgB0ACAAYwByAGUAYQB0AGUAZAAgAHUAcwBpAG4AZwAgAHQAaABlACAAZgBvAG4AdABzACAAbwByACAAdABoAGUAaQByACAAZABlAHIAaQB2AGEAdABpAHYAZQBzAC4ADQAKAA0ACgBEAEUARgBJAE4ASQBUAEkATwBOAFMADQAKACIARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAiACAAcgBlAGYAZQByAHMAIAB0AG8AIAB0AGgAZQAgAHMAZQB0ACAAbwBmACAAZgBpAGwAZQBzACAAcgBlAGwAZQBhAHMAZQBkACAAYgB5ACAAdABoAGUAIABDAG8AcAB5AHIAaQBnAGgAdAAgAEgAbwBsAGQAZQByACgAcwApACAAdQBuAGQAZQByACAAdABoAGkAcwAgAGwAaQBjAGUAbgBzAGUAIABhAG4AZAAgAGMAbABlAGEAcgBsAHkAIABtAGEAcgBrAGUAZAAgAGEAcwAgAHMAdQBjAGgALgAgAFQAaABpAHMAIABtAGEAeQAgAGkAbgBjAGwAdQBkAGUAIABzAG8AdQByAGMAZQAgAGYAaQBsAGUAcwAsACAAYgB1AGkAbABkACAAcwBjAHIAaQBwAHQAcwAgAGEAbgBkACAAZABvAGMAdQBtAGUAbgB0AGEAdABpAG8AbgAuAA0ACgANAAoAIgBSAGUAcwBlAHIAdgBlAGQAIABGAG8AbgB0ACAATgBhAG0AZQAiACAAcgBlAGYAZQByAHMAIAB0AG8AIABhAG4AeQAgAG4AYQBtAGUAcwAgAHMAcABlAGMAaQBmAGkAZQBkACAAYQBzACAAcwB1AGMAaAAgAGEAZgB0AGUAcgAgAHQAaABlACAAYwBvAHAAeQByAGkAZwBoAHQAIABzAHQAYQB0AGUAbQBlAG4AdAAoAHMAKQAuAA0ACgANAAoAIgBPAHIAaQBnAGkAbgBhAGwAIABWAGUAcgBzAGkAbwBuACIAIAByAGUAZgBlAHIAcwAgAHQAbwAgAHQAaABlACAAYwBvAGwAbABlAGMAdABpAG8AbgAgAG8AZgAgAEYAbwBuAHQAIABTAG8AZgB0AHcAYQByAGUAIABjAG8AbQBwAG8AbgBlAG4AdABzACAAYQBzACAAZABpAHMAdAByAGkAYgB1AHQAZQBkACAAYgB5ACAAdABoAGUAIABDAG8AcAB5AHIAaQBnAGgAdAAgAEgAbwBsAGQAZQByACgAcwApAC4ADQAKAA0ACgAiAE0AbwBkAGkAZgBpAGUAZAAgAFYAZQByAHMAaQBvAG4AIgAgAHIAZQBmAGUAcgBzACAAdABvACAAYQBuAHkAIABkAGUAcgBpAHYAYQB0AGkAdgBlACAAbQBhAGQAZQAgAGIAeQAgAGEAZABkAGkAbgBnACAAdABvACwAIABkAGUAbABlAHQAaQBuAGcALAAgAG8AcgAgAHMAdQBiAHMAdABpAHQAdQB0AGkAbgBnACAALQAtACAAaQBuACAAcABhAHIAdAAgAG8AcgAgAGkAbgAgAHcAaABvAGwAZQAgAC0ALQAgAGEAbgB5ACAAbwBmACAAdABoAGUAIABjAG8AbQBwAG8AbgBlAG4AdABzACAAbwBmACAAdABoAGUAIABPAHIAaQBnAGkAbgBhAGwAIABWAGUAcgBzAGkAbwBuACwAIABiAHkAIABjAGgAYQBuAGcAaQBuAGcAIABmAG8AcgBtAGEAdABzACAAbwByACAAYgB5ACAAcABvAHIAdABpAG4AZwAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAgAHQAbwAgAGEAIABuAGUAdwAgAGUAbgB2AGkAcgBvAG4AbQBlAG4AdAAuAA0ACgANAAoAIgBBAHUAdABoAG8AcgAiACAAcgBlAGYAZQByAHMAIAB0AG8AIABhAG4AeQAgAGQAZQBzAGkAZwBuAGUAcgAsACAAZQBuAGcAaQBuAGUAZQByACwAIABwAHIAbwBnAHIAYQBtAG0AZQByACwAIAB0AGUAYwBoAG4AaQBjAGEAbAAgAHcAcgBpAHQAZQByACAAbwByACAAbwB0AGgAZQByACAAcABlAHIAcwBvAG4AIAB3AGgAbwAgAGMAbwBuAHQAcgBpAGIAdQB0AGUAZAAgAHQAbwAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAuAA0ACgANAAoAUABFAFIATQBJAFMAUwBJAE8ATgAgACYAIABDAE8ATgBEAEkAVABJAE8ATgBTAA0ACgBQAGUAcgBtAGkAcwBzAGkAbwBuACAAaQBzACAAaABlAHIAZQBiAHkAIABnAHIAYQBuAHQAZQBkACwAIABmAHIAZQBlACAAbwBmACAAYwBoAGEAcgBnAGUALAAgAHQAbwAgAGEAbgB5ACAAcABlAHIAcwBvAG4AIABvAGIAdABhAGkAbgBpAG4AZwAgAGEAIABjAG8AcAB5ACAAbwBmACAAdABoAGUAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlACwAIAB0AG8AIAB1AHMAZQAsACAAcwB0AHUAZAB5ACwAIABjAG8AcAB5ACwAIABtAGUAcgBnAGUALAAgAGUAbQBiAGUAZAAsACAAbQBvAGQAaQBmAHkALAAgAHIAZQBkAGkAcwB0AHIAaQBiAHUAdABlACwAIABhAG4AZAAgAHMAZQBsAGwAIABtAG8AZABpAGYAaQBlAGQAIABhAG4AZAAgAHUAbgBtAG8AZABpAGYAaQBlAGQAIABjAG8AcABpAGUAcwAgAG8AZgAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAsACAAcwB1AGIAagBlAGMAdAAgAHQAbwAgAHQAaABlACAAZgBvAGwAbABvAHcAaQBuAGcAIABjAG8AbgBkAGkAdABpAG8AbgBzADoADQAKAA0ACgAxACkAIABOAGUAaQB0AGgAZQByACAAdABoAGUAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlACAAbgBvAHIAIABhAG4AeQAgAG8AZgAgAGkAdABzACAAaQBuAGQAaQB2AGkAZAB1AGEAbAAgAGMAbwBtAHAAbwBuAGUAbgB0AHMALAAgAGkAbgAgAE8AcgBpAGcAaQBuAGEAbAAgAG8AcgAgAE0AbwBkAGkAZgBpAGUAZAAgAFYAZQByAHMAaQBvAG4AcwAsACAAbQBhAHkAIABiAGUAIABzAG8AbABkACAAYgB5ACAAaQB0AHMAZQBsAGYALgANAAoADQAKADIAKQAgAE8AcgBpAGcAaQBuAGEAbAAgAG8AcgAgAE0AbwBkAGkAZgBpAGUAZAAgAFYAZQByAHMAaQBvAG4AcwAgAG8AZgAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAgAG0AYQB5ACAAYgBlACAAYgB1AG4AZABsAGUAZAAsACAAcgBlAGQAaQBzAHQAcgBpAGIAdQB0AGUAZAAgAGEAbgBkAC8AbwByACAAcwBvAGwAZAAgAHcAaQB0AGgAIABhAG4AeQAgAHMAbwBmAHQAdwBhAHIAZQAsACAAcAByAG8AdgBpAGQAZQBkACAAdABoAGEAdAAgAGUAYQBjAGgAIABjAG8AcAB5ACAAYwBvAG4AdABhAGkAbgBzACAAdABoAGUAIABhAGIAbwB2AGUAIABjAG8AcAB5AHIAaQBnAGgAdAAgAG4AbwB0AGkAYwBlACAAYQBuAGQAIAB0AGgAaQBzACAAbABpAGMAZQBuAHMAZQAuACAAVABoAGUAcwBlACAAYwBhAG4AIABiAGUAIABpAG4AYwBsAHUAZABlAGQAIABlAGkAdABoAGUAcgAgAGEAcwAgAHMAdABhAG4AZAAtAGEAbABvAG4AZQAgAHQAZQB4AHQAIABmAGkAbABlAHMALAAgAGgAdQBtAGEAbgAtAHIAZQBhAGQAYQBiAGwAZQAgAGgAZQBhAGQAZQByAHMAIABvAHIAIABpAG4AIAB0AGgAZQAgAGEAcABwAHIAbwBwAHIAaQBhAHQAZQAgAG0AYQBjAGgAaQBuAGUALQByAGUAYQBkAGEAYgBsAGUAIABtAGUAdABhAGQAYQB0AGEAIABmAGkAZQBsAGQAcwAgAHcAaQB0AGgAaQBuACAAdABlAHgAdAAgAG8AcgAgAGIAaQBuAGEAcgB5ACAAZgBpAGwAZQBzACAAYQBzACAAbABvAG4AZwAgAGEAcwAgAHQAaABvAHMAZQAgAGYAaQBlAGwAZABzACAAYwBhAG4AIABiAGUAIABlAGEAcwBpAGwAeQAgAHYAaQBlAHcAZQBkACAAYgB5ACAAdABoAGUAIAB1AHMAZQByAC4ADQAKAA0ACgAzACkAIABOAG8AIABNAG8AZABpAGYAaQBlAGQAIABWAGUAcgBzAGkAbwBuACAAbwBmACAAdABoAGUAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlACAAbQBhAHkAIAB1AHMAZQAgAHQAaABlACAAUgBlAHMAZQByAHYAZQBkACAARgBvAG4AdAAgAE4AYQBtAGUAKABzACkAIAB1AG4AbABlAHMAcwAgAGUAeABwAGwAaQBjAGkAdAAgAHcAcgBpAHQAdABlAG4AIABwAGUAcgBtAGkAcwBzAGkAbwBuACAAaQBzACAAZwByAGEAbgB0AGUAZAAgAGIAeQAgAHQAaABlACAAYwBvAHIAcgBlAHMAcABvAG4AZABpAG4AZwAgAEMAbwBwAHkAcgBpAGcAaAB0ACAASABvAGwAZABlAHIALgAgAFQAaABpAHMAIAByAGUAcwB0AHIAaQBjAHQAaQBvAG4AIABvAG4AbAB5ACAAYQBwAHAAbABpAGUAcwAgAHQAbwAgAHQAaABlACAAcAByAGkAbQBhAHIAeQAgAGYAbwBuAHQAIABuAGEAbQBlACAAYQBzACAAcAByAGUAcwBlAG4AdABlAGQAIAB0AG8AIAB0AGgAZQAgAHUAcwBlAHIAcwAuAA0ACgANAAoANAApACAAVABoAGUAIABuAGEAbQBlACgAcwApACAAbwBmACAAdABoAGUAIABDAG8AcAB5AHIAaQBnAGgAdAAgAEgAbwBsAGQAZQByACgAcwApACAAbwByACAAdABoAGUAIABBAHUAdABoAG8AcgAoAHMAKQAgAG8AZgAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAgAHMAaABhAGwAbAAgAG4AbwB0ACAAYgBlACAAdQBzAGUAZAAgAHQAbwAgAHAAcgBvAG0AbwB0AGUALAAgAGUAbgBkAG8AcgBzAGUAIABvAHIAIABhAGQAdgBlAHIAdABpAHMAZQAgAGEAbgB5ACAATQBvAGQAaQBmAGkAZQBkACAAVgBlAHIAcwBpAG8AbgAsACAAZQB4AGMAZQBwAHQAIAB0AG8AIABhAGMAawBuAG8AdwBsAGUAZABnAGUAIAB0AGgAZQAgAGMAbwBuAHQAcgBpAGIAdQB0AGkAbwBuACgAcwApACAAbwBmACAAdABoAGUAIABDAG8AcAB5AHIAaQBnAGgAdAAgAEgAbwBsAGQAZQByACgAcwApACAAYQBuAGQAIAB0AGgAZQAgAEEAdQB0AGgAbwByACgAcwApACAAbwByACAAdwBpAHQAaAAgAHQAaABlAGkAcgAgAGUAeABwAGwAaQBjAGkAdAAgAHcAcgBpAHQAdABlAG4AIABwAGUAcgBtAGkAcwBzAGkAbwBuAC4ADQAKAA0ACgA1ACkAIABUAGgAZQAgAEYAbwBuAHQAIABTAG8AZgB0AHcAYQByAGUALAAgAG0AbwBkAGkAZgBpAGUAZAAgAG8AcgAgAHUAbgBtAG8AZABpAGYAaQBlAGQALAAgAGkAbgAgAHAAYQByAHQAIABvAHIAIABpAG4AIAB3AGgAbwBsAGUALAAgAG0AdQBzAHQAIABiAGUAIABkAGkAcwB0AHIAaQBiAHUAdABlAGQAIABlAG4AdABpAHIAZQBsAHkAIAB1AG4AZABlAHIAIAB0AGgAaQBzACAAbABpAGMAZQBuAHMAZQAsACAAYQBuAGQAIABtAHUAcwB0ACAAbgBvAHQAIABiAGUAIABkAGkAcwB0AHIAaQBiAHUAdABlAGQAIAB1AG4AZABlAHIAIABhAG4AeQAgAG8AdABoAGUAcgAgAGwAaQBjAGUAbgBzAGUALgAgAFQAaABlACAAcgBlAHEAdQBpAHIAZQBtAGUAbgB0ACAAZgBvAHIAIABmAG8AbgB0AHMAIAB0AG8AIAByAGUAbQBhAGkAbgAgAHUAbgBkAGUAcgAgAHQAaABpAHMAIABsAGkAYwBlAG4AcwBlACAAZABvAGUAcwAgAG4AbwB0ACAAYQBwAHAAbAB5ACAAdABvACAAYQBuAHkAIABkAG8AYwB1AG0AZQBuAHQAIABjAHIAZQBhAHQAZQBkACAAdQBzAGkAbgBnACAAdABoAGUAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlAC4ADQAKAA0ACgBUAEUAUgBNAEkATgBBAFQASQBPAE4ADQAKAFQAaABpAHMAIABsAGkAYwBlAG4AcwBlACAAYgBlAGMAbwBtAGUAcwAgAG4AdQBsAGwAIABhAG4AZAAgAHYAbwBpAGQAIABpAGYAIABhAG4AeQAgAG8AZgAgAHQAaABlACAAYQBiAG8AdgBlACAAYwBvAG4AZABpAHQAaQBvAG4AcwAgAGEAcgBlACAAbgBvAHQAIABtAGUAdAAuAA0ACgANAAoARABJAFMAQwBMAEEASQBNAEUAUgANAAoAVABIAEUAIABGAE8ATgBUACAAUwBPAEYAVABXAEEAUgBFACAASQBTACAAUABSAE8AVgBJAEQARQBEACAAIgBBAFMAIABJAFMAIgAsACAAVwBJAFQASABPAFUAVAAgAFcAQQBSAFIAQQBOAFQAWQAgAE8ARgAgAEEATgBZACAASwBJAE4ARAAsACAARQBYAFAAUgBFAFMAUwAgAE8AUgAgAEkATQBQAEwASQBFAEQALAAgAEkATgBDAEwAVQBEAEkATgBHACAAQgBVAFQAIABOAE8AVAAgAEwASQBNAEkAVABFAEQAIABUAE8AIABBAE4AWQAgAFcAQQBSAFIAQQBOAFQASQBFAFMAIABPAEYAIABNAEUAUgBDAEgAQQBOAFQAQQBCAEkATABJAFQAWQAsACAARgBJAFQATgBFAFMAUwAgAEYATwBSACAAQQAgAFAAQQBSAFQASQBDAFUATABBAFIAIABQAFUAUgBQAE8AUwBFACAAQQBOAEQAIABOAE8ATgBJAE4ARgBSAEkATgBHAEUATQBFAE4AVAAgAE8ARgAgAEMATwBQAFkAUgBJAEcASABUACwAIABQAEEAVABFAE4AVAAsACAAVABSAEEARABFAE0AQQBSAEsALAAgAE8AUgAgAE8AVABIAEUAUgAgAFIASQBHAEgAVAAuACAASQBOACAATgBPACAARQBWAEUATgBUACAAUwBIAEEATABMACAAVABIAEUAIABDAE8AUABZAFIASQBHAEgAVAAgAEgATwBMAEQARQBSACAAQgBFACAATABJAEEAQgBMAEUAIABGAE8AUgAgAEEATgBZACAAQwBMAEEASQBNACwAIABEAEEATQBBAEcARQBTACAATwBSACAATwBUAEgARQBSACAATABJAEEAQgBJAEwASQBUAFkALAAgAEkATgBDAEwAVQBEAEkATgBHACAAQQBOAFkAIABHAEUATgBFAFIAQQBMACwAIABTAFAARQBDAEkAQQBMACwAIABJAE4ARABJAFIARQBDAFQALAAgAEkATgBDAEkARABFAE4AVABBAEwALAAgAE8AUgAgAEMATwBOAFMARQBRAFUARQBOAFQASQBBAEwAIABEAEEATQBBAEcARQBTACwAIABXAEgARQBUAEgARQBSACAASQBOACAAQQBOACAAQQBDAFQASQBPAE4AIABPAEYAIABDAE8ATgBUAFIAQQBDAFQALAAgAFQATwBSAFQAIABPAFIAIABPAFQASABFAFIAVwBJAFMARQAsACAAQQBSAEkAUwBJAE4ARwAgAEYAUgBPAE0ALAAgAE8AVQBUACAATwBGACAAVABIAEUAIABVAFMARQAgAE8AUgAgAEkATgBBAEIASQBMAEkAVABZACAAVABPACAAVQBTAEUAIABUAEgARQAgAEYATwBOAFQAIABTAE8ARgBUAFcAQQBSAEUAIABPAFIAIABGAFIATwBNACAATwBUAEgARQBSACAARABFAEEATABJAE4ARwBTACAASQBOACAAVABIAEUAIABGAE8ATgBUACAAUwBPAEYAVABXAEEAUgBFAC4ADQAKAGgAdAB0AHAAOgAvAC8AdwB3AHcALgBhAGQAbwBiAGUALgBjAG8AbQAvAHQAeQBwAGUALwBsAGUAZwBhAGwALgBoAHQAbQBsAAAAAAAFAAAAAwAAADgAAAAEAAABUAABAAAAAAAsAAMAAQAAADgAAwAKAAABUAAGAAwAAAAAAAEAAAAEARgAAABCAEAABQACB/8P/xf/H/8n/y//N/8//0f/T/9X/1//Z/9v/3f/f/+H/4//l/+f/6f/r/+3/7//x//P/9f/5//v//f//c///f//AAAAAAgAEAAYACAAKAAwADgAQABIAFAAWABgAGgAcAB4AIAAiACQAJgAoACoALAAuADAAMgA0ADgAOgA8AD4AP3w//8AAfgB8AHoAeAB2AHQAcgBwAG4AbABqAGgAZgBkAGIAYABeAFwAWgBYAFYAVABSAFAATgBMAEgARgBEAEIAQgBAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAZkAAAAAAAAAIgAAAAAAAAB/8AAAABAAAIAAAAD/8AAAABAAAQAAAAF/8AAAABAAAYAAAAH/8AAAABAAAgAAAAJ/8AAAABAAAoAAAAL/8AAAABAAAwAAAAN/8AAAABAAA4AAAAP/8AAAABAABAAAAAR/8AAAABAABIAAAAT/8AAAABAABQAAAAV/8AAAABAABYAAAAX/8AAAABAABgAAAAZ/8AAAABAABoAAAAb/8AAAABAABwAAAAd/8AAAABAAB4AAAAf/8AAAABAACAAAAAh/8AAAABAACIAAAAj/8AAAABAACQAAAAl/8AAAABAACYAAAAn/8AAAABAACgAAAAp/8AAAABAACoAAAAr/8AAAABAACwAAAAt/8AAAABAAC4AAAAv/8AAAABAADAAAAAx/8AAAABAADIAAAAz/8AAAABAADQAAAA1/8AAAABAADgAAAA5/8AAAABAADoAAAA7/8AAAABAADwAAAA9/8AAAABAAD4AAAA/c8AAAABAAD98AAA//0AAAXxAAEAAAABB/8AAAABAAEIAAABD/8AAAABAAEQAAABF/8AAAABAAEYAAABH/8AAAABAAEgAAABJ/8AAAABAAEoAAABL/8AAAABAAEwAAABN/8AAAABAAE4AAABP/8AAAABAAFAAAABR/8AAAABAAFIAAABT/8AAAABAAFQAAABV/8AAAABAAFYAAABX/8AAAABAAFgAAABZ/8AAAABAAFoAAABb/8AAAABAAFwAAABd/8AAAABAAF4AAABf/8AAAABAAGAAAABh/8AAAABAAGIAAABj/8AAAABAAGQAAABl/8AAAABAAGYAAABn/8AAAABAAGgAAABp/8AAAABAAGoAAABr/8AAAABAAGwAAABt/8AAAABAAG4AAABv/8AAAABAAHAAAABx/8AAAABAAHIAAABz/8AAAABAAHQAAAB1/8AAAABAAHYAAAB3/8AAAABAAHgAAAB5/8AAAABAAHoAAAB7/8AAAABAAHwAAAB9/8AAAABAAH4AAAB//0AAAABAAIAAAACB/8AAAABAAIIAAACD/8AAAABAAIQAAACF/8AAAABAAIYAAACH/8AAAABAAIgAAACJ/8AAAABAAIoAAACL/8AAAABAAIwAAACN/8AAAABAAI4AAACP/8AAAABAAJAAAACR/8AAAABAAJIAAACT/8AAAABAAJQAAACV/8AAAABAAJYAAACX/8AAAABAAJgAAACZ/8AAAABAAJoAAACb/8AAAABAAJwAAACd/8AAAABAAJ4AAACf/8AAAABAAKAAAACh/8AAAABAAKIAAACj/8AAAABAAKQAAACl/8AAAABAAKYAAACn/8AAAABAAKgAAACp/8AAAABAAKoAAACr/8AAAABAAKwAAACt/8AAAABAAK4AAACv/8AAAABAALAAAACx/8AAAABAALIAAACz/8AAAABAALQAAAC1/8AAAABAALYAAAC3/8AAAABAALgAAAC5/8AAAABAALoAAAC7/8AAAABAALwAAAC9/8AAAABAAL4AAAC//0AAAABAAMAAAADB/8AAAABAAMIAAADD/8AAAABAAMQAAADF/8AAAABAAMYAAADH/8AAAABAAMgAAADJ/8AAAABAAMoAAADL/8AAAABAAMwAAADN/8AAAABAAM4AAADP/8AAAABAANAAAADR/8AAAABAANIAAADT/8AAAABAANQAAADV/8AAAABAANYAAADX/8AAAABAANgAAADZ/8AAAABAANoAAADb/8AAAABAANwAAADd/8AAAABAAN4AAADf/8AAAABAAOAAAADh/8AAAABAAOIAAADj/8AAAABAAOQAAADl/8AAAABAAOYAAADn/8AAAABAAOgAAADp/8AAAABAAOoAAADr/8AAAABAAOwAAADt/8AAAABAAO4AAADv/8AAAABAAPAAAADx/8AAAABAAPIAAADz/8AAAABAAPQAAAD1/8AAAABAAPYAAAD3/8AAAABAAPgAAAD5/8AAAABAAPoAAAD7/8AAAABAAPwAAAD9/8AAAABAAP4AAAD//0AAAABAAQAAAAEB/8AAAABAAQIAAAED/8AAAABAAQQAAAEF/8AAAABAAQYAAAEH/8AAAABAAQgAAAEJ/8AAAABAAQoAAAEL/8AAAABAAQwAAAEN/8AAAABAAQ4AAAEP/8AAAABAARAAAAER/8AAAABAARIAAAET/8AAAABAARQAAAEV/8AAAABAARYAAAEX/8AAAABAARgAAAEZ/8AAAABAARoAAAEb/8AAAABAARwAAAEd/8AAAABAAR4AAAEf/8AAAABAASAAAAEh/8AAAABAASIAAAEj/8AAAABAASQAAAEl/8AAAABAASYAAAEn/8AAAABAASgAAAEp/8AAAABAASoAAAEr/8AAAABAASwAAAEt/8AAAABAAS4AAAEv/8AAAABAATAAAAEx/8AAAABAATIAAAEz/8AAAABAATQAAAE1/8AAAABAATYAAAE3/8AAAABAATgAAAE5/8AAAABAAToAAAE7/8AAAABAATwAAAE9/8AAAABAAT4AAAE//0AAAABAAUAAAAFB/8AAAABAAUIAAAFD/8AAAABAAUQAAAFF/8AAAABAAUYAAAFH/8AAAABAAUgAAAFJ/8AAAABAAUoAAAFL/8AAAABAAUwAAAFN/8AAAABAAU4AAAFP/8AAAABAAVAAAAFR/8AAAABAAVIAAAFT/8AAAABAAVQAAAFV/8AAAABAAVYAAAFX/8AAAABAAVgAAAFZ/8AAAABAAVoAAAFb/8AAAABAAVwAAAFd/8AAAABAAV4AAAFf/8AAAABAAWAAAAFh/8AAAABAAWIAAAFj/8AAAABAAWQAAAFl/8AAAABAAWYAAAFn/8AAAABAAWgAAAFp/8AAAABAAWoAAAFr/8AAAABAAWwAAAFt/8AAAABAAW4AAAFv/8AAAABAAXAAAAFx/8AAAABAAXIAAAFz/8AAAABAAXQAAAF1/8AAAABAAXYAAAF3/8AAAABAAXgAAAF5/8AAAABAAXoAAAF7/8AAAABAAXwAAAF9/8AAAABAAX4AAAF//0AAAABAAYAAAAGB/8AAAABAAYIAAAGD/8AAAABAAYQAAAGF/8AAAABAAYYAAAGH/8AAAABAAYgAAAGJ/8AAAABAAYoAAAGL/8AAAABAAYwAAAGN/8AAAABAAY4AAAGP/8AAAABAAZAAAAGR/8AAAABAAZIAAAGT/8AAAABAAZQAAAGV/8AAAABAAZYAAAGX/8AAAABAAZgAAAGZ/8AAAABAAZoAAAGb/8AAAABAAZwAAAGd/8AAAABAAZ4AAAGf/8AAAABAAaAAAAGh/8AAAABAAaIAAAGj/8AAAABAAaQAAAGl/8AAAABAAaYAAAGn/8AAAABAAagAAAGp/8AAAABAAaoAAAGr/8AAAABAAawAAAGt/8AAAABAAa4AAAGv/8AAAABAAbAAAAGx/8AAAABAAbIAAAGz/8AAAABAAbQAAAG1/8AAAABAAbYAAAG3/8AAAABAAbgAAAG5/8AAAABAAboAAAG7/8AAAABAAbwAAAG9/8AAAABAAb4AAAG//0AAAABAAcAAAAHB/8AAAABAAcIAAAHD/8AAAABAAcQAAAHF/8AAAABAAcYAAAHH/8AAAABAAcgAAAHJ/8AAAABAAcoAAAHL/8AAAABAAcwAAAHN/8AAAABAAc4AAAHP/8AAAABAAdAAAAHR/8AAAABAAdIAAAHT/8AAAABAAdQAAAHV/8AAAABAAdYAAAHX/8AAAABAAdgAAAHZ/8AAAABAAdoAAAHb/8AAAABAAdwAAAHd/8AAAABAAd4AAAHf/8AAAABAAeAAAAHh/8AAAABAAeIAAAHj/8AAAABAAeQAAAHl/8AAAABAAeYAAAHn/8AAAABAAegAAAHp/8AAAABAAeoAAAHr/8AAAABAAewAAAHt/8AAAABAAe4AAAHv/8AAAABAAfAAAAHx/8AAAABAAfIAAAHz/8AAAABAAfQAAAH1/8AAAABAAfYAAAH3/8AAAABAAfgAAAH5/8AAAABAAfoAAAH7/8AAAABAAfwAAAH9/8AAAABAAf4AAAH//0AAAABAAgAAAAIB/8AAAABAAgIAAAID/8AAAABAAgQAAAIF/8AAAABAAgYAAAIH/8AAAABAAggAAAIJ/8AAAABAAgoAAAIL/8AAAABAAgwAAAIN/8AAAABAAg4AAAIP/8AAAABAAhAAAAIR/8AAAABAAhIAAAIT/8AAAABAAhQAAAIV/8AAAABAAhYAAAIX/8AAAABAAhgAAAIZ/8AAAABAAhoAAAIb/8AAAABAAhwAAAId/8AAAABAAh4AAAIf/8AAAABAAiAAAAIh/8AAAABAAiIAAAIj/8AAAABAAiQAAAIl/8AAAABAAiYAAAIn/8AAAABAAigAAAIp/8AAAABAAioAAAIr/8AAAABAAiwAAAIt/8AAAABAAi4AAAIv/8AAAABAAjAAAAIx/8AAAABAAjIAAAIz/8AAAABAAjQAAAI1/8AAAABAAjYAAAI3/8AAAABAAjgAAAI5/8AAAABAAjoAAAI7/8AAAABAAjwAAAI9/8AAAABAAj4AAAI//0AAAABAAkAAAAJB/8AAAABAAkIAAAJD/8AAAABAAkQAAAJF/8AAAABAAkYAAAJH/8AAAABAAkgAAAJJ/8AAAABAAkoAAAJL/8AAAABAAkwAAAJN/8AAAABAAk4AAAJP/8AAAABAAlAAAAJR/8AAAABAAlIAAAJT/8AAAABAAlQAAAJV/8AAAABAAlYAAAJX/8AAAABAAlgAAAJZ/8AAAABAAloAAAJb/8AAAABAAlwAAAJd/8AAAABAAl4AAAJf/8AAAABAAmAAAAJh/8AAAABAAmIAAAJj/8AAAABAAmQAAAJl/8AAAABAAmYAAAJn/8AAAABAAmgAAAJp/8AAAABAAmoAAAJr/8AAAABAAmwAAAJt/8AAAABAAm4AAAJv/8AAAABAAnAAAAJx/8AAAABAAnIAAAJz/8AAAABAAnQAAAJ1/8AAAABAAnYAAAJ3/8AAAABAAngAAAJ5/8AAAABAAnoAAAJ7/8AAAABAAnwAAAJ9/8AAAABAAn4AAAJ//0AAAABAAoAAAAKB/8AAAABAAoIAAAKD/8AAAABAAoQAAAKF/8AAAABAAoYAAAKH/8AAAABAAogAAAKJ/8AAAABAAooAAAKL/8AAAABAAowAAAKN/8AAAABAAo4AAAKP/8AAAABAApAAAAKR/8AAAABAApIAAAKT/8AAAABAApQAAAKV/8AAAABAApYAAAKX/8AAAABAApgAAAKZ/8AAAABAApoAAAKb/8AAAABAApwAAAKd/8AAAABAAp4AAAKf/8AAAABAAqAAAAKh/8AAAABAAqIAAAKj/8AAAABAAqQAAAKl/8AAAABAAqYAAAKn/8AAAABAAqgAAAKp/8AAAABAAqoAAAKr/8AAAABAAqwAAAKt/8AAAABAAq4AAAKv/8AAAABAArAAAAKx/8AAAABAArIAAAKz/8AAAABAArQAAAK1/8AAAABAArYAAAK3/8AAAABAArgAAAK5/8AAAABAAroAAAK7/8AAAABAArwAAAK9/8AAAABAAr4AAAK//0AAAABAAsAAAALB/8AAAABAAsIAAALD/8AAAABAAsQAAALF/8AAAABAAsYAAALH/8AAAABAAsgAAALJ/8AAAABAAsoAAALL/8AAAABAAswAAALN/8AAAABAAs4AAALP/8AAAABAAtAAAALR/8AAAABAAtIAAALT/8AAAABAAtQAAALV/8AAAABAAtYAAALX/8AAAABAAtgAAALZ/8AAAABAAtoAAALb/8AAAABAAtwAAALd/8AAAABAAt4AAALf/8AAAABAAuAAAALh/8AAAABAAuIAAALj/8AAAABAAuQAAALl/8AAAABAAuYAAALn/8AAAABAAugAAALp/8AAAABAAuoAAALr/8AAAABAAuwAAALt/8AAAABAAu4AAALv/8AAAABAAvAAAALx/8AAAABAAvIAAALz/8AAAABAAvQAAAL1/8AAAABAAvYAAAL3/8AAAABAAvgAAAL5/8AAAABAAvoAAAL7/8AAAABAAvwAAAL9/8AAAABAAv4AAAL//0AAAABAAwAAAAMB/8AAAABAAwIAAAMD/8AAAABAAwQAAAMF/8AAAABAAwYAAAMH/8AAAABAAwgAAAMJ/8AAAABAAwoAAAML/8AAAABAAwwAAAMN/8AAAABAAw4AAAMP/8AAAABAAxAAAAMR/8AAAABAAxIAAAMT/8AAAABAAxQAAAMV/8AAAABAAxYAAAMX/8AAAABAAxgAAAMZ/8AAAABAAxoAAAMb/8AAAABAAxwAAAMd/8AAAABAAx4AAAMf/8AAAABAAyAAAAMh/8AAAABAAyIAAAMj/8AAAABAAyQAAAMl/8AAAABAAyYAAAMn/8AAAABAAygAAAMp/8AAAABAAyoAAAMr/8AAAABAAywAAAMt/8AAAABAAy4AAAMv/8AAAABAAzAAAAMx/8AAAABAAzIAAAMz/8AAAABAAzQAAAM1/8AAAABAAzYAAAM3/8AAAABAAzgAAAM5/8AAAABAAzoAAAM7/8AAAABAAzwAAAM9/8AAAABAAz4AAAM//0AAAABAA0AAAANB/8AAAABAA0IAAAND/8AAAABAA0QAAANF/8AAAABAA0YAAANH/8AAAABAA0gAAANJ/8AAAABAA0oAAANL/8AAAABAA0wAAANN/8AAAABAA04AAANP/8AAAABAA1AAAANR/8AAAABAA1IAAANT/8AAAABAA1QAAANV/8AAAABAA1YAAANX/8AAAABAA1gAAANZ/8AAAABAA1oAAANb/8AAAABAA1wAAANd/8AAAABAA14AAANf/8AAAABAA2AAAANh/8AAAABAA2IAAANj/8AAAABAA2QAAANl/8AAAABAA2YAAANn/8AAAABAA2gAAANp/8AAAABAA2oAAANr/8AAAABAA2wAAANt/8AAAABAA24AAANv/8AAAABAA3AAAANx/8AAAABAA3IAAANz/8AAAABAA3QAAAN1/8AAAABAA3YAAAN3/8AAAABAA3gAAAN5/8AAAABAA3oAAAN7/8AAAABAA3wAAAN9/8AAAABAA34AAAN//0AAAABAA4AAAAOB/8AAAABAA4IAAAOD/8AAAABAA4QAAAOF/8AAAABAA4YAAAOH/8AAAABAA4gAAAOJ/8AAAABAA4oAAAOL/8AAAABAA4wAAAON/8AAAABAA44AAAOP/8AAAABAA5AAAAOR/8AAAABAA5IAAAOT/8AAAABAA5QAAAOV/8AAAABAA5YAAAOX/8AAAABAA5gAAAOZ/8AAAABAA5oAAAOb/8AAAABAA5wAAAOd/8AAAABAA54AAAOf/8AAAABAA6AAAAOh/8AAAABAA6IAAAOj/8AAAABAA6QAAAOl/8AAAABAA6YAAAOn/8AAAABAA6gAAAOp/8AAAABAA6oAAAOr/8AAAABAA6wAAAOt/8AAAABAA64AAAOv/8AAAABAA7AAAAOx/8AAAABAA7IAAAOz/8AAAABAA7QAAAO1/8AAAABAA7YAAAO3/8AAAABAA7gAAAO5/8AAAABAA7oAAAO7/8AAAABAA7wAAAO9/8AAAABAA74AAAO//0AAAABAA8AAAAPB/8AAAABAA8IAAAPD/8AAAABAA8QAAAPF/8AAAABAA8YAAAPH/8AAAABAA8gAAAPJ/8AAAABAA8oAAAPL/8AAAABAA8wAAAPN/8AAAABAA84AAAPP/8AAAABAA9AAAAPR/8AAAABAA9IAAAPT/8AAAABAA9QAAAPV/8AAAABAA9YAAAPX/8AAAABAA9gAAAPZ/8AAAABAA9oAAAPb/8AAAABAA9wAAAPd/8AAAABAA94AAAPf/8AAAABAA+AAAAPh/8AAAABAA+IAAAPj/8AAAABAA+QAAAPl/8AAAABAA+YAAAPn/8AAAABAA+gAAAPp/8AAAABAA+oAAAPr/8AAAABAA+wAAAPt/8AAAABAA+4AAAPv/8AAAABAA/AAAAPx/8AAAABAA/IAAAPz/8AAAABAA/QAAAP1/8AAAABAA/YAAAP3/8AAAABAA/gAAAP5/8AAAABAA/oAAAP7/8AAAABAA/wAAAP9/8AAAABAA/4AAAP//0AAAABABAAAAAQB/8AAAABABAIAAAQD/8AAAABABAQAAAQF/8AAAABABAYAAAQH/8AAAABABAgAAAQJ/8AAAABABAoAAAQL/8AAAABABAwAAAQN/8AAAABABA4AAAQP/8AAAABABBAAAAQR/8AAAABABBIAAAQT/8AAAABABBQAAAQV/8AAAABABBYAAAQX/8AAAABABBgAAAQZ/8AAAABABBoAAAQb/8AAAABABBwAAAQd/8AAAABABB4AAAQf/8AAAABABCAAAAQh/8AAAABABCIAAAQj/8AAAABABCQAAAQl/8AAAABABCYAAAQn/8AAAABABCgAAAQp/8AAAABABCoAAAQr/8AAAABABCwAAAQt/8AAAABABC4AAAQv/8AAAABABDAAAAQx/8AAAABABDIAAAQz/8AAAABABDQAAAQ1/8AAAABABDYAAAQ3/8AAAABABDgAAAQ5/8AAAABABDoAAAQ7/8AAAABABDwAAAQ9/8AAAABABD4AAAQ//0AAAABAAMAAAAAAAD/tQAyAAAAAAAAAAAAAAAAAAAAAAAAAAABAAQCAAEBAQtBZG9iZUJsYW5rAAEBATD4G/gciwwe+B0B+B4Ci/sM+gD6BAUeGgA/DB8cCAEMIvdMD/dZEfdRDCUcGRYMJAAFAQEGDk1YZ0Fkb2JlSWRlbnRpdHlDb3B5cmlnaHQgMjAxMyBBZG9iZSBTeXN0ZW1zIEluY29ycG9yYXRlZC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5BZG9iZSBCbGFua0Fkb2JlQmxhbmstMjA0OQAAAgABB/8DAAEAAAAIAQgBAgABAEsATABNAE4ATwBQAFEAUgBTAFQAVQBWAFcAWABZAFoAWwBcAF0AXgBfAGAAYQBiAGMAZABlAGYAZwBoAGkAagBrAGwAbQBuAG8AcABxAHIAcwB0AHUAdgB3AHgAeQB6AHsAfAB9AH4AfwCAAIEAggCDAIQAhQCGAIcAiACJAIoAiwCMAI0AjgCPAJAAkQCSAJMAlACVAJYAlwCYAJkAmgCbAJwAnQCeAJ8AoAChAKIAowCkAKUApgCnAKgAqQCqAKsArACtAK4ArwCwALEAsgCzALQAtQC2ALcAuAC5ALoAuwC8AL0AvgC/AMAAwQDCAMMAxADFAMYAxwDIAMkAygDLAMwAzQDOAM8A0ADRANIA0wDUANUA1gDXANgA2QDaANsA3ADdAN4A3wDgAOEA4gDjAOQA5QDmAOcA6ADpAOoA6wDsAO0A7gDvAPAA8QDyAPMA9AD1APYA9wD4APkA+gD7APwA/QD+AP8BAAEBAQIBAwEEAQUBBgEHAQgBCQEKAQsBDAENAQ4BDwEQAREBEgETARQBFQEWARcBGAEZARoBGwEcAR0BHgEfASABIQEiASMBJAElASYBJwEoASkBKgErASwBLQEuAS8BMAExATIBMwE0ATUBNgE3ATgBOQE6ATsBPAE9AT4BPwFAAUEBQgFDAUQBRQFGAUcBSAFJAUoBSwFMAU0BTgFPAVABUQFSAVMBVAFVAVYBVwFYAVkBWgFbAVwBXQFeAV8BYAFhAWIBYwFkAWUBZgFnAWgBaQFqAWsBbAFtAW4BbwFwAXEBcgFzAXQBdQF2AXcBeAF5AXoBewF8AX0BfgF/AYABgQGCAYMBhAGFAYYBhwGIAYkBigGLAYwBjQGOAY8BkAGRAZIBkwGUAZUBlgGXAZgBmQGaAZsBnAGdAZ4BnwGgAaEBogGjAaQBpQGmAacBqAGpAaoBqwGsAa0BrgGvAbABsQGyAbMBtAG1AbYBtwG4AbkBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgHHAcgByQHKAcsBzAHNAc4BzwHQAdEB0gHTAdQB1QHWAdcB2AHZAdoB2wHcAd0B3gHfAeAB4QHiAeMB5AHlAeYB5wHoAekB6gHrAewB7QHuAe8B8AHxAfIB8wH0AfUB9gH3AfgB+QH6AfsB/AH9Af4B/wIAAgECAgIDAgQCBQIGAgcCCAIJAgoCCwIMAg0CDgIPAhACEQISAhMCFAIVAhYCFwIYAhkCGgIbAhwCHQIeAh8CIAIhAiICIwIkAiUCJgInAigCKQIqAisCLAItAi4CLwIwAjECMgIzAjQCNQI2AjcCOAI5AjoCOwI8Aj0CPgI/AkACQQJCAkMCRAJFAkYCRwJIAkkCSgJLAkwCTQJOAk8CUAJRAlICUwJUAlUCVgJXAlgCWQJaAlsCXAJdAl4CXwJgAmECYgJjAmQCZQJmAmcCaAJpAmoCawJsAm0CbgJvAnACcQJyAnMCdAJ1AnYCdwJ4AnkCegJ7AnwCfQJ+An8CgAKBAoICgwKEAoUChgKHAogCiQKKAosCjAKNAo4CjwKQApECkgKTApQClQKWApcCmAKZApoCmwKcAp0CngKfAqACoQKiAqMCpAKlAqYCpwKoAqkCqgKrAqwCrQKuAq8CsAKxArICswK0ArUCtgK3ArgCuQK6ArsCvAK9Ar4CvwLAAsECwgLDAsQCxQLGAscCyALJAsoCywLMAs0CzgLPAtAC0QLSAtMC1ALVAtYC1wLYAtkC2gLbAtwC3QLeAt8C4ALhAuIC4wLkAuUC5gLnAugC6QLqAusC7ALtAu4C7wLwAvEC8gLzAvQC9QL2AvcC+AL5AvoC+wL8Av0C/gL/AwADAQMCAwMDBAMFAwYDBwMIAwkDCgMLAwwDDQMOAw8DEAMRAxIDEwMUAxUDFgMXAxgDGQMaAxsDHAMdAx4DHwMgAyEDIgMjAyQDJQMmAycDKAMpAyoDKwMsAy0DLgMvAzADMQMyAzMDNAM1AzYDNwM4AzkDOgM7AzwDPQM+Az8DQANBA0IDQwNEA0UDRgNHA0gDSQNKA0sDTANNA04DTwNQA1EDUgNTA1QDVQNWA1cDWANZA1oDWwNcA10DXgNfA2ADYQNiA2MDZANlA2YDZwNoA2kDagNrA2wDbQNuA28DcANxA3IDcwN0A3UDdgN3A3gDeQN6A3sDfAN9A34DfwOAA4EDggODA4QDhQOGA4cDiAOJA4oDiwOMA40DjgOPA5ADkQOSA5MDlAOVA5YDlwOYA5kDmgObA5wDnQOeA58DoAOhA6IDowOkA6UDpgOnA6gDqQOqA6sDrAOtA64DrwOwA7EDsgOzA7QDtQO2A7cDuAO5A7oDuwO8A70DvgO/A8ADwQPCA8MDxAPFA8YDxwPIA8kDygPLA8wDzQPOA88D0APRA9ID0wPUA9UD1gPXA9gD2QPaA9sD3APdA94D3wPgA+ED4gPjA+QD5QPmA+cD6APpA+oD6wPsA+0D7gPvA/AD8QPyA/MD9AP1A/YD9wP4A/kD+gP7A/wD/QP+A/8EAAQBBAIEAwQEBAUEBgQHBAgECQQKBAsEDAQNBA4EDwQQBBEEEgQTBBQEFQQWBBcEGAQZBBoEGwQcBB0EHgQfBCAEIQQiBCMEJAQlBCYEJwQoBCkEKgQrBCwELQQuBC8EMAQxBDIEMwQ0BDUENgQ3BDgEOQQ6BDsEPAQ9BD4EPwRABEEEQgRDBEQERQRGBEcESARJBEoESwRMBE0ETgRPBFAEUQRSBFMEVARVBFYEVwRYBFkEWgRbBFwEXQReBF8EYARhBGIEYwRkBGUEZgRnBGgEaQRqBGsEbARtBG4EbwRwBHEEcgRzBHQEdQR2BHcEeAR5BHoEewR8BH0EfgR/BIAEgQSCBIMEhASFBIYEhwSIBIkEigSLBIwEjQSOBI8EkASRBJIEkwSUBJUElgSXBJgEmQSaBJsEnASdBJ4EnwSgBKEEogSjBKQEpQSmBKcEqASpBKoEqwSsBK0ErgSvBLAEsQSyBLMEtAS1BLYEtwS4BLkEugS7BLwEvQS+BL8EwATBBMIEwwTEBMUExgTHBMgEyQTKBMsEzATNBM4EzwTQBNEE0gTTBNQE1QTWBNcE2ATZBNoE2wTcBN0E3gTfBOAE4QTiBOME5ATlBOYE5wToBOkE6gTrBOwE7QTuBO8E8ATxBPIE8wT0BPUE9gT3BPgE+QT6BPsE/AT9BP4E/wUABQEFAgUDBQQFBQUGBQcFCAUJBQoFCwUMBQ0FDgUPBRAFEQUSBRMFFAUVBRYFFwUYBRkFGgUbBRwFHQUeBR8FIAUhBSIFIwUkBSUFJgUnBSgFKQUqBSsFLAUtBS4FLwUwBTEFMgUzBTQFNQU2BTcFOAU5BToFOwU8BT0FPgU/BUAFQQVCBUMFRAVFBUYFRwVIBUkFSgVLBUwFTQVOBU8FUAVRBVIFUwVUBVUFVgVXBVgFWQVaBVsFXAVdBV4FXwVgBWEFYgVjBWQFZQVmBWcFaAVpBWoFawVsBW0FbgVvBXAFcQVyBXMFdAV1BXYFdwV4BXkFegV7BXwFfQV+BX8FgAWBBYIFgwWEBYUFhgWHBYgFiQWKBYsFjAWNBY4FjwWQBZEFkgWTBZQFlQWWBZcFmAWZBZoFmwWcBZ0FngWfBaAFoQWiBaMFpAWlBaYFpwWoBakFqgWrBawFrQWuBa8FsAWxBbIFswW0BbUFtgW3BbgFuQW6BbsFvAW9Bb4FvwXABcEFwgXDBcQFxQXGBccFyAXJBcoFywXMBc0FzgXPBdAF0QXSBdMF1AXVBdYF1wXYBdkF2gXbBdwF3QXeBd8F4AXhBeIF4wXkBeUF5gXnBegF6QXqBesF7AXtBe4F7wXwBfEF8gXzBfQF9QX2BfcF+AX5BfoF+wX8Bf0F/gX/BgAGAQYCBgMGBAYFBgYGBwYIBgkGCgYLBgwGDQYOBg8GEAYRBhIGEwYUBhUGFgYXBhgGGQYaBhsGHAYdBh4GHwYgBiEGIgYjBiQGJQYmBicGKAYpBioGKwYsBi0GLgYvBjAGMQYyBjMGNAY1BjYGNwY4BjkGOgY7BjwGPQY+Bj8GQAZBBkIGQwZEBkUGRgZHBkgGSQZKBksGTAZNBk4GTwZQBlEGUgZTBlQGVQZWBlcGWAZZBloGWwZcBl0GXgZfBmAGYQZiBmMGZAZlBmYGZwZoBmkGagZrBmwGbQZuBm8GcAZxBnIGcwZ0BnUGdgZ3BngGeQZ6BnsGfAZ9Bn4GfwaABoEGggaDBoQGhQaGBocGiAaJBooGiwaMBo0GjgaPBpAGkQaSBpMGlAaVBpYGlwaYBpkGmgabBpwGnQaeBp8GoAahBqIGowakBqUGpganBqgGqQaqBqsGrAatBq4GrwawBrEGsgazBrQGtQa2BrcGuAa5BroGuwa8Br0Gvga/BsAGwQbCBsMGxAbFBsYGxwbIBskGygbLBswGzQbOBs8G0AbRBtIG0wbUBtUG1gbXBtgG2QbaBtsG3AbdBt4G3wbgBuEG4gbjBuQG5QbmBucG6AbpBuoG6wbsBu0G7gbvBvAG8QbyBvMG9Ab1BvYG9wb4BvkG+gb7BvwG/Qb+Bv8HAAcBBwIHAwcEBwUHBgcHBwgHCQcKBwsHDAcNBw4HDwcQBxEHEgcTBxQHFQcWBxcHGAcZBxoHGwccBx0HHgcfByAHIQciByMHJAclByYHJwcoBykHKgcrBywHLQcuBy8HMAcxBzIHMwc0BzUHNgc3BzgHOQc6BzsHPAc9Bz4HPwdAB0EHQgdDB0QHRQdGB0cHSAdJB0oHSwdMB00HTgdPB1AHUQdSB1MHVAdVB1YHVwdYB1kHWgdbB1wHXQdeB18HYAdhB2IHYwdkB2UHZgdnB2gHaQdqB2sHbAdtB24HbwdwB3EHcgdzB3QHdQd2B3cHeAd5B3oHewd8B30Hfgd/B4AHgQeCB4MHhAeFB4YHhweIB4kHigeLB4wHjQeOB48HkAeRB5IHkweUB5UHlgeXB5gHmQeaB5sHnAedB54HnwegB6EHogejB6QHpQemB6cHqAepB6oHqwesB60HrgevB7AHsQeyB7MHtAe1B7YHtwe4B7kHuge7B7wHvQe+B78HwAfBB8IHwwfEB8UHxgfHB8gHyQfKB8sHzAfNB84HzwfQB9EH0gfTB9QH1QfWB9cH2AfZB9oH2wfcB90H3gffB+AH4QfiB+MH5AflB+YH5wfoB+kH6gfrB+wH7QfuB+8H8AfxB/IH8wf0B/UH9gf3B/gH+Qf6B/sH/Af9B/4H/wgACAEIAggDCAQIBQgGCAcICAgJCAoICwgMCA0IDggPCBAIEQgSCBMIFAgVCBYIFwgYCBkIGggbCBwIHQgeCB8IIAghCCIIIwgkCCUIJggnCCgIKQgqCCsILAgtCC4ILwgwCDEIMggzCDQINQg2CDcIOAg5CDoIOwg8CD0IPgg/CEAIQQhCCEMIRAhFCEYIRwhICEkISghLIPsMt/oktwH3ELf5LLcD9xD6BBX+fPmE+nwH/Vj+JxX50gf3xfwzBaawFfvF+DcF+PYGpmIV/dIH+8X4MwVwZhX3xfw3Bfz2Bg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODgABAQEK+B8MJpocGSQS+46LHAVGiwa9Cr0L+ucVAAPoAHwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAA\') format(\'truetype\'); }",\nA.fontStyleAliasesMap={n:"normal",b:"bold",i:"italic",o:"oblique"},A.prototype={constructor:A,loadFonts:function(){var B,g=this;0===this._numberOfFonts?this._finish():(null!==this.timeout&&(this._timeoutId=window.setTimeout(function(){g._finish()},this.timeout)),this._testContainer=this._document.createElement("div"),this._testContainer.style.cssText="position:absolute; left:-10000px; top:-10000px; white-space:nowrap; font-size:20px; line-height:20px; visibility:hidden;",this._testDiv=this._document.createElement("div"),this._testDiv.style.position="absolute",this._testDiv.appendChild(this._document.createTextNode(A.referenceText)),A.useAdobeBlank?A.adobeBlankReferenceSize?this._loadFonts():this._loadAdobeBlankFont():(B=this._getNewFontVariationsFromFonts(this._fontsArray),B.length&&this._extractReferenceFontSizes(B),this._loadFonts()))},_extractReferenceFontSizes:function(g){var e,t,Q,i,D,n;for(e=this._testDiv.cloneNode(!0),this._testContainer.appendChild(e),this._document.body.appendChild(this._testContainer),Q=0;Q<g.length;Q++)for(n=g[Q],i=n.key,A.referenceFontFamilyVariationSizes[i]=[],t=0;t<A.referenceFontFamilies.length;t++)e.style.fontFamily=A.referenceFontFamilies[t],e.style.fontWeight=n.weight,e.style.fontStyle=n.style,D=new B(e.offsetWidth,e.offsetHeight),A.referenceFontFamilyVariationSizes[i].push(D);this._testContainer.parentNode.removeChild(this._testContainer),e.parentNode.removeChild(e)},_loadAdobeBlankFont:function(){var B,e=this;this._addAdobeBlankFontFaceIfNeeded(),B=this._testDiv.cloneNode(!0),this._testContainer.appendChild(B),this._document.body.appendChild(this._testContainer),A.useIntervalChecking?(B.style.fontFamily=A.referenceFontFamilies[0]+", serif",this._testContainer.appendChild(B),this._intervalId=window.setInterval(function(){e._checkAdobeBlankSize()},this._intervalDelay),this._checkAdobeBlankSize()):(B.style.fontFamily="serif",this._adobeBlankSizeWatcher=new g(B,{container:this._testContainer,delegate:this,continuous:!0,direction:g.directions.decrease,dimension:g.dimensions.horizontal,document:this._document}),this._adobeBlankSizeWatcher.prepareForWatch(),this._adobeBlankSizeWatcher.beginWatching(),B.style.fontFamily=A.referenceFontFamilies[0]+", serif")},_getNewFontVariationsFromFonts:function(B){var g,e,t,Q=[],i={};for(t=0;t<B.length;t++)g=B[t],e=this._fontVariationKeyForFont(g),!(e in i)&&!(e in A.referenceFontFamilyVariationSizes)&&(i[e]=!0,Q.push({key:e,weight:g.weight,style:g.style}));return Q},_parseFonts:function(A){var B=[];return A.forEach(function(A){if("string"==typeof A)-1<A.indexOf(":")?B=B.concat(this._convertShorthandToFontObjects(A)):B.push({family:A,weight:400,style:"normal"});else{if(!this._isValidFontObject(A))throw Error("Invalid font format");B.push(A)}},this),B},_isValidFontObject:function(A){return!!(A.family&&A.weight&&A.style)&&-1!==["normal","italic","bold","oblique"].indexOf(A.style)},_convertShorthandToFontObjects:function(B){var g,e=[],t=B.split(":");return g=t[0],t[1].split(",").forEach(function(t){var Q;if(2!==t.length)throw Error("Invalid Font Variation Description: \'"+t+"\' for font string: \'"+B+"\'");Q=t[0],t=t[1],Q in A.fontStyleAliasesMap&&(Q=A.fontStyleAliasesMap[Q],t=parseInt(t,10),isNaN(t)||e.push({family:g,weight:100*t,style:Q}))}),e},_addAdobeBlankFontFaceIfNeeded:function(){var B;this._document.getElementById(A.adobeBlankFontFaceStyleId)||(B=this._document.createElement("style"),B.setAttribute("type","text/css"),B.setAttribute("id",A.adobeBlankFontFaceStyleId),B.appendChild(this._document.createTextNode(A.adobeBlankFontFaceRule)),this._document.getElementsByTagName("head")[0].appendChild(B))},_checkAdobeBlankSize:function(){this._adobeBlankLoaded(this._testContainer.firstChild)},_adobeBlankLoaded:function(g){0===g.offsetWidth&&(A.adobeBlankReferenceSize=new B(g.offsetWidth,g.offsetHeight),null!==this._adobeBlankSizeWatcher?(this._adobeBlankSizeWatcher.endWatching(),this._adobeBlankSizeWatcher.removeScrollWatchers(),this._adobeBlankSizeWatcher=null):(window.clearInterval(this._intervalId),g.parentNode.removeChild(g)),this._testContainer.parentNode.removeChild(this._testContainer),this._loadFonts())},_cloneNodeSetStyleAndAttributes:function(A,B,g){var e=this._testDiv.cloneNode(!0);return e.style.fontWeight=A.weight,e.style.fontStyle=A.style,e.setAttribute("data-font-map-key",B),e.setAttribute("data-ref-font-family-index",""+g),e},_getFontMapKeyFromElement:function(A){return A.getAttribute("data-font-map-key")},_getFontFromElement:function(A){return this._fontsMap[this._getFontMapKeyFromElement(A)]},_getFontFamilyFromElement:function(A){return this._getFontFromElement(A).family},_getReferenceFontFamilyIndexFromElement:function(A){return A.getAttribute("data-ref-font-family-index")},_getReferenceFontFamilyFromElement:function(B){return B=this._getReferenceFontFamilyIndexFromElement(B),A.referenceFontFamilies[B]},_fontVariationKeyForFont:function(A){return A.weight+A.style},_fontsMapKeyForFont:function(A){return A.family+A.weight+A.style},_loadFonts:function(){var B,e,t,Q,i,D,n,s,o=this;for(B=0;B<this._numberOfFonts;B++)for(i=this._fontsArray[B],D=this._fontsMapKeyForFont(i),this._fontsMap[D]=i,e=0;e<A.referenceFontFamilies.length;e++)t=this._cloneNodeSetStyleAndAttributes(i,D,e),A.useResizeEvent?(t.style.fontFamily=A.referenceFontFamilies[e],this._testContainer.appendChild(t)):A.useIntervalChecking?(t.style.fontFamily="\'"+i.family+"\', "+A.referenceFontFamilies[e],this._testContainer.appendChild(t)):(t.style.fontFamily=A.referenceFontFamilies[e],A.useAdobeBlank?(Q=A.adobeBlankReferenceSize,n=g.directions.increase,s=g.dimensions.horizontal):(Q=this._fontVariationKeyForFont(i),Q=A.referenceFontFamilyVariationSizes[Q][e],n=g.directions.both,s=g.dimensions.both),Q=new g(t,{container:this._testContainer,delegate:this,size:Q,direction:n,dimension:s,document:this._document}),this._sizeWatchers.push(Q));if(this._document.body.appendChild(this._testContainer),A.useResizeEvent){for(e=0;e<this._testContainer.childNodes.length;e++)t=this._testContainer.childNodes[e],t.attachEvent("onresize",function(A,B){return function(){A._elementSizeChanged(B)}}(this,t));window.setTimeout(function(){for(e=0;e<o._testContainer.childNodes.length;e++)t=o._testContainer.childNodes[e],t.style.fontFamily="\'"+o._getFontFamilyFromElement(t)+"\', "+o._getReferenceFontFamilyFromElement(t)},0)}else if(A.useIntervalChecking)this._intervalId=window.setInterval(function(){o._checkSizes()},this._intervalDelay),this._checkSizes();else{for(B=0;B<this._sizeWatchers.length;B++)Q=this._sizeWatchers[B],Q.prepareForWatch();for(B=0;B<this._sizeWatchers.length;B++)Q=this._sizeWatchers[B],Q.beginWatching(),t=Q.getWatchedElement(),t.style.fontFamily="\'"+this._getFontFamilyFromElement(t)+"\', "+o._getReferenceFontFamilyFromElement(t)}},_checkSizes:function(){var g,e,t,Q,i;for(g=this._testContainer.childNodes.length-1;0<=g;g--)e=this._testContainer.childNodes[g],Q=new B(e.offsetWidth,e.offsetHeight),A.useAdobeBlank?t=A.adobeBlankReferenceSize:(t=this._getFontFromElement(e),t=this._fontVariationKeyForFont(t),i=this._getReferenceFontFamilyIndexFromElement(e),t=A.referenceFontFamilyVariationSizes[t][i]),t.isEqual(Q)||(e.parentNode.removeChild(e),this._elementSizeChanged(e))},_elementSizeChanged:function(A){var B;this._finished||(B=this._getFontMapKeyFromElement(A),"undefined"!=typeof this._fontsMap[B]&&(A=this._fontsMap[B],this._numberOfLoadedFonts++,delete this._fontsMap[B],this.delegate&&"function"==typeof this.delegate.fontLoaded&&this.delegate.fontLoaded(A),this._numberOfLoadedFonts===this._numberOfFonts&&this._finish()))},_finish:function(){var A,B,e,t=[];if(!this._finished){for(this._finished=!0,null!==this._adobeBlankSizeWatcher&&(this._adobeBlankSizeWatcher.getState()===g.states.watchingForSizeChange&&this._adobeBlankSizeWatcher.endWatching(),this._adobeBlankSizeWatcher=null),A=0;A<this._sizeWatchers.length;A++)B=this._sizeWatchers[A],B.getState()===g.states.watchingForSizeChange&&B.endWatching();if(this._sizeWatchers=[],null!==this._testContainer&&this._testContainer.parentNode.removeChild(this._testContainer),null!==this._timeoutId&&window.clearTimeout(this._timeoutId),null!==this._intervalId&&window.clearInterval(this._intervalId),this.delegate){if(this._numberOfLoadedFonts<this._numberOfFonts){for(e in this._fontsMap)this._fontsMap.hasOwnProperty(e)&&t.push(this._fontsMap[e]);A={message:"Not all fonts were loaded ("+this._numberOfLoadedFonts+"/"+this._numberOfFonts+")",notLoadedFonts:t}}else A=null;"function"==typeof this.delegate.complete?this.delegate.complete(A):"function"==typeof this.delegate.fontsLoaded&&this.delegate.fontsLoaded(A)}}},sizeWatcherChangedSize:function(A){var B=A.getWatchedElement();A===this._adobeBlankSizeWatcher?this._adobeBlankLoaded(B):this._elementSizeChanged(B)}},B.sizeFromString=function(A){return A=A.split(","),2!==A.length?null:new B(A[0],A[1])},B.prototype.isEqual=function(A){return this.width===A.width&&this.height===A.height},B.prototype.toString=function(){return this.width+","+this.height},g.states={initialized:0,generatedScrollWatchers:1,appendedScrollWatchers:2,preparedScrollWatchers:3,watchingForSizeChange:4},g.directions={decrease:1,increase:2,both:3},g.dimensions={horizontal:1,vertical:2,both:3},g.prototype={constructor:g,getWatchedElement:function(){return this._element},getState:function(){return this._state},setSize:function(A){this._size=A,this._direction&g.directions.increase&&(this._sizeIncreaseWatcherContentElm.style.cssText="width: "+(A.width+this._scrollAmount)+"px; height: "+(A.height+this._scrollAmount)+"px;"),this._direction&g.directions.decrease&&(this._sizeDecreaseWatcherElm.style.cssText="position:absolute; left: 0px; top: 0px; overflow: hidden; width: "+(A.width-this._scrollAmount)+"px; height: "+(A.height-this._scrollAmount)+"px;")},_generateScrollWatchers:function(A){this._element.style.position="absolute",this._direction&g.directions.increase&&(this._sizeIncreaseWatcherContentElm=this._document.createElement("div"),this._sizeIncreaseWatcherElm=this._document.createElement("div"),this._sizeIncreaseWatcherElm.style.cssText="position: absolute; left: 0; top: 0; width: 100%; height: 100%; overflow: hidden;",this._sizeIncreaseWatcherElm.appendChild(this._sizeIncreaseWatcherContentElm),this._element.appendChild(this._sizeIncreaseWatcherElm)),this._direction&g.directions.decrease&&(this._sizeDecreaseWatcherElm=this._document.createElement("div"),this._sizeDecreaseWatcherElm.appendChild(this._element)),A&&this.setSize(A),this._state=g.states.generatedScrollWatchers},_appendScrollWatchersToElement:function(A){if(this._state!==g.states.generatedScrollWatchers)throw Error("SizeWatcher._appendScrollWatchersToElement() was invoked before SizeWatcher._generateScrollWatchers()");this._direction&g.directions.decrease?A.appendChild(this._sizeDecreaseWatcherElm):A.appendChild(this._element),this._state=g.states.appendedScrollWatchers},removeScrollWatchers:function(){this._direction&g.directions.decrease?this._sizeDecreaseWatcherElm.parentNode&&this._sizeDecreaseWatcherElm.parentNode.removeChild(this._sizeDecreaseWatcherElm):this._element.parentNode&&this._element.parentNode.removeChild(this._element)},prepareForWatch:function(){var A,e=A=!0;if(this._state!==g.states.appendedScrollWatchers)throw Error("SizeWatcher.prepareForWatch() invoked before SizeWatcher._appendScrollWatchersToElement()");if(null===this._size&&this.setSize(new B(this._element.offsetWidth,this._element.offsetHeight)),this._direction&g.directions.decrease&&(A=this._scrollElementToBottomRight(this._sizeDecreaseWatcherElm)),this._direction&g.directions.increase&&(e=this._scrollElementToBottomRight(this._sizeIncreaseWatcherElm)),!A||!e){for(A=this._element.parentNode;A!==this._document&&null!==A;)A=A.parentNode;if(null===A)throw Error("Can\'t set scroll position of scroll watchers. SizeWatcher is not in the DOM tree.");console&&"function"==typeof console.warn&&console.warn("SizeWatcher can\'t set scroll position of scroll watchers.")}this._state=g.states.preparedScrollWatchers},_scrollElementToBottomRight:function(A){var B=!0;return this._dimension&g.dimensions.vertical&&(A.scrollTop=this._scrollAmount,B=B&&0<A.scrollTop),this._dimension&g.dimensions.horizontal&&(A.scrollLeft=this._scrollAmount,B=B&&0<A.scrollLeft),B},beginWatching:function(){if(this._state!==g.states.preparedScrollWatchers)throw Error("SizeWatcher.beginWatching() invoked before SizeWatcher.prepareForWatch()");this._direction&g.directions.decrease&&this._sizeDecreaseWatcherElm.addEventListener("scroll",this,!1),this._direction&g.directions.increase&&this._sizeIncreaseWatcherElm.addEventListener("scroll",this,!1),this._state=g.states.watchingForSizeChange},endWatching:function(){if(this._state!==g.states.watchingForSizeChange)throw Error("SizeWatcher.endWatching() invoked before SizeWatcher.beginWatching()");this._direction&g.directions.decrease&&this._sizeDecreaseWatcherElm.removeEventListener("scroll",this,!1),this._direction&g.directions.increase&&this._sizeIncreaseWatcherElm.removeEventListener("scroll",this,!1),this._state=g.states.appendedScrollWatchers},handleEvent:function(){var A,e;if(this._state===g.states.watchingForSizeChange&&(A=new B(this._element.offsetWidth,this._element.offsetHeight),e=this._size,!e.isEqual(A))){if(this._delegate&&"function"==typeof this._delegate.sizeWatcherChangedSize&&(this._delegate.sizeWatcherChangedSize(this),this._state!==g.states.watchingForSizeChange))return;this._continuous?(this.setSize(A),this._state=g.states.appendedScrollWatchers,this.prepareForWatch(),this._state=g.states.watchingForSizeChange):this.endWatching()}}},A});',
pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/webgl/Shaders.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/webgl/Shaders.js",friendlyPath:".Shaders",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/webgl/",filename:"Shaders.js",src:'var STRIDE=24,Shader=__class__,Shader=Shader(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(r){this._gl=r.gl,this._vertexSrc=r.vertexSrc||"precision mediump float;\\nattribute vec2 aTextureCoord;\\nattribute vec2 aPosition;\\nattribute vec4 aColor;\\nattribute float aAlpha;\\nuniform vec2 uResolution;\\nvarying vec2 vTextureCoord;\\nvarying float vAlpha;\\nvarying vec4 vColor;\\nvoid main() {\\n vTextureCoord = aTextureCoord;\\n vColor = aColor;\\n vAlpha = aAlpha;\\n vec2 clipSpace = (aPosition / uResolution) * 2.0 - 1.0;\\n gl_Position = vec4(clipSpace * vec2(1.0, -1.0), 0.0, 1.0);\\n}",this._fragmentSrc=r.fragmentSrc||"precision mediump float;\\nvarying vec2 vTextureCoord;\\nvarying float vAlpha;\\nuniform sampler2D uSampler;\\nvoid main(void) {\\n gl_FragColor = texture2D(uSampler, vTextureCoord) * vAlpha;\\n}",r=void 0===r.useTexture||r.useTexture,this.attributes={aTextureCoord:0,aPosition:0,aAlpha:0,aColor:0},this.uniforms={uSampler:r?0:-1,uResolution:0},this.initGL()},this.initGL=function(){this.createProgram(),this.updateLocations()},this.updateLocations=function(){var r,t=this._gl;for(r in this.attributes)-1!==this.attributes[r]&&(this.attributes[r]=t.getAttribLocation(this.program,r));for(var i in this.uniforms)-1!==this.uniforms[i]&&(this.uniforms[i]=t.getUniformLocation(this.program,i))},this.enableVertexAttribArrays=function(){var r,t=this._gl;for(r in this.attributes)if(-1!==this.attributes[r]){var i=this.attributes[r];switch(t.enableVertexAttribArray(i),r){case"aPosition":t.vertexAttribPointer(i,2,t.FLOAT,!1,STRIDE,0);break;case"aTextureCoord":t.vertexAttribPointer(i,2,t.FLOAT,!1,STRIDE,8);break;case"aAlpha":t.vertexAttribPointer(i,1,t.FLOAT,!1,STRIDE,16);break;case"aColor":t.vertexAttribPointer(i,4,t.UNSIGNED_BYTE,!0,STRIDE,20)}}},this.disableVertexAttribArrays=function(){for(var r in this.attributes)-1!==this.attributes[r]&&gl.disableVertexAttribArray(this.attributes[r])},this.createProgram=function(){gl=this._gl;var r=gl.createShader(gl.VERTEX_SHADER);gl.shaderSource(r,this._vertexSrc),gl.compileShader(r);var t=gl.createShader(gl.FRAGMENT_SHADER);gl.shaderSource(t,this._fragmentSrc),gl.compileShader(t);var i=gl.createProgram();gl.attachShader(i,r),gl.attachShader(i,t),gl.linkProgram(i),gl.getProgramParameter(i,gl.LINK_STATUS)||console.log("Could not initialize shaders"),this.program=i}}),LinearAddShader=__class__,LinearAddShader=LinearAddShader(function(){return this.init&&this.init.apply(this,arguments)},Shader,function(){this.init=function(r){r.fragmentSrc="precision mediump float;\\nvarying vec2 vTextureCoord;\\nvarying float vAlpha;\\nvarying vec4 vColor;\\nuniform sampler2D uSampler;\\nvoid main(void) {\\n vec4 vSample = texture2D(uSampler, vTextureCoord);\\n gl_FragColor = vec4((vSample.rgb + vColor.rgb * vColor.a) * vSample.a, vSample.a) * vAlpha;\\n}",Shader.prototype.init.call(this,r)}}),TintShader=__class__,TintShader=TintShader(function(){return this.init&&this.init.apply(this,arguments)},Shader,function(){this.init=function(r){r.fragmentSrc="precision mediump float;\\nvarying vec2 vTextureCoord;\\nvarying float vAlpha;\\nvarying vec4 vColor;\\nuniform sampler2D uSampler;\\nvoid main(void) {\\n vec4 vSample = texture2D(uSampler, vTextureCoord);\\n gl_FragColor = vec4((vSample.rgb * (1.0 - vColor.a) + (vColor.rgb * vColor.a)) * vSample.a * vAlpha, vSample.a * vAlpha);\\n}",Shader.prototype.init.call(this,r)}}),MultiplyShader=__class__,MultiplyShader=MultiplyShader(function(){return this.init&&this.init.apply(this,arguments)},Shader,function(){this.init=function(r){r.fragmentSrc="precision mediump float;\\nvarying vec2 vTextureCoord;\\nvarying float vAlpha;\\nvarying vec4 vColor;\\nuniform sampler2D uSampler;\\nvoid main(void) {\\n vec4 vSample = texture2D(uSampler, vTextureCoord);\\n gl_FragColor = vec4(vSample.rgb * (vColor.rgb * vColor.a), vSample.a) * vAlpha;\\n}",Shader.prototype.init.call(this,r)}}),RectShader=__class__,RectShader=RectShader(function(){return this.init&&this.init.apply(this,arguments)},Shader,function(){this.init=function(r){r.fragmentSrc="precision mediump float;\\nvarying float vAlpha;\\nvarying vec4 vColor;\\nvoid main(void) {\\n gl_FragColor = vColor * vColor.a * vAlpha;\\n}",r.useTexture=!1,Shader.prototype.init.call(this,r)}});exports={DefaultShader:Shader,LinearAddShader:LinearAddShader,TintShader:TintShader,MultiplyShader:MultiplyShader,RectShader:RectShader};',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/webgl/Matrix2D.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/webgl/Matrix2D.js",friendlyPath:".Matrix2D",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/webgl/",filename:"Matrix2D.js",src:"var Matrix2D=__class__,Matrix2D=Matrix2D(function(){return this.init&&this.init.apply(this,arguments)},function(){var t=Math.sin,i=Math.cos;this.init=function(){this.identity()},this.identity=function(){this.a=1,this.c=this.b=0,this.d=1,this.ty=this.tx=0},this.clone=function(){var t=new Matrix2D;return t.copy(this),t},this.copy=function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty},this.scale=function(t,i){this.a*=t,this.b*=t,this.c*=i,this.d*=i},this.rotate=function(h){var r=this.a,e=this.b,s=this.c,a=this.d,x=t(h),h=i(h);this.a=r*h+s*x,this.b=e*h+a*x,this.c=r*-x+s*h,this.d=e*-x+a*h},this.translate=function(t,i){this.tx+=this.a*t+this.c*i,this.ty+=this.b*t+this.d*i},this.transform=function(t){return helperMatrix.copy(this),1===t.a&&0===t.b&&0===t.c&&1===t.d||(this.a=helperMatrix.a*t.a+helperMatrix.c*t.b,this.b=helperMatrix.b*t.a+helperMatrix.d*t.b,this.c=helperMatrix.a*t.c+helperMatrix.c*t.d,this.d=helperMatrix.b*t.c+helperMatrix.d*t.d),this.tx=helperMatrix.a*t.tx+helperMatrix.c*t.ty+helperMatrix.tx,this.ty=helperMatrix.b*t.tx+helperMatrix.d*t.ty+helperMatrix.ty,this},this.setTo=function(t,i,h,r,e,s){this.a=t,this.b=i,this.c=h,this.d=r,this.tx=e,this.ty=s},this.invert=function(){var t=this.a*this.d-this.b*this.c;if(0!==t)return t=1/t,helperMatrix.copy(this),this.a=helperMatrix.d*t,this.b=-helperMatrix.b*t,this.c=-helperMatrix.c*t,this.d=helperMatrix.a*t,this.tx=(helperMatrix.c*helperMatrix.ty-helperMatrix.d*helperMatrix.tx)*t,this.ty=(helperMatrix.b*helperMatrix.tx-helperMatrix.a*helperMatrix.ty)*t,this},this.isEqualTo=function(t){return this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.tx===t.tx&&this.ty===t.ty},this.concat=function(t){return helperMatrix.copy(this),1===t.a&&0===t.b&&0===t.c&&1===t.d||(this.a=helperMatrix.a*t.a+helperMatrix.c*t.b,this.b=helperMatrix.b*t.a+helperMatrix.d*t.b,this.c=helperMatrix.a*t.c+helperMatrix.c*t.d,this.d=helperMatrix.b*t.c+helperMatrix.d*t.d),this.tx=t.a*helperMatrix.tx+t.c*helperMatrix.ty+t.tx,this.ty=t.b*helperMatrix.tx+t.d*helperMatrix.ty+t.ty,this}}),helperMatrix=new Matrix2D;exports=Matrix2D;",pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/webgl/WebGLTextureManager.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/webgl/WebGLTextureManager.js",friendlyPath:".WebGLTextureManager",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/webgl/",filename:"WebGLTextureManager.js",src:'jsio("import cache.LRUCache as LRUCache"),jsio("import lib.PubSub as PubSub");var WebGLTextureManager=__class__,WebGLTextureManager=WebGLTextureManager(function(){return this.init&&this.init.apply(this,arguments)},PubSub,function(){var e=1,t=Math.pow,i=Math.ceil,a=Math.log,r=a(2);this.init=function(){this.textureDataCache=new LRUCache(65535),this.textureByteCount=0,this.memoryLimit=268435456},this.initGL=function(e){this.gl=e,this.reloadTextures()},this.getTexture=function(e){return(e=this.textureDataCache.get(e))?e.texture:null},this.getTextureData=function(e){return this.textureDataCache.get(e)||null},this.deleteTextureForImage=function(e){void 0!==e.__GL_ID&&this.deleteTexture(e.__GL_ID)},this.deleteTexture=function(e){this.emit(WebGLTextureManager.TEXTURE_REMOVED),(e=this.textureDataCache.remove(e))&&(this.gl.deleteTexture(e.texture),this.removeFromByteCount(e.width,e.height),e.image.__GL_ID=void 0)},this.createOrUpdateTexture=function(t,i){var a=this.gl;if(!a)return-1;var r=t.width,h=t.height;if(t.dispose||(t.dispose=bind(this,function(){this.deleteTextureForImage(t)})),0===r||0===h)throw Error("Image cannot have a width or height of 0.");void 0===i&&(i=void 0!==t.__GL_ID?t.__GL_ID:e++),t.__GL_ID=i;var n=this.textureDataCache.find(i),n=n?n.value:null,u=!1;return n?a.bindTexture(a.TEXTURE_2D,n.texture):(n={image:t,isImg:t instanceof Image,isCanvas:t instanceof HTMLCanvasElement,width:r,height:h,texture:a.createTexture()},a.bindTexture(a.TEXTURE_2D,n.texture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),this.textureDataCache.put(i,n),u=!0),n.width===r&&n.height===h||(this.removeFromByteCount(n.width,n.height),n.width=r,n.height=h,u=!0),n.image!==t&&(n.image.__GL_ID=void 0,n.image=t,n.isImg=t instanceof Image,n.isCanvas=t instanceof HTMLCanvasElement),n.isImg||n.isCanvas?a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,t):a.texImage2D(a.TEXTURE_2D,0,a.RGBA,r,h,0,a.RGBA,a.UNSIGNED_BYTE,null),u&&this.addToByteCount(r,h),i},this.reloadTextures=function(){var e=[];this.textureDataCache.forEach(function(t,i){(i.isImg||i.isCanvas)&&e.push(i.image)},this),this.textureDataCache.removeAll();for(var t=this.textureByteCount=0,i=e.length;t<i;t++)this.createOrUpdateTexture(e[t])},this.addToByteCount=function(e,t){e=this.nextPowerOfTwo(e),t=this.nextPowerOfTwo(t),this.textureByteCount+=4*e*t;for(var i=0;268435456<this.textureByteCount&&5>i++;){var a=this.textureDataCache.head;a&&(a.value.isImg?this.deleteTexture(a.key):this.textureDataCache.get(a.key))}},this.removeFromByteCount=function(e,t){e=this.nextPowerOfTwo(e),t=this.nextPowerOfTwo(t),this.textureByteCount-=4*e*t},this.nextPowerOfTwo=function(e){return t(2,i(a(e)/r))}});WebGLTextureManager.TEXTURE_REMOVED="TextureRemoved",exports=WebGLTextureManager;',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/dev_error.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/dev_error.js",friendlyPath:".dev_error",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/",filename:"dev_error.js",src:'function render(e,n){function o(n){e.fillText(n,r,t),t+=20}e.fillStyle="rgb(0, 0, 255)",e.fillRect(0,0,e.canvas.width,e.canvas.height);var r=30,t=40;e.fillStyle="#FFF",e.font=\'bold 12px Monaco,"Bitstream Vera Sans Mono","Lucida Console",Terminal,monospace\',o(n.message),t+=40,n.stack.split("\\n").map(o)}exports.render=function(e){logger.ERROR&&console.error("ERROR",".dev_error","unhandled tick exception"),logger.ERROR&&console.error("ERROR",".dev_error",e.stack);for(var n,o=document.getElementsByTagName("canvas"),r=0;n=o[r];++r)render(n.getContext("2d"),e)};',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/FlashAPI.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/FlashAPI.js",friendlyPath:".FlashAPI",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/",filename:"FlashAPI.js",src:'jsio("import lib.PubSub"),jsio("import .SoundManager"),jsio("from util.underscore import _");var soundManager=new SoundManager;soundManager.url="media/swf",soundManager.flashVersion=9,soundManager.useMovieStar=!0,soundManager.debugMode=!1,soundManager.consoleOnly=!0,soundManager.useHighPerformance=!0,soundManager.useFastPolling=!0;var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_platforms_browser_FlashAPI=__class__,AudioAPI=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_platforms_browser_FlashAPI(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(n){this.init=function(s){s=merge(s,{map:{},background:[]}),n(this,"init",[s]),this._map={},_.each(s.background,function(n){s.map[n]={name:n}},this),soundManager.onready(bind(this,function(){logger.LOG&&console.log("LOG",".FlashAPI","SoundManager onReady");for(key in s.map)logger.LOG&&console.log("LOG",".FlashAPI","SoundManager key: ",key),(this._map[key]=soundManager.createSound({id:key,bufferTime:3,url:"media/audio/"+key+".mp3"})).load();this.publish("Ready")}))},this.canPlay=function(n){return n in this._map},this.setVolume=function(n){this._soundPlaying&&soundManager.setVolume(this._soundPlaying,n),this._backgroundSoundPlaying&&soundManager.setVolume(this._backgroundSoundPlaying,n)},this.setMuted=function(n){(this.muted=n)&&this.setVolume(0)},this.play=function(n,s){this.canPlay(n)&&!this.muted&&(void 0===s&&(s=1),this._soundPlaying=n,this._map[n].setVolume(100*s|0),this._map[n].play())},this.pause=function(){this._map[this._soundPlaying].pause(),this._soundPlaying=null},this.playBackgroundMusic=function(n,s){this.canPlay(n)&&!this.muted&&(void 0===s&&(s=1),this._backgroundSoundPlaying=n,this._map[n].setVolume(100*s|0),this._map[n].play())},this.pauseBackgroundMusic=function(){this._backgroundSoundPlaying&&(this._map[this._backgroundSoundPlaying].pause(),this._backgroundSoundPlaying=null)}});',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/SoundManager.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/SoundManager.js",friendlyPath:".SoundManager",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/",filename:"SoundManager.js",src:'var SoundManager=exports=function(e,t){function n(e){return function(t){return this._t&&this._t._a?e.call(this,t):(this._t&&this._t.sID?Y._wD(Z+"ignoring "+t.type+": "+this._t.sID):Y._wD(Z+"ignoring "+t.type),null)}}this.flashVersion=8,this.debugMode=!0,this.debugFlash=!1,this.useConsole=!0,this.waitForWindowLoad=this.consoleOnly=!1,this.nullURL="about:blank",this.allowPolling=!0,this.useFastPolling=!1,this.useMovieStar=!0,this.bgColor="#ffffff",this.useHighPerformance=!1,this.flashPollingInterval=null,this.flashLoadTimeout=1e3,this.wmode=null,this.allowScriptAccess="always",this.useFlashBlock=!1,this.useHTML5Audio=!0,this.html5Test=/^(probably|maybe)$/i,this.preferFlash=!0,this.audioFormats={mp3:{type:[\'audio/mpeg; codecs="mp3"\',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a"],type:[\'audio/mp4; codecs="mp4a.40.2"\',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:[\'audio/wav; codecs="1"\',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.defaultOptions={autoLoad:!1,stream:!0,autoPlay:!1,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onstop:null,onfailure:null,onfinish:null,onbeforefinish:null,onbeforefinishtime:5e3,onbeforefinishcomplete:null,onjustbeforefinish:null,onjustbeforefinishtime:200,multiShot:!0,multiShotEvents:!1,position:null,pan:0,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.version=null,this.versionNumber="V2.97a.20110801",this.movieURL=null,this.url=e||null,this.altURL=null,this.enabled=this.swfLoaded=!1,this.o=null,this.movieID="sm2-container",this.id=t||"sm2movie",this.swfCSS={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.didFlashBlock=this.specialWmodeCase=!1,this.filePattern=null,this.filePatterns={flash8:/\\.mp3(\\?.*)?$/i,flash9:/\\.mp3(\\?.*)?$/i},this.baseMimeTypes=/^\\s*audio\\/(?:x-)?(?:mp(?:eg|3))\\s*(?:$|;)/i,this.netStreamMimeTypes=/^\\s*audio\\/(?:x-)?(?:mp(?:eg|3))\\s*(?:$|;)/i,this.netStreamTypes="aac flv mov mp4 m4v f4v m4a mp4v 3gp 3g2".split(" "),this.netStreamPattern=RegExp("\\\\.("+this.netStreamTypes.join("|")+")(\\\\?.*)?$","i"),this.mimePattern=this.baseMimeTypes,this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.hasHTML5="undefined"!=typeof Audio&&"undefined"!=typeof(new Audio).canPlayType,this.html5={usingFlash:null},this.flash={},this.ignoreFlash=this.html5Only=!1;var o,i,a,s,r,l,u,d,f,h,c,p,m,_,g,y,w,M,D,v,S,b,O,L,T,P,F,I,C,H,E,k,x,A,R,U,N,B,j,W,q,V,J,K,Q,$,X,z,G,Y=this,Z="HTML5::",ee=navigator.userAgent,te=window,ne=te.location.href.toString(),oe=this.flashVersion,ie=document,ae=[],se=!0,re=!1,le=!1,ue=!1,de=!1,fe=!1,he=0,ce=["log","info","warn","error"],pe=null,me=null,_e=!1,ge=!1,ye=null,we=Array.prototype.slice,Me=!1,De=ee.match(/(ipad|iphone|ipod)/i),ve=ee.match(/(mobile|pre\\/|xoom)/i)||De,Se=ee.match(/msie/i),be=ee.match(/webkit/i),Oe=ee.match(/safari/i)&&!ee.match(/chrome/i),Le=ee.match(/opera/i),Te=!ne.match(/usehtml5audio/i)&&!ne.match(/sm2\\-ignorebadua/i)&&Oe&&ee.match(/OS X 10_6_([3-7])/i),Pe="undefined"!=typeof console&&"undefined"!=typeof console.log,Fe="undefined"!=typeof ie.hasFocus?ie.hasFocus():null,Ie=Oe&&"undefined"==typeof ie.hasFocus,Ce=!Ie,He=/(mp3|mp4|mpa)/i,Ee=ie.location?ie.location.protocol.match(/http/i):null,ke=Ee?"":"http:";this.useAltURL=!Ee,this._global_a=null,ve&&(Y.useHTML5Audio=!0,Y.preferFlash=!1,De&&(Me=Y.ignoreFlash=!0)),this.supported=this.ok=function(){return ye?ue&&!de:Y.useHTML5Audio&&Y.hasHTML5},this.getMovie=function(e){return Se?te[e]:Oe?i(e)||ie[e]:i(e)},this.createSound=function(e){function t(){return n=k(n),Y.sounds[a.id]=new o(a),Y.soundIDs.push(a.id),Y.sounds[a.id]}var n=null,i=null,a=null;return ue&&Y.ok()?(2===arguments.length&&(e={id:arguments[0],url:arguments[1]}),a=n=d(e),a.id.toString().charAt(0).match(/^[0-9]$/)&&Y._wD("soundManager.createSound(): "+I("badID",a.id),2),Y._wD("soundManager.createSound(): "+a.id+" ("+a.url+")",1),R(a.id,!0)?(Y._wD("soundManager.createSound(): "+a.id+" exists",1),Y.sounds[a.id]):(j(a)?(i=t(),Y._wD("Loading sound "+a.id+" via HTML5"),i._setup_html5(a)):(oe>8&&Y.useMovieStar&&(null===a.isMovieStar&&(a.isMovieStar=!!(a.serverURL||a.type&&a.type.match(Y.netStreamPattern)||a.url.match(Y.netStreamPattern))),a.isMovieStar&&Y._wD("soundManager.createSound(): using MovieStar handling"),a.isMovieStar&&(a.usePeakData&&(l("noPeak"),a.usePeakData=!1),a.loops>1&&l("noNSLoop"))),a=x(a,"soundManager.createSound(): "),i=t(),8===oe?Y.o._createSound(a.id,a.onjustbeforefinishtime,a.loops||1,a.usePolicyFile):(Y.o._createSound(a.id,a.url,a.onjustbeforefinishtime,a.usePeakData,a.useWaveformData,a.useEQData,a.isMovieStar,!!a.isMovieStar&&a.bufferTime,a.loops||1,a.serverURL,a.duration||null,a.autoPlay,!0,a.autoLoad,a.usePolicyFile),a.serverURL||(i.connected=!0,a.onconnect&&a.onconnect.apply(i))),!a.serverURL&&(a.autoLoad||a.autoPlay)&&i.load(a)),!a.serverURL&&a.autoPlay&&i.play(),i)):(A("soundManager.createSound(): "+I(ue?"notOK":"notReady")),!1)},this.destroySound=function(e,t){if(!R(e))return!1;var n,o=Y.sounds[e];for(o._iO={},o.stop(),o.unload(),n=0;n<Y.soundIDs.length;n++)if(Y.soundIDs[n]===e){Y.soundIDs.splice(n,1);break}return t||o.destruct(!0),delete Y.sounds[e],!0},this.load=function(e,t){return!!R(e)&&Y.sounds[e].load(t)},this.unload=function(e){return!!R(e)&&Y.sounds[e].unload()},this.start=this.play=function(e,t){return ue&&Y.ok()?R(e)?Y.sounds[e].play(t):(t instanceof Object||(t={url:t}),!(!t||!t.url)&&(Y._wD(\'soundManager.play(): attempting to create "\'+e+\'"\',1),t.id=e,Y.createSound(t).play())):(A("soundManager.play(): "+I(ue?"notOK":"notReady")),!1)},this.setPosition=function(e,t){return!!R(e)&&Y.sounds[e].setPosition(t)},this.stop=function(e){return!!R(e)&&(Y._wD("soundManager.stop("+e+")",1),Y.sounds[e].stop())},this.stopAll=function(){var e;Y._wD("soundManager.stopAll()",1);for(e in Y.sounds)Y.sounds.hasOwnProperty(e)&&Y.sounds[e].stop()},this.pause=function(e){return!!R(e)&&Y.sounds[e].pause()},this.pauseAll=function(){var e;for(e=Y.soundIDs.length;e--;)Y.sounds[Y.soundIDs[e]].pause()},this.resume=function(e){return!!R(e)&&Y.sounds[e].resume()},this.resumeAll=function(){var e;for(e=Y.soundIDs.length;e--;)Y.sounds[Y.soundIDs[e]].resume()},this.togglePause=function(e){return!!R(e)&&Y.sounds[e].togglePause()},this.setPan=function(e,t){return!!R(e)&&Y.sounds[e].setPan(t)},this.setVolume=function(e,t){return!!R(e)&&Y.sounds[e].setVolume(t)},this.mute=function(e){var t=0;if("string"!=typeof e&&(e=null),e)return!!R(e)&&(Y._wD(\'soundManager.mute(): Muting "\'+e+\'"\'),Y.sounds[e].mute());for(Y._wD("soundManager.mute(): Muting all sounds"),t=Y.soundIDs.length;t--;)Y.sounds[Y.soundIDs[t]].mute();return Y.muted=!0},this.muteAll=function(){Y.mute()},this.unmute=function(e){if("string"!=typeof e&&(e=null),e)return!!R(e)&&(Y._wD(\'soundManager.unmute(): Unmuting "\'+e+\'"\'),Y.sounds[e].unmute());for(Y._wD("soundManager.unmute(): Unmuting all sounds"),e=Y.soundIDs.length;e--;)Y.sounds[Y.soundIDs[e]].unmute();return Y.muted=!1,!0},this.unmuteAll=function(){Y.unmute()},this.toggleMute=function(e){return!!R(e)&&Y.sounds[e].toggleMute()},this.getMemoryUse=function(){var e=0;return Y.o&&8!==oe&&(e=parseInt(Y.o._getMemoryUse(),10)),e},this.disable=function(e){var t;if("undefined"==typeof e&&(e=!1),de)return!1;for(de=!0,l("shutdown",1),t=Y.soundIDs.length;t--;)T(Y.sounds[Y.soundIDs[t]]);return u(e),K.remove(te,"load",c),!0},this.canPlayMIME=function(e){var t;return Y.hasHTML5&&(t=W({type:e})),!ye||t?t:e?!!e.match(Y.mimePattern):null},this.canPlayURL=function(e){var t;return Y.hasHTML5&&(t=W({url:e})),!ye||t?t:e?!!e.match(Y.filePattern):null},this.canPlayLink=function(e){return!("undefined"==typeof e.type||!e.type||!Y.canPlayMIME(e.type))||Y.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)throw Error("soundManager.getSoundById(): sID is null/undefined");var n=Y.sounds[e];return!n&&!t&&Y._wD(\'"\'+e+\'" is an invalid sound ID.\',2),n},this.onready=function(e,t){if(e&&e instanceof Function)return ue&&Y._wD(I("queue","onready")),t||(t=te),f("onready",e,t),h(),!0;throw I("needFunction","onready")},this.ontimeout=function(e,t){if(e&&e instanceof Function)return ue&&Y._wD(I("queue","ontimeout")),t||(t=te),f("ontimeout",e,t),h({type:"ontimeout"}),!0;throw I("needFunction","ontimeout")},this._wD=this._writeDebug=function(e,t,n){var o,a;if(!Y.debugMode)return!1;if("undefined"!=typeof n&&n&&(e=e+" | "+(new Date).getTime()),Pe&&Y.useConsole&&(n=ce[t],"undefined"!=typeof console[n]?console[n](e):console.log(e),Y.useConsoleOnly))return!0;try{if(o=i("soundmanager-debug"),!o)return!1;a=ie.createElement("div"),++he%2===0&&(a.className="sm2-alt"),t="undefined"==typeof t?0:parseInt(t,10),a.appendChild(ie.createTextNode(e)),t&&(t>=2&&(a.style.fontWeight="bold"),3===t&&(a.style.color="#ff3333")),o.insertBefore(a,o.firstChild)}catch(e){}return!0},this._debug=function(){var e,t;for(l("currentObj",1),e=0,t=Y.soundIDs.length;e<t;e++)Y.sounds[Y.soundIDs[e]]._debug()},this.reboot=function(){Y._wD("soundManager.reboot()"),Y.soundIDs.length&&Y._wD("Destroying "+Y.soundIDs.length+" SMSound objects...");var e,t;for(e=Y.soundIDs.length;e--;)Y.sounds[Y.soundIDs[e]].destruct();try{Se&&(me=Y.o.innerHTML),pe=Y.o.parentNode.removeChild(Y.o),Y._wD("Flash movie removed.")}catch(e){l("badRemove",2)}me=pe=ye=null,Y.enabled=D=ue=_e=ge=re=le=de=Y.swfLoaded=!1,Y.soundIDs=Y.sounds=[],Y.o=null;for(e in ae)if(ae.hasOwnProperty(e))for(t=ae[e].length;t--;)ae[e][t].fired=!1;Y._wD("soundManager: Rebooting..."),te.setTimeout(Y.beginDelayedInit,20)},this.getMoviePercent=function(){return Y.o&&"undefined"!=typeof Y.o.PercentLoaded?Y.o.PercentLoaded():null},this.beginDelayedInit=function(){fe=!0,M(),setTimeout(function(){return!ge&&(S(),w(),ge=!0)},20),p()},this.destruct=function(){Y._wD("soundManager.destruct()"),Y.disable(!0)},z={abort:n(function(){Y._wD(Z+"abort: "+this._t.sID)}),canplay:n(function(){if(this._t._html5_canplay)return!0;this._t._html5_canplay=!0,Y._wD(Z+"canplay: "+this._t.sID+", "+this._t.url),this._t._onbufferchange(0);var e=isNaN(this._t.position)?null:this._t.position/1e3;if(this._t.position&&this.currentTime!==e){Y._wD(Z+"canplay: setting position to "+e);try{this.currentTime=e}catch(e){Y._wD(Z+"setting position failed: "+e.message,2)}}}),load:n(function(){this._t.loaded||(this._t._onbufferchange(0),this._t._whileloading(this._t.bytesTotal,this._t.bytesTotal,this._t._get_html5_duration()),this._t._onload(!0))}),emptied:n(function(){Y._wD(Z+"emptied: "+this._t.sID)}),ended:n(function(){Y._wD(Z+"ended: "+this._t.sID),this._t._onfinish()}),error:n(function(){Y._wD(Z+"error: "+this.error.code),this._t._onload(!1)}),loadeddata:n(function(){var e=this._t,t=e.bytesTotal||1;Y._wD(Z+"loadeddata: "+this._t.sID),e._loaded||Oe||(e.duration=e._get_html5_duration(),e._whileloading(t,t,e._get_html5_duration()),e._onload(!0))}),loadedmetadata:n(function(){Y._wD(Z+"loadedmetadata: "+this._t.sID)}),loadstart:n(function(){Y._wD(Z+"loadstart: "+this._t.sID),this._t._onbufferchange(1)}),play:n(function(){Y._wD(Z+"play: "+this._t.sID+", "+this._t.url),this._t._onbufferchange(0)}),playing:n(function(){Y._wD(Z+"playing: "+this._t.sID+", "+this._t.url),this._t._onbufferchange(0)}),progress:n(function(e){if(this._t.loaded)return!1;var t,n,o;o=0;var i="progress"===e.type;n=e.target.buffered;var a=e.loaded||0,s=e.total||1;if(n&&n.length){for(t=n.length;t--;)o=n.end(t)-n.start(t);if(a=o/e.target.duration,i&&n.length>1){for(o=[],n=n.length,t=0;t<n;t++)o.push(e.target.buffered.start(t)+"-"+e.target.buffered.end(t));Y._wD(Z+"progress: timeRanges: "+o.join(", "))}i&&!isNaN(a)&&Y._wD(Z+"progress: "+this._t.sID+": "+Math.floor(100*a)+"% loaded")}isNaN(a)||(this._t._onbufferchange(0),this._t._whileloading(a,s,this._t._get_html5_duration()),a&&s&&a===s&&z.load.call(this,e))}),ratechange:n(function(){Y._wD(Z+"ratechange: "+this._t.sID)}),suspend:n(function(e){Y._wD(Z+"suspend: "+this._t.sID),z.progress.call(this,e)}),stalled:n(function(){Y._wD(Z+"stalled: "+this._t.sID)}),timeupdate:n(function(){this._t._onTimer()}),waiting:n(function(){Y._wD(Z+"waiting: "+this._t.sID),this._t._onbufferchange(1)})},o=function(e){var t,n,o,i=this;this.sID=e.id,this.url=e.url,this._iO=this.instanceOptions=this.options=d(e),this.pan=this.options.pan,this.volume=this.options.volume,this._lastURL=null,this.isHTML5=!1,this._a=null,this.id3={},this._debug=function(){if(Y.debugMode){var e,t,n=null,o=[];for(n in i.options)null!==i.options[n]&&(i.options[n]instanceof Function?(e=i.options[n].toString(),e=e.replace(/\\s\\s+/g," "),t=e.indexOf("{"),o.push(" "+n+": {"+e.substr(t+1,Math.min(Math.max(e.indexOf("\\n")-1,64),64)).replace(/\\n/g,"")+"... }")):o.push(" "+n+": "+i.options[n]));Y._wD("SMSound() merged options: {\\n"+o.join(", \\n")+"\\n}")}},this._debug(),this.load=function(e){var t=null;if("undefined"!=typeof e?(i._iO=d(e,i.options),i.instanceOptions=i._iO):(e=i.options,i._iO=e,i.instanceOptions=i._iO,i._lastURL&&i._lastURL!==i.url&&(l("manURL"),i._iO.url=i.url,i.url=null)),i._iO.url||(i._iO.url=i.url),Y._wD("SMSound.load(): "+i._iO.url,1),i._iO.url===i.url&&0!==i.readyState&&2!==i.readyState)return l("onURL",1),i;if(i._lastURL=i.url,i.loaded=!1,i.readyState=1,i.playState=0,j(i._iO))t=i._setup_html5(i._iO),t._called_load?Y._wD(Z+"ignoring request to load again: "+i.sID):(Y._wD(Z+"load: "+i.sID),i._html5_canplay=!1,t.load(),t._called_load=!0,i._iO.autoPlay&&i.play());else try{i.isHTML5=!1,i._iO=x(k(i._iO)),8===oe?Y.o._load(i.sID,i._iO.url,i._iO.stream,i._iO.autoPlay,i._iO.whileloading?1:0,i._iO.loops||1,i._iO.usePolicyFile):Y.o._load(i.sID,i._iO.url,!!i._iO.stream,!!i._iO.autoPlay,i._iO.loops||1,!!i._iO.autoLoad,i._iO.usePolicyFile)}catch(e){l("smError",2),r("onload",!1),b({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}return i},this.unload=function(){return 0!==i.readyState&&(Y._wD(\'SMSound.unload(): "\'+i.sID+\'"\'),i.isHTML5?(n(),i._a&&(i._a.pause(),i._a.src="")):8===oe?Y.o._unload(i.sID,Y.nullURL):Y.o._unload(i.sID),t()),i},this.destruct=function(e){Y._wD(\'SMSound.destruct(): "\'+i.sID+\'"\'),i.isHTML5?(n(),i._a&&(i._a.pause(),i._a.src="",Me||i._remove_html5_events(),i._a._t=null,i._a=null)):(i._iO.onfailure=null,Y.o._destroySound(i.sID)),e||Y.destroySound(i.sID,!0)},this.start=this.play=function(e,t){var n,t=void 0===t||t;if(e||(e={}),i._iO=d(e,i._iO),i._iO=d(i._iO,i.options),i.instanceOptions=i._iO,i._iO.serverURL&&!i.connected)return i.getAutoPlay()||(Y._wD("SMSound.play():  Netstream not connected yet - setting autoPlay"),i.setAutoPlay(!0)),i;if(j(i._iO)&&(i._setup_html5(i._iO),o()),1===i.playState&&!i.paused){if(!(n=i._iO.multiShot))return Y._wD(\'SMSound.play(): "\'+i.sID+\'" already playing (one-shot)\',1),i;Y._wD(\'SMSound.play(): "\'+i.sID+\'" already playing (multi-shot)\',1)}if(i.loaded)Y._wD(\'SMSound.play(): "\'+i.sID+\'"\');else if(0===i.readyState)Y._wD(\'SMSound.play(): Attempting to load "\'+i.sID+\'"\',1),i.isHTML5||(i._iO.autoPlay=!0),i.load(i._iO);else{if(2===i.readyState)return Y._wD(\'SMSound.play(): Could not load "\'+i.sID+\'" - exiting\',2),i;Y._wD(\'SMSound.play(): "\'+i.sID+\'" is loading - attempting to play..\',1)}return!i.isHTML5&&9===oe&&i.position>0&&i.position===i.duration&&(Y._wD(\'SMSound.play(): "\'+i.sID+\'": Sound at end, resetting to position:0\'),i._iO.position=0),i.paused&&i.position&&i.position>0?(Y._wD(\'SMSound.play(): "\'+i.sID+\'" is resuming from paused state\',1),i.resume()):(Y._wD(\'SMSound.play(): "\'+i.sID+\'" is starting to play\'),i.playState=1,i.paused=!1,(!i.instanceCount||i._iO.multiShotEvents||!i.isHTML5&&oe>8&&!i.getAutoPlay())&&i.instanceCount++,i.position="undefined"==typeof i._iO.position||isNaN(i._iO.position)?0:i._iO.position,i.isHTML5||(i._iO=x(k(i._iO))),i._iO.onplay&&t&&(i._iO.onplay.apply(i),i._onplay_called=!0),i.setVolume(i._iO.volume,!0),i.setPan(i._iO.pan,!0),i.isHTML5?(o(),n=i._setup_html5(),i.setPosition(i._iO.position),n.play()):Y.o._start(i.sID,i._iO.loops||1,9===oe?i._iO.position:i._iO.position/1e3)),i},this.stop=function(e){return 1===i.playState&&(i._onbufferchange(0),i.resetOnPosition(0),i.isHTML5||(i.playState=0),i.paused=!1,i._iO.onstop&&i._iO.onstop.apply(i),i.isHTML5?i._a&&(i.setPosition(0),i._a.pause(),i.playState=0,i._onTimer(),n(),i.unload()):(Y.o._stop(i.sID,e),i._iO.serverURL&&i.unload()),i.instanceCount=0,i._iO={}),i},this.setAutoPlay=function(e){Y._wD("sound "+i.sID+" turned autoplay "+(e?"on":"off")),i._iO.autoPlay=e,i.isHTML5||(Y.o._setAutoPlay(i.sID,e),e&&!i.instanceCount&&1===i.readyState&&(i.instanceCount++,Y._wD("sound "+i.sID+" incremented instance count to "+i.instanceCount)))},this.getAutoPlay=function(){return i._iO.autoPlay},this.setPosition=function(e){void 0===e&&(e=0);var t=i.isHTML5?Math.max(e,0):Math.min(i.duration||i._iO.duration,Math.max(e,0));if(i.position=t,e=i.position/1e3,i.resetOnPosition(i.position),i._iO.position=t,i.isHTML5){if(i._a)if(i._html5_canplay){if(i._a.currentTime!==e){Y._wD("setPosition("+e+"): setting position");try{i._a.currentTime=e,(0===i.playState||i.paused)&&i._a.pause()}catch(t){Y._wD("setPosition("+e+"): setting position failed: "+t.message,2)}}}else Y._wD("setPosition("+e+"): delaying, sound not ready")}else e=9===oe?i.position:e,i.readyState&&2!==i.readyState&&Y.o._setPosition(i.sID,e,i.paused||!i.playState);return i.isHTML5&&i.paused&&i._onTimer(!0),i},this.pause=function(e){return i.paused||0===i.playState&&1!==i.readyState?i:(Y._wD("SMSound.pause()"),i.paused=!0,i.isHTML5?(i._setup_html5().pause(),n()):(e||void 0===e)&&Y.o._pause(i.sID),i._iO.onpause&&i._iO.onpause.apply(i),i)},this.resume=function(){return i.paused?(Y._wD("SMSound.resume()"),i.paused=!1,i.playState=1,i.isHTML5?(i._setup_html5().play(),o()):(i._iO.isMovieStar&&i.setPosition(i.position),Y.o._pause(i.sID)),!i._onplay_called&&i._iO.onplay?(i._iO.onplay.apply(i),i._onplay_called=!0):i._iO.onresume&&i._iO.onresume.apply(i),i):i},this.togglePause=function(){return Y._wD("SMSound.togglePause()"),0===i.playState?(i.play({position:9!==oe||i.isHTML5?i.position/1e3:i.position}),i):(i.paused?i.resume():i.pause(),i)},this.setPan=function(e,t){return"undefined"==typeof e&&(e=0),"undefined"==typeof t&&(t=!1),i.isHTML5||Y.o._setPan(i.sID,e),i._iO.pan=e,t||(i.pan=e,i.options.pan=e),i},this.setVolume=function(e,t){return"undefined"==typeof e&&(e=100),"undefined"==typeof t&&(t=!1),i.isHTML5?i._a&&(i._a.volume=Math.max(0,Math.min(1,e/100))):Y.o._setVolume(i.sID,Y.muted&&!i.muted||i.muted?0:e),i._iO.volume=e,t||(i.volume=e,i.options.volume=e),i},this.mute=function(){return i.muted=!0,i.isHTML5?i._a&&(i._a.muted=!0):Y.o._setVolume(i.sID,0),i},this.unmute=function(){i.muted=!1;var e="undefined"!=typeof i._iO.volume;return i.isHTML5?i._a&&(i._a.muted=!1):Y.o._setVolume(i.sID,e?i._iO.volume:i.options.volume),i},this.toggleMute=function(){return i.muted?i.unmute():i.mute()},this.onposition=function(e,t,n){return i._onPositionItems.push({position:e,method:t,scope:"undefined"!=typeof n?n:i,fired:!1}),i},this.processOnPosition=function(){var e,t;if(e=i._onPositionItems.length,!e||!i.playState||i._onPositionFired>=e)return!1;for(;e--;)t=i._onPositionItems[e],!t.fired&&i.position>=t.position&&(t.method.apply(t.scope,[t.position]),t.fired=!0,Y._onPositionFired++);return!0},this.resetOnPosition=function(e){var t,n;if(t=i._onPositionItems.length,!t)return!1;for(;t--;)n=i._onPositionItems[t],n.fired&&e<=n.position&&(n.fired=!1,Y._onPositionFired--);return!0},o=function(){i.isHTML5&&U(i)},n=function(){i.isHTML5&&N(i)},t=function(){i._onPositionItems=[],i._onPositionFired=0,i._hasTimer=null,i._onplay_called=!1,i._a=null,i._html5_canplay=!1,i.bytesLoaded=null,i.bytesTotal=null,i.position=null,i.duration=i._iO&&i._iO.duration?i._iO.duration:null,i.durationEstimate=null,i.failures=0,i.loaded=!1,i.playState=0,i.paused=!1,i.readyState=0,i.muted=!1,i.didBeforeFinish=!1,i.didJustBeforeFinish=!1,i.isBuffering=!1,i.instanceOptions={},i.instanceCount=0,i.peakData={left:0,right:0},i.waveformData={left:[],right:[]},i.eqData=[],i.eqData.left=[],i.eqData.right=[]},t(),this._onTimer=function(e){var t={};if(i._hasTimer||e)return i._a&&(e||(i.playState>0||1===i.readyState)&&!i.paused)?(i.duration=i._get_html5_duration(),i.durationEstimate=i.duration,e=i._a.currentTime?1e3*i._a.currentTime:0,i._whileplaying(e,t,t,t,t),!0):(Y._wD(\'_onTimer: Warn for "\'+i.sID+\'": \'+(i._a?"":"Could not find element. ")+(0===i.playState?"playState bad, 0?":"playState = "+i.playState+", OK")),!1)},this._get_html5_duration=function(){var e=i._a?1e3*i._a.duration:i._iO?i._iO.duration:void 0;return e&&!isNaN(e)&&e!==1/0?e:i._iO?i._iO.duration:null},this._setup_html5=function(e){var e=d(i._iO,e),n=Me?Y._global_a:i._a,o=decodeURI(e.url),a=n&&n._t?n._t.instanceOptions:null;if(n){if(n._t&&a.url===e.url&&(!i._lastURL||i._lastURL===a.url))return n;Y._wD("setting new URL on existing object: "+o+(i._lastURL?", old URL: "+i._lastURL:"")),Me&&n._t&&n._t.playState&&e.url!==a.url&&n._t.stop(),t(),n.src=e.url,i.url=e.url,i._lastURL=e.url,n._called_load=!1}else Y._wD("creating HTML5 Audio() element with URL: "+o),n=new Audio(e.url),n._called_load=!1,Me&&(Y._global_a=n);return i.isHTML5=!0,i._a=n,n._t=i,i._add_html5_events(),n.loop=e.loops>1?"loop":"",e.autoLoad||e.autoPlay?(n.autobuffer="auto",n.preload="auto",i.load(),n._called_load=!0):(n.autobuffer=!1,n.preload="none"),n.loop=e.loops>1?"loop":"",n},this._add_html5_events=function(){if(i._a._added_events)return!1;var e;Y._wD(Z+"adding event listeners: "+i.sID),i._a._added_events=!0;for(e in z)z.hasOwnProperty(e)&&i._a&&i._a.addEventListener(e,z[e],!1);return!0},this._remove_html5_events=function(){var e;Y._wD(Z+"removing event listeners: "+i.sID),i._a._added_events=!1;for(e in z)z.hasOwnProperty(e)&&i._a&&i._a.removeEventListener(e,z[e],!1)},this._onload=function(e){return e=!!e,Y._wD(\'SMSound._onload(): "\'+i.sID+\'"\'+(e?" loaded.":" failed to load? - "+i.url),e?1:2),e||i.isHTML5||(Y.sandbox.noRemote===!0&&Y._wD("SMSound._onload(): "+I("noNet"),1),Y.sandbox.noLocal===!0&&Y._wD("SMSound._onload(): "+I("noLocal"),1)),i.loaded=e,i.readyState=e?3:2,i._onbufferchange(0),i._iO.onload&&i._iO.onload.apply(i,[e]),!0},this._onbufferchange=function(e){return!(0===i.playState||e&&i.isBuffering||!e&&!i.isBuffering)&&(i.isBuffering=1===e,i._iO.onbufferchange&&(Y._wD("SMSound._onbufferchange(): "+e),i._iO.onbufferchange.apply(i)),!0)},this._onfailure=function(e,t,n){i.failures++,Y._wD(\'SMSound._onfailure(): "\'+i.sID+\'" count \'+i.failures),i._iO.onfailure&&1===i.failures?i._iO.onfailure(i,e,t,n):Y._wD("SMSound._onfailure(): ignoring")},this._onbeforefinish=function(){i.didBeforeFinish||(i.didBeforeFinish=!0,i._iO.onbeforefinish&&(Y._wD(\'SMSound._onbeforefinish(): "\'+i.sID+\'"\'),i._iO.onbeforefinish.apply(i)))},this._onjustbeforefinish=function(){i.didJustBeforeFinish||(i.didJustBeforeFinish=!0,i._iO.onjustbeforefinish&&(Y._wD(\'SMSound._onjustbeforefinish(): "\'+i.sID+\'"\'),i._iO.onjustbeforefinish.apply(i)))},this._onfinish=function(){var e=i._iO.onfinish;i._onbufferchange(0),i.resetOnPosition(0),i._iO.onbeforefinishcomplete&&i._iO.onbeforefinishcomplete.apply(i),i.didBeforeFinish=!1,i.didJustBeforeFinish=!1,i.instanceCount&&(i.instanceCount--,i.instanceCount||(i.playState=0,i.paused=!1,i.instanceCount=0,i.instanceOptions={},i._iO={},n()),i.instanceCount&&!i._iO.multiShotEvents||!e||(Y._wD(\'SMSound._onfinish(): "\'+i.sID+\'"\'),e.apply(i)))},this._whileloading=function(e,t,n,o){i.bytesLoaded=e,i.bytesTotal=t,i.duration=Math.floor(n),i.bufferLength=o,i._iO.isMovieStar?i.durationEstimate=i.duration:(i.durationEstimate=i._iO.duration?i.duration>i._iO.duration?i.duration:i._iO.duration:parseInt(i.bytesTotal/i.bytesLoaded*i.duration,10),void 0===i.durationEstimate&&(i.durationEstimate=i.duration)),3!==i.readyState&&i._iO.whileloading&&i._iO.whileloading.apply(i)},this._whileplaying=function(e,t,n,o,a){return!isNaN(e)&&null!==e&&(i.position=e,i.processOnPosition(),!i.isHTML5&&oe>8&&(i._iO.usePeakData&&"undefined"!=typeof t&&t&&(i.peakData={left:t.leftPeak,right:t.rightPeak}),i._iO.useWaveformData&&"undefined"!=typeof n&&n&&(i.waveformData={left:n.split(","),right:o.split(",")}),i._iO.useEQData&&"undefined"!=typeof a&&a&&a.leftEQ&&(e=a.leftEQ.split(","),i.eqData=e,i.eqData.left=e,"undefined"!=typeof a.rightEQ&&a.rightEQ&&(i.eqData.right=a.rightEQ.split(",")))),1===i.playState&&(!i.isHTML5&&8===Y.flashVersion&&!i.position&&i.isBuffering&&i._onbufferchange(0),i._iO.whileplaying&&i._iO.whileplaying.apply(i),(i.loaded||!i.loaded&&i._iO.isMovieStar)&&i._iO.onbeforefinish&&i._iO.onbeforefinishtime&&!i.didBeforeFinish&&i.duration-i.position<=i._iO.onbeforefinishtime&&i._onbeforefinish()),!0)},this._onid3=function(e,t){Y._wD(\'SMSound._onid3(): "\'+this.sID+\'" ID3 data received.\');var n,o,a=[];for(n=0,o=e.length;n<o;n++)a[e[n]]=t[n];i.id3=d(i.id3,a),i._iO.onid3&&i._iO.onid3.apply(i)},this._onconnect=function(e){e=1===e,Y._wD(\'SMSound._onconnect(): "\'+i.sID+\'"\'+(e?" connected.":" failed to connect? - "+i.url),e?1:2),(i.connected=e)&&(i.failures=0,R(i.sID)&&(i.getAutoPlay()?i.play(void 0,i.getAutoPlay()):i._iO.autoLoad&&i.load()),i._iO.onconnect&&i._iO.onconnect.apply(i,[e]))},this._ondataerror=function(e){i.playState>0&&(Y._wD("SMSound._ondataerror(): "+e),i._iO.ondataerror&&i._iO.ondataerror.apply(i))}},v=function(){return ie.body||ie._docElement||ie.getElementsByTagName("div")[0]},i=function(e){return ie.getElementById(e)},d=function(e,t){var n,o,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);n="undefined"==typeof t?Y.defaultOptions:t;for(o in n)n.hasOwnProperty(o)&&"undefined"==typeof i[o]&&(i[o]=n[o]);return i},K=function(){function e(e){var e=we.call(e),t=e.length;return n?(e[1]="on"+e[1],t>3&&e.pop()):3===t&&e.push(!1),e}function t(e,t){var i=e.shift(),a=[o[t]];n?i[a](e[0],e[1]):i[a].apply(i,e)}var n=te.attachEvent,o={add:n?"attachEvent":"addEventListener",remove:n?"detachEvent":"removeEventListener"};return{add:function(){t(e(arguments),"add")},remove:function(){t(e(arguments),"remove")}}}(),j=function(e){return!e.serverURL&&(e.type?W({type:e.type}):W({url:e.url})||Y.html5Only)},W=function(e){function t(e){return Y.preferFlash&&Q&&!Y.ignoreFlash&&"undefined"!=typeof Y.flash[e]&&Y.flash[e]}if(!Y.useHTML5Audio||!Y.hasHTML5)return!1;var n,o=e.url||null,e=e.type||null,i=Y.audioFormats;if(e&&"undefined"!==Y.html5[e])return Y.html5[e]&&!t(e);if(!q){q=[];for(n in i)i.hasOwnProperty(n)&&(q.push(n),i[n].related&&(q=q.concat(i[n].related)));q=RegExp("\\\\.("+q.join("|")+")(\\\\?.*)?$","i")}if(n=o?o.toLowerCase().match(q):null,n&&n.length)n=n[1];else{if(!e)return!1;o=e.indexOf(";"),n=(o!==-1?e.substr(0,o):e).substr(6)}return n&&"undefined"!=typeof Y.html5[n]?Y.html5[n]&&!t(n):(e="audio/"+n,o=Y.html5.canPlayType({type:e}),(Y.html5[n]=o)&&Y.html5[e]&&!t(e))},J=function(){function e(e){var t,n,o=!1;if(!i||"function"!=typeof i.canPlayType)return!1;if(e instanceof Array){for(t=0,n=e.length;t<n&&!o;t++)(Y.html5[e[t]]||i.canPlayType(e[t]).match(Y.html5Test))&&(o=!0,Y.html5[e[t]]=!0,Y.flash[e[t]]=!(!Y.preferFlash||!Q||!e[t].match(He)));return o}return e=!(!i||"function"!=typeof i.canPlayType)&&i.canPlayType(e),!(!e||!e.match(Y.html5Test))}if(!Y.useHTML5Audio||"undefined"==typeof Audio)return!1;var t,n,o,i="undefined"!=typeof Audio?Le?new Audio(null):new Audio:null,a={};n=Y.audioFormats;for(t in n)if(n.hasOwnProperty(t)&&(a[t]=e(n[t].type),a["audio/"+t]=a[t],Y.flash[t]=!(!Y.preferFlash||Y.ignoreFlash||!t.match(He)),n[t]&&n[t].related))for(o=n[t].related.length;o--;)a["audio/"+n[t].related[o]]=a[t],Y.html5[n[t].related[o]]=a[t],Y.flash[n[t].related[o]]=a[t];return a.canPlayType=i?e:null,Y.html5=d(Y.html5,a),!0},y={notReady:"Not loaded yet - wait for soundManager.onload()/onready()",notOK:"Audio support is not available.",domError:"soundManager::createMovie(): appendChild/innerHTML call failed. DOM not ready or other error.",spcWmode:"soundManager::createMovie(): Removing wmode, preventing known SWF loading issue(s)",swf404:"soundManager: Verify that %s is a valid path.",tryDebug:"Try soundManager.debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:"soundManager: Non-HTTP page ("+ie.location.protocol+" URL?) Review Flash player security settings for this special case:\\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:"soundManager: Special case: Waiting for focus-related event..",waitImpatient:"soundManager: Getting impatient, still waiting for Flash%s...",waitForever:"soundManager: Waiting indefinitely for Flash (will recover if unblocked)...",needFunction:"soundManager: Function object expected for %s",badID:\'Warning: Sound ID "%s" should be a string, starting with a non-numeric character\',noMS:"MovieStar mode not enabled. Exiting.",currentObj:"--- soundManager._debug(): Current sound objects ---",waitEI:"soundManager::initMovie(): Waiting for ExternalInterface call from Flash..",waitOnload:"soundManager: Waiting for window.onload()",docLoaded:"soundManager: Document already loaded",onload:"soundManager::initComplete(): calling soundManager.onload()",onloadOK:"soundManager.onload() complete",init:"soundManager::init()",didInit:"soundManager::init(): Already called?",flashJS:"soundManager: Attempting to call Flash from JS..",noPolling:"soundManager: Polling (whileloading()/whileplaying() support) is disabled.",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:"Warning: Failed to remove flash movie.",noPeak:"Warning: peakData features unsupported for movieStar formats",shutdown:"soundManager.disable(): Shutting down",queue:"soundManager: Queueing %s handler",smFail:"soundManager: Failed to initialise.",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+Y.swfCSS.swfTimedout+" CSS..",fbLoaded:"Flash loaded",fbHandler:"soundManager::flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:"soundManager.load(): current URL already assigned.",badFV:\'soundManager.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.\',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",mfOn:"mobileFlash::enabling on-screen flash repositioning",policy:"Enabling usePolicyFile for data access"},I=function(){var e,t,n=we.call(arguments),o=n.shift(),o=y&&y[o]?y[o]:"";if(o&&n&&n.length)for(e=0,t=n.length;e<t;e++)o=o.replace("%s",n[e]);return o},k=function(e){return 8===oe&&e.loops>1&&e.stream&&(l("as2loop"),e.stream=!1),e},x=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(Y._wD((t||"")+I("policy")),e.usePolicyFile=!0),e},A=function(e){"undefined"!=typeof console&&"undefined"!=typeof console.warn?console.warn(e):Y._wD(e);\n},a=function(){return!1},T=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=a)},P=function(e){"undefined"==typeof e&&(e=!1),(de||e)&&(l("smFail",2),Y.disable(e))},F=function(e){var t=null;if(e)if(e.match(/\\.swf(\\?.*)?$/i)){if(t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return(e&&e.lastIndexOf("/")!==-1?e.substr(0,e.lastIndexOf("/")+1):"./")+Y.movieURL},_=function(){8!==oe&&9!==oe&&(Y._wD(I("badFV",oe,8)),Y.flashVersion=8);var e=Y.debugMode||Y.debugFlash?"_debug.swf":".swf";Y.useHTML5Audio&&!Y.html5Only&&Y.audioFormats.mp4.required&&Y.flashVersion<9&&(Y._wD(I("needfl9")),Y.flashVersion=9),oe=Y.flashVersion,Y.version=Y.versionNumber+(Y.html5Only?" (HTML5-only mode)":9===oe?" (AS3/Flash 9)":" (AS2/Flash 8)"),oe>8&&(Y.defaultOptions=d(Y.defaultOptions,Y.flash9Options),Y.features.buffering=!0),oe>8&&Y.useMovieStar?(Y.defaultOptions=d(Y.defaultOptions,Y.movieStarOptions),Y.filePatterns.flash9=RegExp("\\\\.(mp3|"+Y.netStreamTypes.join("|")+")(\\\\?.*)?$","i"),Y.mimePattern=Y.netStreamMimeTypes,Y.features.movieStar=!0):(Y.useMovieStar=!1,Y.features.movieStar=!1),Y.filePattern=Y.filePatterns[8!==oe?"flash9":"flash8"],Y.movieURL=(8===oe?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),Y.features.peakData=Y.features.waveformData=Y.features.eqData=oe>8},O=function(e,t){return!(!Y.o||!Y.allowPolling)&&void Y.o._setPolling(e,t)},L=function(){if(Y.debugURLParam.test(ne)&&(Y.debugMode=!0),i(Y.debugID))return!1;var e,t,n,o;if(Y.debugMode&&!i(Y.debugID)&&(!Pe||!Y.useConsole||Y.useConsole&&Pe&&!Y.consoleOnly)){e=ie.createElement("div"),e.id=Y.debugID+"-toggle",t={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(ie.createTextNode("-")),e.onclick=E,e.title="Toggle SM2 debug console",ee.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand");for(o in t)t.hasOwnProperty(o)&&(e.style[o]=t[o]);if(t=ie.createElement("div"),t.id=Y.debugID,t.style.display=Y.debugMode?"block":"none",Y.debugMode&&!i(e.id)){try{n=v(),n.appendChild(e)}catch(e){throw Error(I("domError")+" \\n"+e.toString())}n.appendChild(t)}}},R=this.getSoundById,l=function(e,t){return e?Y._wD(I(e),t):""},ne.indexOf("sm2-debug=alert")+1&&Y.debugMode&&(Y._wD=function(e){window.alert(e)}),E=function(){var e=i(Y.debugID),t=i(Y.debugID+"-toggle");return!!e&&(se?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),void(se=!se))},r=function(e,t,n){if("undefined"!=typeof sm2Debugger)try{sm2Debugger.handleEvent(e,t,n)}catch(e){}return!0},H=function(){var e=[];return Y.debugMode&&e.push(Y.swfCSS.sm2Debug),Y.debugFlash&&e.push(Y.swfCSS.flashDebug),Y.useHighPerformance&&e.push(Y.swfCSS.highPerf),e.join(" ")},C=function(){var e=I("fbHandler"),t=Y.getMoviePercent(),n=Y.swfCSS,o={type:"FLASHBLOCK"};return!Y.html5Only&&void(Y.ok()?(Y.didFlashBlock&&Y._wD(e+": Unblocked"),Y.oMC&&(Y.oMC.className=[H(),n.swfDefault,n.swfLoaded+(Y.didFlashBlock?" "+n.swfUnblocked:"")].join(" "))):(ye&&(Y.oMC.className=H()+" "+n.swfDefault+" "+(null===t?n.swfTimedout:n.swfError),Y._wD(e+": "+I("fbTimeout")+(t?" ("+I("fbLoaded")+")":""))),Y.didFlashBlock=!0,h({type:"ontimeout",ignoreInit:!0,error:o}),b(o)))},f=function(e,t,n){"undefined"==typeof ae[e]&&(ae[e]=[]),ae[e].push({method:t,scope:n||null,fired:!1})},h=function(e){if(e||(e={type:"onready"}),!ue&&e&&!e.ignoreInit||"ontimeout"===e.type&&Y.ok())return!1;var t,n={success:e&&e.ignoreInit?Y.ok():!de},o=e&&e.type?ae[e.type]||[]:[],i=[],a=[n],s=ye&&Y.useFlashBlock&&!Y.ok();for(e.error&&(a[0].error=e.error),n=0,t=o.length;n<t;n++)o[n].fired!==!0&&i.push(o[n]);if(i.length)for(Y._wD("soundManager: Firing "+i.length+" "+e.type+"() item"+(1===i.length?"":"s")),n=0,t=i.length;n<t;n++)i[n].scope?i[n].method.apply(i[n].scope,a):i[n].method.apply(this,a),s||(i[n].fired=!0);return!0},c=function(){te.setTimeout(function(){Y.useFlashBlock&&C(),h(),Y.onload instanceof Function&&(l("onload",1),Y.onload.apply(te),l("onloadOK",1)),Y.waitForWindowLoad&&K.add(te,"load",c)},1)},$=function(){if(void 0!==Q)return Q;var e,t=!1,n=navigator,o=n.plugins,i=te.ActiveXObject;if(o&&o.length)(n=n.mimeTypes)&&n["application/x-shockwave-flash"]&&n["application/x-shockwave-flash"].enabledPlugin&&n["application/x-shockwave-flash"].enabledPlugin.description&&(t=!0);else if("undefined"!=typeof i){try{e=new i("ShockwaveFlash.ShockwaveFlash")}catch(e){}t=!!e}return Q=t},B=function(){var e,t;if(ee.match(/iphone os (1|2|3_0|3_1)/i))return Y.hasHTML5=!1,Y.html5Only=!0,Y.oMC&&(Y.oMC.style.display="none"),!1;if(!Y.useHTML5Audio)return!0;if(!Y.html5||!Y.html5.canPlayType)return Y._wD("SoundManager: No HTML5 Audio() support detected."),Y.hasHTML5=!1,!0;if(Y.hasHTML5=!0,Te&&(Y._wD("soundManager::Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(Q?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1),$()))return!0;for(t in Y.audioFormats)Y.audioFormats.hasOwnProperty(t)&&(Y.audioFormats[t].required&&!Y.html5.canPlayType(Y.audioFormats[t].type)||Y.flash[t]||Y.flash[Y.audioFormats[t].type])&&(e=!0);return Y.ignoreFlash&&(e=!1),Y.html5Only=Y.hasHTML5&&Y.useHTML5Audio&&!e,!Y.html5Only},U=function(e){e._hasTimer||(e._hasTimer=!0)},N=function(e){e._hasTimer&&(e._hasTimer=!1)},b=function(e){e="undefined"!=typeof e?e:{},Y.onerror instanceof Function&&Y.onerror.apply(te,[{type:"undefined"!=typeof e.type?e.type:null}]),"undefined"!=typeof e.fatal&&e.fatal&&Y.disable()},X=function(){if(!Te||!$())return!1;var e,t,n=Y.audioFormats;for(t in n)if(n.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(Y._wD("soundManager: Using flash fallback for "+t+" format"),Y.html5[t]=!1,n[t]&&n[t].related))for(e=n[t].related.length;e--;)Y.html5[n[t].related[e]]=!1},this._setSandboxType=function(e){var t=Y.sandbox;t.type=e,t.description=t.types["undefined"!=typeof t.types[e]?e:"unknown"],Y._wD("Flash security sandbox type: "+t.type),"localWithFile"===t.type?(t.noRemote=!0,t.noLocal=!1,l("secNote",2)):"localWithNetwork"===t.type?(t.noRemote=!1,t.noLocal=!0):"localTrusted"===t.type&&(t.noRemote=!1,t.noLocal=!1)},this._externalInterfaceOK=function(e){if(Y.swfLoaded)return!1;var t=(new Date).getTime();Y._wD("soundManager::externalInterfaceOK()"+(e?" (~"+(t-e)+" ms)":"")),r("swf",!0),r("flashtojs",!0),Y.swfLoaded=!0,Ie=!1,Te&&X(),Se?setTimeout(s,100):s()},S=function(e,t){function n(){Y._wD("-- SoundManager 2 "+Y.version+(!Y.html5Only&&Y.useHTML5Audio?Y.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"")+(Y.html5Only?"":(Y.useMovieStar?", MovieStar mode":"")+(Y.useHighPerformance?", high performance mode, ":", ")+((Y.flashPollingInterval?"custom ("+Y.flashPollingInterval+"ms)":Y.useFastPolling?"fast":"normal")+" polling")+(Y.wmode?", wmode: "+Y.wmode:"")+(Y.debugFlash?", flash debug mode":"")+(Y.useFlashBlock?", flashBlock mode":""))+" --",1)}function o(e,t){return\'<param name="\'+e+\'" value="\'+t+\'" />\'}if(re&&le)return!1;if(Y.html5Only)return _(),n(),Y.oMC=i(Y.movieID),s(),le=re=!0,!1;var a,r=t||Y.url,u=Y.altURL||r;a=v();var d,f,h,c=H(),p=null,p=(p=ie.getElementsByTagName("html")[0])&&p.dir&&p.dir.match(/rtl/i),e="undefined"==typeof e?Y.id:e;if(_(),Y.url=F(Ee?r:u),t=Y.url,Y.wmode=Y.wmode||!Y.useHighPerformance||Y.useMovieStar?Y.wmode:"transparent",null!==Y.wmode&&(ee.match(/msie 8/i)||!Se&&!Y.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Y.specialWmodeCase=!0,l("spcWmode"),Y.wmode=null),a={name:e,id:e,src:t,width:"auto",height:"auto",quality:"high",allowScriptAccess:Y.allowScriptAccess,bgcolor:Y.bgColor,pluginspage:ke+"//www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:Y.wmode,hasPriority:"true"},Y.debugFlash&&(a.FlashVars="debug=1"),Y.wmode||delete a.wmode,Se)r=ie.createElement("div"),f=[\'<object id="\'+e+\'" data="\'+t+\'" type="\'+a.type+\'" title="\'+a.title+\'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="\'+ke+\'//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0" width="\'+a.width+\'" height="\'+a.height+\'">\',o("movie",t),o("AllowScriptAccess",Y.allowScriptAccess),o("quality",a.quality),Y.wmode?o("wmode",Y.wmode):"",o("bgcolor",Y.bgColor),o("hasPriority","true"),Y.debugFlash?o("FlashVars",a.FlashVars):"","</object>"].join("");else{r=ie.createElement("embed");for(d in a)a.hasOwnProperty(d)&&r.setAttribute(d,a[d])}if(L(),c=H(),a=v())if(Y.oMC=i(Y.movieID)||ie.createElement("div"),Y.oMC.id)h=Y.oMC.className,Y.oMC.className=(h?h+" ":Y.swfCSS.swfDefault)+(c?" "+c:""),Y.oMC.appendChild(r),Se&&(d=Y.oMC.appendChild(ie.createElement("div")),d.className=Y.swfCSS.swfBox,d.innerHTML=f),le=!0;else{if(Y.oMC.id=Y.movieID,Y.oMC.className=Y.swfCSS.swfDefault+" "+c,d=c=null,Y.useFlashBlock||(Y.useHighPerformance?c={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(c={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},p&&(c.left=Math.abs(parseInt(c.left,10))+"px"))),be&&(Y.oMC.style.zIndex=1e4),!Y.debugFlash)for(h in c)c.hasOwnProperty(h)&&(Y.oMC.style[h]=c[h]);try{Se||Y.oMC.appendChild(r),a.appendChild(Y.oMC),Se&&(d=Y.oMC.appendChild(ie.createElement("div")),d.className=Y.swfCSS.swfBox,d.innerHTML=f),le=!0}catch(e){throw Error(I("domError")+" \\n"+e.toString())}}return re=!0,n(),Y._wD("soundManager::createMovie(): Trying to load "+t+(!Ee&&Y.altURL?" (alternate URL)":""),1),!0},w=function(){return Y.html5Only?(S(),!1):!Y.o&&(Y.o=Y.getMovie(Y.id),Y.o||(pe?(Se?Y.oMC.innerHTML=me:Y.oMC.appendChild(pe),pe=null,re=!0):S(Y.id,Y.url),Y.o=Y.getMovie(Y.id)),Y.o&&l("waitEI"),Y.oninitmovie instanceof Function&&setTimeout(Y.oninitmovie,1),!0)},p=function(){setTimeout(m,1e3)},m=function(){if(_e)return!1;if(_e=!0,K.remove(te,"load",p),Ie&&!Fe)return l("waitFocus"),!1;var e;ue||(e=Y.getMoviePercent(),Y._wD(I("waitImpatient",100===e?" (SWF loaded)":e>0?" (SWF "+e+"% loaded)":""))),setTimeout(function(){e=Y.getMoviePercent(),ue||(Y._wD("soundManager: No Flash response within expected time.\\nLikely causes: "+(0===e?"Loading "+Y.movieURL+" may have failed (and/or Flash "+oe+"+ not present?), ":"")+"Flash blocked or JS-Flash security error."+(Y.debugFlash?" "+I("checkSWF"):""),2),!Ee&&e&&(l("localFail",2),Y.debugFlash||l("tryDebug",2)),0===e&&Y._wD(I("swf404",Y.url)),r("flashtojs",!1," (Check flash security or flash blockers)")),!ue&&Ce&&(null===e?Y.useFlashBlock||0===Y.flashLoadTimeout?(Y.useFlashBlock&&C(),l("waitForever")):P(!0):0===Y.flashLoadTimeout?l("waitForever"):P(!0))},Y.flashLoadTimeout)},g=function(){function e(){K.remove(te,"focus",g),K.remove(te,"load",g)}return Fe||!Ie?(e(),!0):(Fe=Ce=!0,Y._wD("soundManager::handleFocus()"),Oe&&Ie&&K.remove(te,"mousemove",g),_e=!1,e(),!0)},u=function(e){if(ue)return!1;if(Y.html5Only)return Y._wD("-- SoundManager 2: loaded --"),ue=!0,c(),r("onload",!0),!0;var t;return Y.useFlashBlock&&Y.flashLoadTimeout&&!Y.getMoviePercent()||(ue=!0,de&&(t={type:!Q&&ye?"NO_FLASH":"INIT_TIMEOUT"})),Y._wD("-- SoundManager 2 "+(de?"failed to load":"loaded")+" ("+(de?"security/load error":"OK")+") --",1),de||e?(Y.useFlashBlock&&Y.oMC&&(Y.oMC.className=H()+" "+(null===Y.getMoviePercent()?Y.swfCSS.swfTimedout:Y.swfCSS.swfError)),h({type:"ontimeout",error:t}),r("onload",!1),b(t),!1):(r("onload",!0),K.add(te,"unload",a),Y.waitForWindowLoad&&!fe?(l("waitOnload"),K.add(te,"load",c),!1):(Y.waitForWindowLoad&&fe&&l("docLoaded"),c(),!0))},G=function(){var e,t=[];if(Y.useHTML5Audio&&Y.hasHTML5){for(e in Y.audioFormats)Y.audioFormats.hasOwnProperty(e)&&t.push(e+": "+Y.html5[e]+(!Y.html5[e]&&Q&&Y.flash[e]?" (using flash)":Y.preferFlash&&Y.flash[e]&&Q?" (preferring flash)":Y.html5[e]?"":" ("+(Y.audioFormats[e].required?"required, ":"")+"and no flash support)"));Y._wD("-- SoundManager 2: HTML5 support tests ("+Y.html5Test+"): "+t.join(", ")+" --",1)}},s=function(){if(l("init"),ue)return l("didInit"),!1;if(Y.html5Only)return ue||(K.remove(te,"load",Y.beginDelayedInit),Y.enabled=!0,u()),!0;w();try{l("flashJS"),Y.o._externalInterfaceTest(!1),Y.allowPolling?O(!0,Y.flashPollingInterval||(Y.useFastPolling?10:50)):l("noPolling",1),Y.debugMode||Y.o._disableDebug(),Y.enabled=!0,r("jstoflash",!0)}catch(e){return Y._wD("js/flash exception: "+e.toString()),r("jstoflash",!1),b({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),P(!0),u(),!1}return u(),K.remove(te,"load",Y.beginDelayedInit),!0},M=function(){if(D)return!1;D=!0,L();var e=ne.toLowerCase(),t=null,t=null,n="undefined"!=typeof console&&"undefined"!=typeof console.log;return e.indexOf("sm2-usehtml5audio=")!==-1&&(t="1"===e.charAt(e.indexOf("sm2-usehtml5audio=")+18),n&&console.log((t?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter"),Y.useHTML5Audio=t),e.indexOf("sm2-preferflash=")!==-1&&(t="1"===e.charAt(e.indexOf("sm2-preferflash=")+16),n&&console.log((t?"Enabling ":"Disabling ")+"preferFlash via URL parameter"),Y.preferFlash=t),!Q&&Y.hasHTML5&&(Y._wD("SoundManager: No Flash detected"+(Y.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5.")),Y.useHTML5Audio=!0,Y.preferFlash=!1),J(),Y.html5.usingFlash=B(),ye=Y.html5.usingFlash,G(),!Q&&ye&&(Y._wD("SoundManager: Fatal error: Flash is needed to play some required formats, but is not available."),Y.flashLoadTimeout=1),ie.removeEventListener&&ie.removeEventListener("DOMContentLoaded",M,!1),w(),!0},V=function(){return"complete"===ie.readyState&&(M(),ie.detachEvent("onreadystatechange",V)),!0},$(),K.add(te,"focus",g),K.add(te,"load",g),K.add(te,"load",p),Oe&&Ie&&K.add(te,"mousemove",g),ie.addEventListener?ie.addEventListener("DOMContentLoaded",M,!1):ie.attachEvent?ie.attachEvent("onreadystatechange",V):(r("onload",!1),b({type:"NO_DOM2_EVENTS",fatal:!0})),"complete"===ie.readyState&&setTimeout(M,100)};',
pre:!0},"modules/devkit-core/node_modules/jsio/packages/util/underscore.js":{path:"modules/devkit-core/node_modules/jsio/packages/util/underscore.js",friendlyPath:"util.underscore",directory:"modules/devkit-core/node_modules/jsio/packages/util/",filename:"underscore.js",src:'(function(){var n=this,t=n._,r={},e=Array.prototype,i=Object.prototype,u=e.push,o=e.slice,a=e.concat,c=i.toString,l=i.hasOwnProperty,f=e.forEach,s=e.map,p=e.reduce,h=e.reduceRight,v=e.filter,y=e.every,d=e.some,g=e.indexOf,m=e.lastIndexOf,i=Array.isArray,b=Object.keys,x=Function.prototype.bind,_=function(n){return n instanceof _?n:this instanceof _?void(this._wrapped=n):new _(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):n._=_,_.VERSION="1.6.0";var w=_.each=_.forEach=function(n,t,e){if(null==n)return n;if(f&&n.forEach===f)n.forEach(t,e);else if(n.length===+n.length){for(var i=0,u=n.length;i<u;i++)if(t.call(e,n[i],i,n)===r)return}else for(var o=_.keys(n),i=0,u=o.length;i<u;i++)if(t.call(e,n[o[i]],o[i],n)===r)return;return n};_.map=_.collect=function(n,t,r){var e=[];return null==n?e:s&&n.map===s?n.map(t,r):(w(n,function(n,i,u){e.push(t.call(r,n,i,u))}),e)},_.reduce=_.foldl=_.inject=function(n,t,r,e){var i=arguments.length>2;if(null==n&&(n=[]),p&&n.reduce===p)return e&&(t=_.bind(t,e)),i?n.reduce(t,r):n.reduce(t);if(w(n,function(n,u,o){i?r=t.call(e,r,n,u,o):(r=n,i=!0)}),!i)throw new TypeError("Reduce of empty array with no initial value");return r},_.reduceRight=_.foldr=function(n,t,r,e){var i=arguments.length>2;if(null==n&&(n=[]),h&&n.reduceRight===h)return e&&(t=_.bind(t,e)),i?n.reduceRight(t,r):n.reduceRight(t);var u=n.length;if(u!==+u)var o=_.keys(n),u=o.length;if(w(n,function(a,c,l){c=o?o[--u]:--u,i?r=t.call(e,r,n[c],c,l):(r=n[c],i=!0)}),!i)throw new TypeError("Reduce of empty array with no initial value");return r},_.find=_.detect=function(n,t,r){var e;return j(n,function(n,i,u){if(t.call(r,n,i,u))return e=n,!0}),e},_.filter=_.select=function(n,t,r){var e=[];return null==n?e:v&&n.filter===v?n.filter(t,r):(w(n,function(n,i,u){t.call(r,n,i,u)&&e.push(n)}),e)},_.reject=function(n,t,r){return _.filter(n,function(n,e,i){return!t.call(r,n,e,i)},r)},_.every=_.all=function(n,t,e){t||(t=_.identity);var i=!0;return null==n?i:y&&n.every===y?n.every(t,e):(w(n,function(n,u,o){if(!(i=i&&t.call(e,n,u,o)))return r}),!!i)};var j=_.some=_.any=function(n,t,e){t||(t=_.identity);var i=!1;return null==n?i:d&&n.some===d?n.some(t,e):(w(n,function(n,u,o){if(i||(i=t.call(e,n,u,o)))return r}),!!i)};_.contains=_.include=function(n,t){return null!=n&&(g&&n.indexOf===g?n.indexOf(t)!=-1:j(n,function(n){return n===t}))},_.invoke=function(n,t){var r=o.call(arguments,2),e=_.isFunction(t);return _.map(n,function(n){return(e?t:n[t]).apply(n,r)})},_.pluck=function(n,t){return _.map(n,_.property(t))},_.where=function(n,t){return _.filter(n,_.matches(t))},_.findWhere=function(n,t){return _.find(n,_.matches(t))},_.max=function(n,t,r){if(!t&&_.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);var e=-(1/0),i=-(1/0);return w(n,function(n,u,o){u=t?t.call(r,n,u,o):n,u>i&&(e=n,i=u)}),e},_.min=function(n,t,r){if(!t&&_.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);var e=1/0,i=1/0;return w(n,function(n,u,o){u=t?t.call(r,n,u,o):n,u<i&&(e=n,i=u)}),e},_.shuffle=function(n){var t,r=0,e=[];return w(n,function(n){t=_.random(r++),e[r-1]=e[t],e[t]=n}),e},_.sample=function(n,t,r){return null==t||r?(n.length!==+n.length&&(n=_.values(n)),n[_.random(n.length-1)]):_.shuffle(n).slice(0,Math.max(0,t))};var A=function(n){return null==n?_.identity:_.isFunction(n)?n:_.property(n)};_.sortBy=function(n,t,r){return t=A(t),_.pluck(_.map(n,function(n,e,i){return{value:n,index:e,criteria:t.call(r,n,e,i)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")};var O=function(n){return function(t,r,e){var i={},r=A(r);return w(t,function(u,o){var a=r.call(e,u,o,t);n(i,a,u)}),i}};_.groupBy=O(function(n,t,r){_.has(n,t)?n[t].push(r):n[t]=[r]}),_.indexBy=O(function(n,t,r){n[t]=r}),_.countBy=O(function(n,t){_.has(n,t)?n[t]++:n[t]=1}),_.sortedIndex=function(n,t,r,e){for(var r=A(r),t=r.call(e,t),i=0,u=n.length;i<u;){var o=i+u>>>1;r.call(e,n[o])<t?i=o+1:u=o}return i},_.toArray=function(n){return n?_.isArray(n)?o.call(n):n.length===+n.length?_.map(n,_.identity):_.values(n):[]},_.size=function(n){return null==n?0:n.length===+n.length?n.length:_.keys(n).length},_.first=_.head=_.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:t<0?[]:o.call(n,0,t)},_.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},_.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},_.rest=_.tail=_.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},_.compact=function(n){return _.filter(n,_.identity)};var k=function(n,t,r){return t&&_.every(n,_.isArray)?a.apply(r,n):(w(n,function(n){_.isArray(n)||_.isArguments(n)?t?u.apply(r,n):k(n,t,r):r.push(n)}),r)};_.flatten=function(n,t){return k(n,t,[])},_.without=function(n){return _.difference(n,o.call(arguments,1))},_.partition=function(n,t){var r=[],e=[];return w(n,function(n){(t(n)?r:e).push(n)}),[r,e]},_.uniq=_.unique=function(n,t,r,e){_.isFunction(t)&&(e=r,r=t,t=!1);var r=r?_.map(n,r,e):n,i=[],u=[];return w(r,function(r,e){(t?e&&u[u.length-1]===r:_.contains(u,r))||(u.push(r),i.push(n[e]))}),i},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=function(n){var t=o.call(arguments,1);return _.filter(_.uniq(n),function(n){return _.every(t,function(t){return _.contains(t,n)})})},_.difference=function(n){var t=a.apply(e,o.call(arguments,1));return _.filter(n,function(n){return!_.contains(t,n)})},_.zip=function(){for(var n=_.max(_.pluck(arguments,"length").concat(0)),t=Array(n),r=0;r<n;r++)t[r]=_.pluck(arguments,""+r);return t},_.object=function(n,t){if(null==n)return{};for(var r={},e=0,i=n.length;e<i;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},_.indexOf=function(n,t,r){if(null==n)return-1;var e=0,i=n.length;if(r){if("number"!=typeof r)return e=_.sortedIndex(n,t),n[e]===t?e:-1;e=r<0?Math.max(0,i+r):r}if(g&&n.indexOf===g)return n.indexOf(t,r);for(;e<i;e++)if(n[e]===t)return e;return-1},_.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(m&&n.lastIndexOf===m)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(r=e?r:n.length;r--;)if(n[r]===t)return r;return-1},_.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0);for(var r=arguments[2]||1,e=Math.max(Math.ceil((t-n)/r),0),i=0,u=Array(e);i<e;)u[i++]=n,n+=r;return u};var E=function(){};_.bind=function(n,t){var r,e;if(x&&n.bind===x)return x.apply(n,o.call(arguments,1));if(!_.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));E.prototype=n.prototype;var i=new E;E.prototype=null;var u=n.apply(i,r.concat(o.call(arguments)));return Object(u)===u?u:i}},_.partial=function(n){var t=o.call(arguments,1);return function(){for(var r=0,e=t.slice(),i=0,u=e.length;i<u;i++)e[i]===_&&(e[i]=arguments[r++]);for(;r<arguments.length;)e.push(arguments[r++]);return n.apply(this,e)}},_.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw Error("bindAll must be passed function names");return w(t,function(t){n[t]=_.bind(n[t],n)}),n},_.memoize=function(n,t){var r={};return t||(t=_.identity),function(){var e=t.apply(this,arguments);return _.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},_.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},_.defer=function(n){return _.delay.apply(_,[n,1].concat(o.call(arguments,1)))},_.throttle=function(n,t,r){var e,i,u,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:_.now(),o=null,u=n.apply(e,i),e=i=null};return function(){var l=_.now();!a&&r.leading===!1&&(a=l);var f=t-(l-a);return e=this,i=arguments,f<=0?(clearTimeout(o),o=null,a=l,u=n.apply(e,i),e=i=null):!o&&r.trailing!==!1&&(o=setTimeout(c,f)),u}},_.debounce=function(n,t,r){var e,i,u,o,a,c=function(){var l=_.now()-o;l<t?e=setTimeout(c,t-l):(e=null,r||(a=n.apply(u,i),u=i=null))};return function(){u=this,i=arguments,o=_.now();var l=r&&!e;return e||(e=setTimeout(c,t)),l&&(a=n.apply(u,i),u=i=null),a}},_.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},_.wrap=function(n,t){return _.partial(t,n)},_.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},_.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},_.keys=function(n){if(!_.isObject(n))return[];if(b)return b(n);var t,r=[];for(t in n)_.has(n,t)&&r.push(t);return r},_.values=function(n){for(var t=_.keys(n),r=t.length,e=Array(r),i=0;i<r;i++)e[i]=n[t[i]];return e},_.pairs=function(n){for(var t=_.keys(n),r=t.length,e=Array(r),i=0;i<r;i++)e[i]=[t[i],n[t[i]]];return e},_.invert=function(n){for(var t={},r=_.keys(n),e=0,i=r.length;e<i;e++)t[n[r[e]]]=r[e];return t},_.functions=_.methods=function(n){var t,r=[];for(t in n)_.isFunction(n[t])&&r.push(t);return r.sort()},_.extend=function(n){return w(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},_.pick=function(n){var t={},r=a.apply(e,o.call(arguments,1));return w(r,function(r){r in n&&(t[r]=n[r])}),t},_.omit=function(n){var t,r={},i=a.apply(e,o.call(arguments,1));for(t in n)_.contains(i,t)||(r[t]=n[t]);return r},_.defaults=function(n){return w(o.call(arguments,1),function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])}),n},_.clone=function(n){return _.isObject(n)?_.isArray(n)?n.slice():_.extend({},n):n},_.tap=function(n,t){return t(n),n};var F=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof _&&(n=n._wrapped),t instanceof _&&(t=t._wrapped);var i=c.call(n);if(i!=c.call(t))return!1;switch(i){case"[object String]":return n==""+t;case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var u=r.length;u--;)if(r[u]==n)return e[u]==t;var u=n.constructor,o=t.constructor;if(u!==o&&(!_.isFunction(u)||!(u instanceof u&&_.isFunction(o)&&o instanceof o))&&"constructor"in n&&"constructor"in t)return!1;if(r.push(n),e.push(t),u=0,o=!0,"[object Array]"==i){if(u=n.length,o=u==t.length)for(;u--&&(o=F(n[u],t[u],r,e)););}else{for(var a in n)if(_.has(n,a)&&(u++,!(o=_.has(t,a)&&F(n[a],t[a],r,e))))break;if(o){for(a in t)if(_.has(t,a)&&!u--)break;o=!u}}return r.pop(),e.pop(),o};_.isEqual=function(n,t){return F(n,t,[],[])},_.isEmpty=function(n){if(null==n)return!0;if(_.isArray(n)||_.isString(n))return 0===n.length;for(var t in n)if(_.has(n,t))return!1;return!0},_.isElement=function(n){return!(!n||1!==n.nodeType)},_.isArray=i||function(n){return"[object Array]"==c.call(n)},_.isObject=function(n){return n===Object(n)},w("Arguments Function String Number Date RegExp".split(" "),function(n){_["is"+n]=function(t){return c.call(t)=="[object "+n+"]"}}),_.isArguments(arguments)||(_.isArguments=function(n){return!(!n||!_.has(n,"callee"))}),"function"!=typeof/./&&(_.isFunction=function(n){return"function"==typeof n}),_.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},_.isNaN=function(n){return _.isNumber(n)&&n!=+n},_.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==c.call(n)},_.isNull=function(n){return null===n},_.isUndefined=function(n){return void 0===n},_.has=function(n,t){return l.call(n,t)},_.noConflict=function(){return n._=t,this},_.identity=function(n){return n},_.constant=function(n){return function(){return n}},_.property=function(n){return function(t){return t[n]}},_.matches=function(n){return function(t){if(t===n)return!0;for(var r in n)if(n[r]!==t[r])return!1;return!0}},_.times=function(n,t,r){for(var e=Array(Math.max(0,n)),i=0;i<n;i++)e[i]=t.call(r,i);return e},_.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},_.now=Date.now||function(){return(new Date).getTime()};var R={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",\'"\':"&quot;","\'":"&#x27;"}};R.unescape=_.invert(R.escape);var M={escape:RegExp("["+_.keys(R.escape).join("")+"]","g"),unescape:RegExp("("+_.keys(R.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(n){_[n]=function(t){return null==t?"":(""+t).replace(M[n],function(t){return R[n][t]})}}),_.result=function(n,t){if(null!=n){var r=n[t];return _.isFunction(r)?r.call(n):r}},_.mixin=function(n){w(_.functions(n),function(t){var r=_[t]=n[t];_.prototype[t]=function(){var n=[this._wrapped];return u.apply(n,arguments),n=r.apply(_,n),this._chain?_(n).chain():n}})};var S=0;_.uniqueId=function(n){var t=++S+"";return n?n+t:t},_.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g};var T=/(.)^/,I={"\'":"\'","\\\\":"\\\\","\\r":"r","\\n":"n","\\t":"t","\\u2028":"u2028","\\u2029":"u2029"},N=/\\\\|\'|\\r|\\n|\\t|\\u2028|\\u2029/g;_.template=function(n,t,r){var e,r=_.defaults({},r,_.templateSettings),i=RegExp([(r.escape||T).source,(r.interpolate||T).source,(r.evaluate||T).source].join("|")+"|$","g"),u=0,o="__p+=\'";n.replace(i,function(t,r,e,i,a){return o+=n.slice(u,a).replace(N,function(n){return"\\\\"+I[n]}),r&&(o+="\'+\\n((__t=("+r+"))==null?\'\':_.escape(__t))+\\n\'"),e&&(o+="\'+\\n((__t=("+e+"))==null?\'\':__t)+\\n\'"),i&&(o+="\';\\n"+i+"\\n__p+=\'"),u=a+t.length,t}),o+="\';\\n",r.variable||(o="with(obj||{}){\\n"+o+"}\\n"),o="var __t,__p=\'\',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\'\');};\\n"+o+"return __p;\\n";try{e=new Function(r.variable||"obj","_",o)}catch(n){throw n.source=o,n}return t?e(t,_):(t=function(n){return e.call(this,n,_)},t.source="function("+(r.variable||"obj")+"){\\n"+o+"}",t)},_.chain=function(n){return _(n).chain()},_.mixin(_),w("pop push reverse shift sort splice unshift".split(" "),function(n){var t=e[n];_.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),("shift"==n||"splice"==n)&&0===r.length&&delete r[0],this._chain?_(r).chain():r}}),w(["concat","join","slice"],function(n){var t=e[n];_.prototype[n]=function(){var n=t.apply(this._wrapped,arguments);return this._chain?_(n).chain():n}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return _})}).call(this);',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/FontBuffer.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/FontBuffer.js",friendlyPath:".FontBuffer",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/",filename:"FontBuffer.js",src:'jsio("import device");var randomColorElement=function(){var t=Math.floor(255*Math.random()).toString(16);return(1===t.length?"0":"")+t},randomColor=function(){return"#"+randomColorElement()+randomColorElement()+randomColorElement()},Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_platforms_browser_FontBuffer=__class__,FontBuffer=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_platforms_browser_FontBuffer(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){var t,e,i,s,r,n=[{size:24,count:8},{size:32,count:10},{size:64,count:8}],h=0;for(this._canvas=document.createElement("canvas"),this._canvas.width=1024,this._canvas.height=1024,this._ctx=this._canvas.getContext("2d"),this._list=[],s=0;s<n.length;s++){for(e=[],t=n[s],r=0;r<t.count;r++)i={previous:null,next:null,x:0,y:h,width:1024,height:0,hash:null,frame:0,refresh:!0,ctx:this._ctx},e.push(i),h+=t.size;this._list.push({size:t.size,lines:e})}this._hashMap={},this._currentFrame=0,this._frameTimeout=3,jsio("import ui.Engine").get().subscribe("Tick",this,this._onTick)},this._onTick=function(){this._currentFrame++;var t,e,i,s,r,n,h=this._currentFrame,o=this._frameTimeout,a=this._list;for(i=0,s=a.length;i<s;i++)for(t=a[i].lines,r=0,n=t.length;r<n;r++)for(e=t[r];e;)null===e.hash?e.next&&null===e.next.hash&&(e.width+=e.next.width,e.next=e.next.next):h>e.frame+o&&(this._ctx.fillStyle=randomColor(),this._ctx.fillRect(e.x,e.y,e.width,e.height),delete this._hashMap[e.hash],e.hash=null),e=e.next},this.alloc=function(t){var e,i,s=t.height,r=t.width+3,t=(t.strokeStyle||"")+"_"+(t.fillStyle||"")+"_"+(t.font||"")+"_"+t.text,n=this._list,h=this._hashMap[t];if(h)return h.frame=this._currentFrame,h.refresh=!1,h;for(h=0,e=n.length;h<e;h++)if(s<=n[h].size){for(n=n[h].lines,e=0,i=n.length;e<i;e++)for(h=n[e];h;){if(r<=h.width&&null===h.hash)return r!==h.width&&(h.next={previous:h,next:h.next,x:h.x+r,y:h.y,width:h.width-r,hash:null,frame:0,ctx:this._ctx}),h.frame=this._currentFrame,h.hash=t,h.width=r,h.height=s,h.refresh=!0,this._ctx.clearRect(h.x,h.y,r,s),this._hashMap[t]=h;h=h.next}break}return!1},this.getCanvas=function(){return this._canvas}});',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/initialize.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/initialize.js",friendlyPath:"platforms.browser.initialize",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/",filename:"initialize.js",baseMod:"platforms",basePath:"/Users/tsunami/projects/devkitPoj/BubbleShooter/modules/devkit-core/modules/timestep/src/platforms",src:'jsio("import device"),jsio("from util.browser import $"),device.registerDevice("browser","platforms.browser"),exports.init=function(){var e=function(){var e=device.screen.devicePixelRatio,i=window.document,c=(window.innerWidth||i.clientWidth||i.clientWidth)*e,e=(window.innerHeight||i.clientHeight||i.clientHeight)*e;c==device.width&&e==device.height&&device.screen.orientation||(device.width=c,device.height=e,device.screen.width=c,device.screen.height=e,c>e?(device.screen.isPortrait=!1,device.screen.isLandscape=!0,device.screen.orientation="landscape"):(device.screen.isPortrait=!0,device.screen.isLandscape=!1,device.screen.orientation="portrait"),device.screen.publish("Resize",c,e))};$.onEvent(window,"resize",e,!1),e()};',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/Input.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/Input.js",friendlyPath:".Input",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/",filename:"Input.js",src:'jsio("import device"),jsio("from util.browser import $"),jsio("import event.input.dispatch as input");var eventTypes=input.eventTypes,UID=-1,isIOS7=7===device.iosVersion,isIOSSafari=7<=device.iosVersion&&!device.isIpad&&!device.isStandalone&&!device.isUIWebView,enableLandscapeScroll=isIOSSafari,Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_platforms_browser_Input=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_platforms_browser_Input(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(e){(device.simulatingMobileNative||device.simulatingMobileBrowser)&&(this._simulateMobile=!0),this._evtQueue=[],this._rootView=e.rootView,e.el&&(device.isMobileBrowser&&(this._toggleNode=$({parent:document.body})),this.setElement(e.el)),this._isOver=!1,this._keyListener=e.keyListener,device.useDOM&&$.onEvent(document,device.events.start,this,"handleMouse",eventTypes.START),e.engine&&(e.engine.getOpt("minIOSLandscapeScroll")>device.iosVersion||e.engine.getOpt("disableIOSLandscapeScroll"))&&(enableLandscapeScroll=!1),this.enable(),this._hasFocus=!1,document.addEventListener&&(document.addEventListener("focus",bind(this,"onFocusCapture"),!0),document.addEventListener("blur",bind(this,"onBlurCapture"),!0))},this.enable=function(){this._isEnabled||(this._isEnabled=!0,this._handleMove=$.onEvent(document,device.events.move,this,"handleMouse",eventTypes.MOVE),this._handleSelect=$.onEvent(document,device.events.end,this,"handleMouse",eventTypes.SELECT),this._handleScroll=$.onEvent(window,"DOMMouseScroll",this,"handleMouse",eventTypes.SCROLL),this._handleWheel=$.onEvent(window,"mousewheel",this,"handleMouse",eventTypes.SCROLL),this._addElEvents())},this.disable=function(){this._isEnabled&&(this._isEnabled=!1,this._handleMove&&(this._handleMove(),this._handleMove=!1),this._handleSelect&&(this._handleSelect(),this._handleSelect=!1),this._handleScroll&&(this._handleScroll(),this._handleScroll=!1),this._handleWheel&&(this._handleWheel(),this._handleWheel=!1),this._removeElEvents())},this.onFocusCapture=function(e){var t=e.target.tagName;"TEXTAREA"!=t&&"INPUT"!=t||(this._hasFocus=e.target,this._keyListener&&this._keyListener.setEnabled(!1))},this.onBlurCapture=function(){this._hasFocus&&(this._hasFocus=null,this._keyListener&&this._keyListener.setEnabled(!0))},this._removeElEvents=function(){if(this._elEvents)for(var e,t=0;e=this._elEvents[t];++t)e()},this._addElEvents=function(){this._removeElEvents();var e=this._el;e.ondragstart=function(){return!1},e.onselectstart=function(){return!1},this._elEvents=[],device.useDOM||this._elEvents.push($.onEvent(e,device.events.start,this,"handleMouse",eventTypes.START)),!device.isMobileBrowser&&!device.isNative&&(this._elEvents.push($.onEvent(e,"mouseover",this,"onMouseOver")),this._elEvents.push($.onEvent(e,"mouseout",this,"onMouseOut")))},this.setElement=function(e){this._removeElEvents(),this._el=e,this._addElEvents()},this.onMouseOver=function(){this._isOver=!0},this.onMouseOut=function(){this._isOver=!1},this.onMouseDown=function(){this._isMouseDown=!0},this.onMouseUp=function(){this._isMouseUp=!0},this.getEvents=function(){return this._evtQueue},this.allowScrollEvents=function(e){this._allowScrollEvents=e},this.handleMouse=function(e,t){var s=t.target;if(device.useDOM||this._isDown||!this._el||t.target==this._el){if(device.isMobileBrowser){var i="landscape"===device.screen.orientation,n=window.innerHeight,o=document.documentElement.offsetHeight===n,n=enableLandscapeScroll&&i&&(isIOS7?320!==n:!o);if(isIOS7&&(n?document.documentElement.style.height="640px":!n&&!o&&(document.documentElement.style.height="320px")),n&&e===eventTypes.SCROLL)return;n||($.stopEvent(t),t.returnValue=!1),e===eventTypes.SELECT&&enableLandscapeScroll&&i&&window.scrollY&&window.scrollTo(0,0)}else!this._isOver||this._allowScrollEvents&&e==eventTypes.SCROLL||(t.stopPropagation&&t.stopPropagation(),e!=eventTypes.START&&($.stopEvent(t),t.returnValue=!1));if(t.touches)for(var l,s=0;l=t.changedTouches[s];++s)this.handleMouse(e,l);else{var h;if("offsetX"in t&&!device.useDOM)h=t.offsetX,l=t.offsetY;else if(this._el.getBoundingClientRect)l=this._el.getBoundingClientRect(),h=t.pageX-l.left,l=t.pageY-l.top;else{for(i=this._el;i;)h+=i.offsetTop,l+=i.offsetLeft,i=i.parentNode;h=t.pageX-h,l=t.pageY-l}if(i=t.identifier||UID,this._simulateMobile)switch(e){case eventTypes.START:this._moveOK=!0;break;case eventTypes.MOVE:if(!this._moveOK)return;break;case eventTypes.SELECT:this._moveOK=!1}if(e==eventTypes.START?this._isDown=!0:e==eventTypes.SELECT&&(this._isDown=!1,this._toggleNode&&(document.body.removeChild(this._toggleNode),document.body.appendChild(this._toggleNode))),o=device.screen.devicePixelRatio,l=new input.InputEvent(i,e,h*o,l*o),device.useDOM){for(;s&&!s._view;)s=s.parentNode;if(!s)return;l.target=s._view}e==eventTypes.SCROLL&&("wheelDeltaX"in t?(l.scrollDelta=t.wheelDeltaY/120,l.scrollAxis=input.VERTICAL_AXIS,t.wheelDeltaX&&t.wheelDeltaY?(s=l.clone(),s.scrollDelta=t.wheelDeltaX/120,s.scrollAxis=input.HORIZONTAL_AXIS,input.dispatchEvent(this._rootView,s)):t.wheelDeltaX&&(l.scrollDelta=t.wheelDeltaX/120,l.scrollAxis=input.HORIZONTAL_AXIS)):t.detail?(l.scrollDelta=-t.detail,l.scrollAxis="axis"in t?t.axis==t.VERTICAL_AXIS?input.VERTICAL_AXIS:input.HORIZONTAL_AXIS:input.VERTICAL_AXIS):t.wheelDelta&&(l.scrollDelta=(window.opera?1:-1)*t.wheelDelta/120,l.scrollAxis=input.VERTICAL_AXIS)),input.dispatchEvent(this._rootView,l)}}}});',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/inputDialog.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/inputDialog.js",friendlyPath:".inputDialog",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/",filename:"inputDialog.js",src:'jsio("import device"),jsio("from util.browser import $"),jsio("import ...ui.keyboardTypes as keyboardTypes"),jsio("import .dom"),exports.show=function(t,e){new InputDialog(t,e)};var css={classes:{base:"timestep-native-dialog",dialog:"dialog",title:"title",hasMessage:"has-message",message:"message",buttons:"buttons",input:"input"},getStylesheet:function(){var t=dom.getCSSPrefix();return new dom.Stylesheet("."+this.classes.base).add("","position: absolute; width: 100%; height: 100%; top: 0px; left: 0px; z-index: 9999999; background: rgba(0, 0, 0, 0.5);").add("*",t+"box-sizing: border-box; font: 12px Helvetica").add("."+this.classes.dialog,"position: absolute; color: #444; background: rgba(255, 255, 255, 0.93); border-radius: 5px; text-align: left; "+t+"box-shadow: 0px 3px 40px rgba(0, 0, 0, 0.2)").add("."+this.classes.hasMessage,"margin-bottom: 16px").add("."+this.classes.title,"padding: 16px; font-weight: bold; overflow: hidden; text-overflow: ellipsis; white-space: nowrap").add("."+this.classes.message,"padding: 0px 16px; color: #888").add("."+this.classes.buttons,"margin: 16px 0px 0px 0px; height: 34px; border-top: 1px solid #CCC").add("."+this.classes.input,"padding: 0px 8px").add("button","position: relative; border: 0px; margin: 0px; width: 50%; height: 100%; cursor: pointer; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; font-weight: bold; background: transparent; outline: none").add("button:active","background: #FFF").add("button:first-child","border-bottom-left-radius: 5px").add("button:last-child","border-bottom-right-radius: 5px").add("button:only-child","width: 100%; border-bottom-right-radius: 5px").add("button:nth-child(2):before",\'content:""; position: absolute; left: 0px; top: 0px; width: 1px; height: 100%; border-left: 1px solid #CCC\').add("input","margin: 0px; border: 1px solid #ccc; padding: 4px 8px; text-align: left; width: 100%")},sizeAndPositionDialog:function(t,e){var s=device.devicePixelRatio,i=$.size(window);e.style.overflow="auto",e.style.maxHeight=Math.min(200*s,Math.floor(i.height/3))+"px",t.style.maxWidth=Math.min(300*s,Math.floor(i.width-40))+"px",t.style.left=Math.max(0,(i.width-t.offsetWidth)/2)+"px",t.style.top=Math.max(0,(i.height-t.offsetHeight)/2)+"px"}},dialogStylesheet,InputDialog=__class__,InputDialog=InputDialog(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,e){var s=e.defaultBrowserStyles;!dialogStylesheet&&s&&(dialogStylesheet=css.getStylesheet().scale(device.devicePixelRatio).insert()),!e.okText&&!e.cancelText&&(e.okText="ok"),this._buttons=[],e.cancelText&&this._createButton(e.cancelText,e.onCancel),e.okText&&this._createButton(e.okText,e.onSubmit),e.isPassword&&(e.keyboardType="password"),this._createInputField(e.value,e.keyboardType,e.onChange);var i=$({className:e.message&&s&&css.classes.hasMessage,children:[{className:s&&css.classes.title,text:e.title},{className:e.message&&s&&css.classes.message,text:e.message}]}),o=$({className:s&&css.classes.dialog,children:[i,{className:s&&css.classes.input,children:[this._input]},{className:s&&css.classes.buttons,children:this._buttons}]});this._el=$({parent:document.body,className:s&&css.classes.base,children:[o]}),$.onEvent(this._el,device.events.move,function(t){for(var e=t.target;e&&e!=document.body;){if(e==o)return;e=e.parentNode}t.preventDefault()}),s&&css.sizeAndPositionDialog(o,i),e.autoFocus&&this._input.focus(),e.onShow&&e.onShow(o)},this.close=function(){$.remove(this._el)},this._createButton=function(t,e){var s=$({tag:"button",text:t,attrs:{noCapture:!0}});$.onEvent(s,device.events.end,function(){this.close(),e&&e&&e(this.getValue())}.bind(this)),this._buttons.push(s)},this._createInputField=function(t,e,s){if(e=$({tag:"input",value:t,attrs:{noCapture:!0,type:keyboardTypes.getHTMLType(e)}}),s){void 0===t&&(t="");var i=function(e){var i=this.getValue();t!==i&&(t=i,s(i,e))}.bind(this);$.onEvent(e,"keyup",i),$.onEvent(e,"change",i)}this._input=e},this.getValue=function(){return this._input&&this._input.value}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/keyboardTypes.js":{path:"modules/devkit-core/modules/timestep/src/ui/keyboardTypes.js",friendlyPath:"...ui.keyboardTypes",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"keyboardTypes.js",src:'jsio("import device"),exports.nativeTypes={Default:0,NumbersAndPunctuation:2,URL:3,NumberPad:4,PhonePad:5,EmailAddress:7,DecimalPad:8,url:3,number:device.isIOS?2:4,tel:5,email:7},exports.htmlTypes={Default:"text",NumbersAndPunctuation:"number",URL:"url",NumberPad:"number",PhonePad:"tel",EmailAddress:"email",DecimalPad:"number",number:"number",url:"url",tel:"tel",email:"email",date:"date",time:"time",datetime:"datetime",month:"month"},exports.types={};for(var type in exports.nativeTypes)exports.types[type.toLowerCase()]=exports.nativeTypes[type];for(type in exports.htmlTypes)exports.htmlTypes[type.toLowerCase()]=exports.htmlTypes[type];exports.has=function(e){return e.toLowerCase()in exports.types},exports.getNativeType=function(e){return exports.types[e.toLowerCase()]||0},exports.getHTMLType=function(e){return exports.htmlTypes[e.toLowerCase()]||e};',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/dom.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/dom.js",friendlyPath:".dom",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/",filename:"dom.js",src:'jsio("from util.browser import $");var _cssPrefix;exports.getCSSPrefix=function(){if(void 0===_cssPrefix){var t=window.getComputedStyle(document.documentElement,"");_cssPrefix=""===t.OLink?"-o-":(t=Array.prototype.join.call(t,"").match(/-(moz|webkit|ms)-/))?"-"+t[1]+"-":""}return _cssPrefix},exports.Stylesheet=__class__,exports.Stylesheet=exports.Stylesheet(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){this._base=t?t+" ":"",this._rules=[]},this.add=function(t,e){return this._rules.push({selector:t,value:e}),this},this.scale=function(t){return this._rules.forEach(function(e){e.value=e.value.replace(/([^;:]+:)(.*?)(;|$)/g,function(e,s,i,r){return/border(?!.*?radius)/.test(s)?e:s+i.replace(/\\d\\S*px/g,function(e){var s=parseFloat(e);return isNaN(s)?e:parseFloat(s)*t+"px"})+r})}),this._el&&this.insert(),this},this.getValue=function(){return this._rules.map(function(t){return this._base+t.selector+"{"+t.value+"}"},this).join("")},this.insert=function(){this._el||(this._el=$({parent:document.getElementsByTagName("head")[0],tag:"style"})),$.setText(this._el,this.getValue())}});',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/KeyListener.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/KeyListener.js",friendlyPath:".KeyListener",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/",filename:"KeyListener.js",src:'jsio("import lib.PubSub as PubSub"),jsio("import lib.Enum"),jsio("import event.input.keys as keyConstants"),jsio("import device"),jsio("import timer"),jsio("from util.browser import $");var gListenerSingleton=null,gCancelKeys=lib.Enum(keyConstants.SPACE,keyConstants.LEFT,keyConstants.RIGHT,keyConstants.UP,keyConstants.DOWN),Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_platforms_browser_KeyListener=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_platforms_browser_KeyListener(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){return gListenerSingleton?gListenerSingleton:(gListenerSingleton=this,this._el=t=t||document,this._events=[],this._shortcuts=[],this._isEnabled=!0,this._keyMap={},$.onEvent(t,"keydown",this,"onKeyDown"),$.onEvent(t,"keypress",this,"onKeyPress"),$.onEvent(t,"keyup",this,"onKeyUp"),void $.onEvent(window,"blur",this,"liftAll"))},this.setEnabled=function(t){this._isEnabled=t},this.captureShortcut=function(t){this._shortcuts.push(t)},this.getPressed=function(){return this._keyMap},this.onKeyDown=function(t){if(this._isEnabled){var e={code:t.keyCode,ctrl:t.ctrlKey,shift:t.shiftKey,alt:t.altKey,meta:t.metaKey,lifted:!1,dt:timer.getTickProgress()};if(e.ctrl||e.shift||e.alt||e.meta){for(var s,i=!1,n=0;s=this._shortcuts[n];++n)s.compare(e)&&(s.publish("Down",e),i=!0);i&&$.stopEvent(t)}else $.stopEvent(t),t.keyCode in this._keyMap||(this._events.push(e),this._keyMap[t.keyCode]=+new Date)}},this.liftAll=function(){var t,e=timer.getTickProgress();for(t in this._keyMap)this._events.push({code:t,lifted:!0,dt:e});this._keyMap={}},this.onKeyUp=function(t){var e=timer.getTickProgress();delete this._keyMap[t.keyCode],this._events.push({code:t.keyCode,lifted:!0,dt:e}),$.stopEvent(t)},this.onKeyPress=function(t){this._isEnabled&&t.keyCode in gCancelKeys&&$.stopEvent(t)},this.peekEvents=function(){return this._events},this.popEvents=function(){return this._events.splice(0,this._events.length)}}),merge(exports.prototype,keyConstants),exports.Shortcut=__class__,exports.Shortcut=exports.Shortcut(function(){return this.init&&this.init.apply(this,arguments)},PubSub,function(){this.init=function(t,e,s,i,n){this.ctrl=!!e,this.shift=!!s,this.alt=!!i,this.meta=!!n,this.code=!!t},this.compare=function(t){return this.ctrl==t.ctrl&&this.alt==t.alt&&this.meta==t.meta&&this.shift==t.shift&&this.code==t.code}});',
pre:!0},"modules/devkit-core/modules/timestep/src/event/input/keys.js":{path:"modules/devkit-core/modules/timestep/src/event/input/keys.js",friendlyPath:"event.input.keys",directory:"modules/devkit-core/modules/timestep/src/event/input/",filename:"keys.js",src:"exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,BREAK:19,CAPS:20,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,META_LEFT:91,WIN_LEFT:91,META_RIGHT:92,WIN_RIGHT:92,SELECT:93,EQUAL:187,MINUS:189,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,MUTE:173,VOL_DOWN:174,VOL_UP:175,FORWARD:176,BACK:177,STOP:178,PLAY_PAUSE:179};",pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/MobileBrowserAPI.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/MobileBrowserAPI.js",friendlyPath:".MobileBrowserAPI",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/",filename:"MobileBrowserAPI.js",src:'jsio("import lib.PubSub"),jsio("import device"),jsio("from util.underscore import _");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_platforms_browser_MobileBrowserAPI=__class__,AudioAPI=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_platforms_browser_MobileBrowserAPI(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(e){var i={oneChannelOnly:device.isMobileBrowser,compiledFilename:"compiled"};this.init=function(t){t=merge(t,i),e(this,"init",[t]),this._opts=t,this._map=t.map,this._audios={},this.oneChannelOnly=t.oneChannelOnly,setInterval(bind(this,"_ontimeupdate"),200),this.oneChannelOnly||_.each(t.background,function(e){t.map[e]={name:e}},this),this._load(),this.oneChannelOnly&&(this._boundLoadHandler=bind(this,"_playFirst"),document.body.addEventListener(device.events.start,this._boundLoadHandler,!0)),window.addEventListener("pagehide",bind(this,"pause"),!1)},this._createChannel=function(e,i){var t=new Audio(i);this._audios[e]=t,t.addEventListener("error",bind(this,"_onerror")),t.addEventListener("timeupdate",bind(this,"_ontimeupdate")),t.load()},this.setMuted=function(e){(this.muted=e)&&this.setVolume(0)},this.setVolume=function(e){_.each(this._audios,function(i){i.volume=e})},this.unload=function(){this.pause(),_.each(this._audios,function(e){e.src=""},this)},this._load=function(){this._audios={};var e=this._opts.path.replace(/\\/$/,"");if(this.oneChannelOnly)this._createChannel("AUDIO",e+"/"+this._opts.compiledFilename+".m4a");else for(var i in this._map)this._map.hasOwnProperty(i)&&"SILENCE"!=i&&this._createChannel(i,e+"/"+i+".mp3");logger.INFO&&console.info("INFO",".MobileBrowserAPI","now loading",this._opts.src),this._publishedReady||(this.publish("Ready"),this._publishedReady=!0)},this._playFirst=function(){document.body.removeEventListener(device.events.start,this._boundLoadHandler,!0),this._audios.AUDIO.play()},this._ontimeupdate=function(){_.each(this._audios,function(e){e.paused&&!e._pausedOnce&&(e.pause(),e._pausedOnce=!0,e._ready=!0),this.oneChannelOnly&&(!this._nowPlaying||e.currentTime>=this._nowPlaying.end)&&this.play("SILENCE")},this)},this._onerror=function(e){var i,t="";for(i in e)t+=e[i]+" ";logger.INFO&&console.info("INFO",".MobileBrowserAPI","ERROR",t)},this.canPlay=function(e){if(!this._map[e])return!1;var i=null;if(this.oneChannelOnly&&(i=this._map[e].end,e="AUDIO"),e=this._audios[e],!e)return!1;if(e._ready||!i)return!0;try{var t=e.seekable.end();return i<=t}catch(e){return logger.LOG&&console.log("LOG",".MobileBrowserAPI",e),!1}},this.play=function(e,i){if(!this.muted)if(void 0===i&&(i=1),this.canPlay(e)){var t=this._audios[this.oneChannelOnly?"AUDIO":e];try{t.paused||t.pause();var n=0;this.oneChannelOnly&&null!=this._map[e].start&&(n=this._map[e].start),t.currentTime!=n&&(t.currentTime=n),t.volume=i,t.play(),this._nowPlaying=this._map[e]}catch(e){}}else logger.INFO&&console.info("INFO",".MobileBrowserAPI","Not ready yet")},this.pause=function(){_.each(this._audios,function(e){e.pause()},this)},this.playBackgroundMusic=function(e,i){if(!this.muted){if(this.oneChannelOnly)return!1;this._backgroundSoundPlaying=e,this.play(e,i)}},this.pauseBackgroundMusic=function(){this._backgroundSoundPlaying&&this._audios[this._backgroundSoundPlaying].pause()}});',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/StatusBar.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/StatusBar.js",friendlyPath:".StatusBar",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/",filename:"StatusBar.js",src:"exports.show=function(){},exports.hide=function(){},exports.getHeight=function(){return 0};",pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/TextBox.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/TextBox.js",friendlyPath:".TextBox",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/",filename:"TextBox.js",src:'jsio("from util.browser import $");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_platforms_browser_TextBox=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_platforms_browser_TextBox(function(){return this.init&&this.init.apply(this,arguments)},function(){var t={padding:0,lineHeight:1.4,border:"none",display:"none",textAlign:"center",verticalAlign:"middle",fontSize:16,fontFamily:null,fontWeight:"",opacity:1,position:"absolute",backgroundColor:"transparent",top:0,left:0};this.init=function(e){var e=merge(e,{color:"black",height:20}),i=merge({},t);e.color&&(i.color=e.color),this._el=$({tag:e.multiLine?"textarea":"input",attrs:{type:"text"},style:i}),$.onEvent(this._el,"blur",this,"onBlur"),$.onEvent(this._el,"focus",this,"onFocus"),$.onEvent(this._el,"change",this,"onChange"),$.onEvent(this._el,"click",this,"onClick")},this.onBlur=this.onFocus=this.onChange=this.onClick=function(){},this.destroy=function(){$.remove(this._el),this._el=null},this.setApp=function(t){t==this._app&&this._el.parentNode||(this._app=t,t=t._ctx.canvas,logger.LOG&&console.log("LOG",".TextBox","setting parent",this._el),t.parentNode.appendChild(this._el))},this.change=function(){},this.click=function(){},this.selectAll=function(){this._el.focus(),this._el.select()},this.show=function(){$.show(this._el)},this.hide=function(){$.hide(this._el)},this.setValue=function(t){return this._el.value=t,this},this.setOpacity=function(t){return this._el.style.opacity=t,this},this.setType=function(t){return this._el.type=t,this},this.setVisible=function(t){return this[t?"show":" hide"]()},this.getX=function(){return parseInt(this._el.style.left)},this.getY=function(){return parseInt(this._el.style.top)},this.getWidth=function(){return this._el.offsetWidth},this.getHeight=function(){return this._el.offsetHeight},this.getValue=function(){return this._el.value},this.getOpacity=function(){return this._el.style.opacity},this.getType=function(){return this._el.type},this.getVisible=function(){return this._el.parentNode&&"block"==this._el.style.display},this.setPosition=function(t){this._el.style.top=t.y+"px",this._el.style.left=t.x+"px"},this.getPosition=function(){return{x:this.getX(),y:this.getY()}},this.setDimensions=function(t){return this._el.style.width=t.width+"px",this._el.style.height=t.height+"px",this},this.getDimensions=function(){return{width:this.getWidth(),height:this.getHeight()}}});',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/TextInput.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/TextInput.js",friendlyPath:".TextInput",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/",filename:"TextInput.js",src:'function checkTab(e){var t=e.target,l=t.selectionStart,n=t.selectionEnd;if(9==e.keyCode)if(e.preventDefault(),e.shiftKey)if(l!=n&&-1!=t.value.slice(l,n).indexOf("\\n")){for(var a=l;a&&"\\n"!=t.value.charAt(a-1);)--a;var e=t.value.slice(0,a),s=t.value.slice(n,t.value.length),a=t.value.slice(a,n).replace(RegExp("(^|\\n)"+tab,"g"),function(e){return n-=tab.length,"\\n"==e.charAt(0)?"\\n":(l-=tab.length,"")});t.value=e.concat(a).concat(s),t.selectionStart=l,t.selectionEnd=n}else{for(a=l;a&&"\\n"!=t.value.charAt(a-1);)--a;t.value.substring(a,a+tab.length)==tab&&(t.value=t.value.slice(0,a).concat(t.value.slice(a+tab.length,t.value.length)),l==n?t.selectionStart=t.selectionEnd=l-(l==a?0:tab.length):(t.selectionStart=l-(l==a?0:tab.length),t.selectionEnd=n-tab.length))}else if(l!=n&&-1!=t.value.slice(l,n).indexOf("\\n")){for(a=l;a&&"\\n"!=t.value.charAt(a-1);)--a;e=t.value.slice(0,a),s=t.value.slice(n,t.value.length),a=t.value.slice(a,n).replace(/\\n/g,function(){return n+=tab.length,"\\n"+tab}),t.value=e.concat(tab).concat(a).concat(s),t.selectionStart=l+tab.length,t.selectionEnd=n+tab.length}else{for(a=l;a&&"\\n"!=t.value.charAt(a-1);)--a;t.value=t.value.slice(0,a).concat(tab).concat(t.value.slice(a,t.value.length)),l==n?t.selectionStart=t.selectionEnd=l+tab.length:(t.selectionStart=l+tab.length,t.selectionEnd=n+tab.length)}else!e.shiftKey&&!e.metaKey&&!e.ctrlKey&&(8==e.keyCode&&t.value.slice(l-tabLength,l)==tab?(e.preventDefault(),t.value=t.value.slice(0,l-tabLength).concat(t.value.slice(l,t.value.length)),t.selectionStart=t.selectionEnd=l-tab.length):46==e.keyCode&&t.value.slice(n,n+tabLength)==tab?(e.preventDefault(),t.value=t.value.slice(0,l).concat(t.value.slice(l+tabLength,t.value.length)),t.selectionStart=t.selectionEnd=l):37==e.keyCode&&t.value.slice(l-tabLength,l)==tab?(e.preventDefault(),t.selectionStart=t.selectionEnd=l-tabLength):39==e.keyCode&&t.value.slice(l,l+tabLength)==tab&&(e.preventDefault(),t.selectionStart=t.selectionEnd=l+tabLength))}jsio("import lib.PubSub"),jsio("from util.browser import $");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_platforms_browser_TextInput=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_platforms_browser_TextInput(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){this.init=function(e){this._el=$({tag:"input",parent:document.body,style:{position:"absolute",left:"-100px",top:"-100px"},attrs:{type:"text",value:e&&e.value||""}}),this._value=this._el.value,this._selectionEnd=this._selectionStart=0,$.onEvent(this._el,"keydown",this,"checkValue"),$.onEvent(this._el,"keyup",this,"checkValue"),$.onEvent(this._el,"keypress",this,"checkValue"),$.onEvent(this._el,"focus",this,"onFocus"),$.onEvent(this._el,"blur",this,"onBlur")},this.onFocus=function(){this.publish("Focus")},this.onBlur=function(){this.publish("Blur")},this.checkValue=function(e){var t=e.target,e=t.selectionStart,t=t.selectionEnd,l=this._el.value;l!=this._value&&(this.publish("ChangeValue",l),this._value=l),e!=this._selectionStart&&(this._selectionStart=e,this.publish("ChangeSelectionStart",e)),t!=this._selectionEnd&&(this._selectionEnd=t,this.publish("ChangeSelectionEnd",t))},this.focus=function(){logger.LOG&&console.log("LOG",".TextInput","focus"),this._el.focus()},this.blur=function(){this._el.blur()}});var tab="    ",tabLength=4;Array.prototype.map.call(document.getElementsByTagName("textarea"),function(e){e.addEventListener("keydown",checkTab,!1)});',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/Timer.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/Timer.js",friendlyPath:".Timer",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/",filename:"Timer.js",src:'function sendPostMessage(){window.postMessage("timestep.TICK","*")}function sendTimeout(){setTimeout(onFrame,MIN_DT)}function sendTimeoutNow(){setTimeout(onFrame,0)}function onFrame(){if(_onTick){var e=Date.now(),i=e-(exports.last||e);exports.last=e,_onTick(i),driverId=i>MIN_DT?fastDriver.call(window,onFrame):mainDriver.call(window,onFrame)}}var _onTick=null,disableRequestAnimFrame=!1,disablePostMessage=!0,asFastAsPossible=!1,MIN_DT=16;if(window.postMessage){var postMessageCb=function(e){"timestep.TICK"==e.data&&onFrame()};window.addEventListener?window.addEventListener("message",postMessageCb,!1):window.attachEvent("onmessage",postMessageCb)}else disablePostMessage=!0,tickNow=sendTimeoutNow;var fastDriver=sendTimeoutNow,mainDriver=sendTimeout,cancelDriver,driverId;if(asFastAsPossible)disablePostMessage?mainDriver=sendTimeoutNow:fastDriver=mainDriver=sendPostMessage;else{var reqAnim=window.requestAnimationFrame,cancelAnim=window.cancelAnimationFrame,prefixes=["","webkit","moz","o","ms"];if(!disableRequestAnimFrame)for(var i=0;i<prefixes.length&&!reqAnim;++i)reqAnim=window[prefixes[i]+"RequestAnimationFrame"],cancelAnim=window[prefixes[i]+"CancelAnimationFrame"]||window[prefixes[i]+"CancelRequestAnimationFrame"];reqAnim?(fastDriver=mainDriver=reqAnim,cancelDriver=cancelAnim):disablePostMessage||(fastDriver=sendPostMessage)}exports.last=null,exports.start=function(e){_onTick=e,driverId=mainDriver.call(window,onFrame)},exports.stop=function(){_onTick=null,driverId&&(cancelDriver.call(window,driverId),driverId=null)};',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/browser/EditText.js":{path:"modules/devkit-core/modules/timestep/src/platforms/browser/EditText.js",friendlyPath:".EditText",directory:"modules/devkit-core/modules/timestep/src/platforms/browser/",filename:"EditText.js",src:'jsio("from util.browser import $"),jsio("import squill.Widget"),jsio("import device");var __keyboardIsOpen=!1,InputField=__class__,InputField=InputField(function(){return this.init&&this.init.apply(this,arguments)},squill.Widget,function(t){this._def={tag:"input",parent:document.body,style:{position:"absolute",background:"transparent",border:"none",outline:"none",zIndex:"990000",left:"0px",top:"0px"}},this.buildWidget=function(){this.initKeyEvents(),this.initFocusEvents()},this.setValue=function(t){this._prevValue=this._el.value=t},this.setCursor=function(t){this._el.selectionStart=this._el.selectionEnd=t},this.setPlaceholder=function(t){this._el.placeholder=t},this.setMaxLength=function(t){this._el.maxlength=t},this.show=function(){t(this,"show",arguments),this._el.focus()},this.onKeyUp=function(t){var e=this._el;_focused&&_focused.onChange(e.value,this._prevValue,e.selectionStart,e.selectionEnd),this._prevValue=e.value,13==t.keyCode&&_focused&&_focused.closeEditField()},this.getValue=function(){return this._el.value},this.onBlur=function(){if(this.hide(),__keyboardIsOpen){__keyboardIsOpen=!1;var t=new Event("keyboardClosed");t.height=device.screen.height,window.dispatchEvent(t)}_focused&&_focused.closeEditField(),_focused=null},this.setFontColor=function(t){this._el.style.color=t},this.setHorizontalPadding=function(t,e){this._el.style.paddingLeft=t+"px",this._el.style.paddingRight=e+"px"},this.setFontSize=function(t){this._el.style.fontSize=t+"px"},this.setFontFamily=function(t){this._el.style.fontFamily=t},this.setPosition=function(t,e,i,s){var n=this._el.style;n.top=e-1+"px",n.left=t+"px",n.width=i+"px",n.height=s+"px"}}),_input=new InputField;_input.hide();var _focused=null,Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_platforms_browser_EditText=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_platforms_browser_EditText(function(){return this.init&&this.init.apply(this,arguments)},function(){var t={hint:"",inputType:"default",maxLength:-1};this.init=function(e){this._opts=merge(e,t),this._textEditView=e.textEditView,this.onFocusChange=e.onFocusChange||function(){},this.onSubmit=e.onSubmit||function(){}},this.onChange=function(t,e,i){this._value=t,this._opts.onChange&&this._opts.onChange(t,e,i)},this.getValue=function(){return this._value},this.setValue=function(t){this._value=t,this.onChange(t)},this.requestFocus=function(t){_focused!==this&&(null!=_focused&&_focused.removeFocus(t),this.onFocusChange(!0)),_focused=this},this.closeEditField=function(t){console.log("TextEditView editText removeFocus"),null!=_focused&&_focused.removeFocus(t),this._showTextBox(),_input.hide(),__keyboardIsOpen&&(__keyboardIsOpen=!1,t=new Event("keyboardClosed"),t.height=device.screen.height,window.dispatchEvent(t))},this._hideTextBox=function(){this._textEditView._textBox.style.visible=!1},this._showTextBox=function(){this._textEditView._textBox.style.visible=!0},this.refresh=function(t,e,i,s){this._hideTextBox();var e=this._textEditView._textBox,i=this._textEditView.getPosition(),n=i.width/this._textEditView.style.width;_input.setCursor(s),_input.setValue(t),_input.setPlaceholder(this._opts.hint),_input.setMaxLength(this._opts.maxLength),_input.setFontColor(this._opts.color),_input.setHorizontalPadding(this._opts.paddingLeft*n,this._opts.paddingRight*n),_input.setFontSize(e.getOpts().size*n),_input.setFontFamily(e.getOpts().fontFamily),_input.setPosition(i.x,i.y,i.width,i.height),_input.show(),__keyboardIsOpen||(__keyboardIsOpen=!0,t=new Event("keyboardOpened"),t.height=.6*device.screen.height,window.dispatchEvent(t))},this.hasFocus=function(){return this==_focused},this.removeFocus=function(t){this.onFocusChange(!1),t||this.onSubmit(_input.getValue()),_focused==this&&(_focused=null)},this.setHint=function(t){this._opts.hint=t}});',pre:!0},"modules/devkit-core/modules/squill/Alpha.js":{path:"modules/devkit-core/modules/squill/Alpha.js",friendlyPath:".Alpha",directory:"modules/devkit-core/modules/squill/",filename:"Alpha.js",src:'jsio("from util.browser import $"),jsio("import .Widget"),jsio("import .jscolor.jscolor as jscolor");var alphaSelect=!1,alphaIndicator,Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Alpha=__class__,Alpha=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Alpha(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(t){this._css="lph",this._type="text",this.init=function(e){e=merge(e,{tag:"input"}),t(this,"init",[e])},this.buildWidget=function(){var t=this._el;t.widget=this,$.onEvent(t,"focus",this,"_onFocus"),$.onEvent(t,"blur",this,"_onBlur"),$.onEvent(t,"change",this,"_onChange"),alphaSelect||(alphaSelect=document.createElement("div"),alphaSelect.style.display="none",alphaSelect.className="colorMenu",document.body.appendChild(alphaSelect),$.onEvent(alphaSelect,"mousedown",this,"_onSelect"),t=document.createElement("canvas"),t.width=20,t.height=100,alphaSelect.appendChild(t),$.style(t,{float:"left",width:"20px",height:"100px",margin:"8px 0 0 12px",border:"1px solid #000",borderColor:"ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow",backgroundColor:"red"}),$.onEvent(t,"mousedown",this,"_onMouseDown"),$.onEvent(t,"mousemove",this,"_onMouseMove"),$.onEvent(t,"mouseup",this,"_onMouseUp"),$.onEvent(t,"mouseout",this,"_onMouseOut"),alphaIndicator=document.createElement("img"),alphaIndicator.src="img/colorpicker/arrow.gif",alphaSelect.appendChild(alphaIndicator),$.style(alphaIndicator,{position:"absolute",left:"4px",top:"2px",border:"0px hidden"}),t=t.getContext("2d"),linearGradient=t.createLinearGradient(0,0,0,100),linearGradient.addColorStop(0,"#FFFFFF"),linearGradient.addColorStop(1,"#000000"),t.fillStyle=linearGradient,t.fillRect(0,0,20,100))},this._showIndicator=function(t){return 0>t&&(t=0),100<t&&(t=100),$.style(alphaIndicator,{position:"absolute",left:"4px",top:2+t+"px",border:"0px hidden"}),t},this._showMouseAlpha=function(t){alphaSelect.target.value=100-this._showIndicator(t.offsetY),alphaSelect.widget.publish("Change",parseInt(alphaSelect.target.value,10))},this._onChange=function(){var t=this._el.value;isNaN(t)||(t=parseInt(t,10),0<=t&&100>=t&&alphaSelect.widget.publish("Change",t))},this._onFocus=function(t){var e=this._el.getBoundingClientRect(),o=e.right+4,i=e.top;i+122>window.innerHeight&&(i=e.bottom-122),o+44>window.innerWidth&&(o=e.left-48),$.style(alphaSelect,{position:"absolute",width:"44px",height:"122px",zIndex:"1000000",left:o+"px",top:i+"px",display:"block"}),alphaSelect.widget=t.target.widget,alphaSelect.target=t.target,this._showIndicator(100-(isNaN(alphaSelect.target.value)?0:parseInt(alphaSelect.target.value,10)))},this._onBlur=function(){alphaSelect.style.display="none"},this._onSelect=function(t){$.stopEvent(t)},this._onMouseDown=function(t){$.stopEvent(t),this._showMouseAlpha(t),this._mouseDown=!0},this._onMouseMove=function(t){this._mouseDown&&this._showMouseAlpha(t),$.stopEvent(t)},this._onMouseOut=function(t){this._mouseDown=!1,$.stopEvent(t)},this._onMouseUp=function(t){this._mouseDown=!1,$.stopEvent(t)},this.setValue=function(t){this._el.value=t},this.getValue=function(){return this._el.value}});',pre:!0},"modules/devkit-core/modules/squill/Widget.js":{path:"modules/devkit-core/modules/squill/Widget.js",friendlyPath:"squill.Widget",directory:"modules/devkit-core/modules/squill/",filename:"Widget.js",src:'function shallowCopy(t){var e,i={};for(e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}jsio("from util.browser import $"),jsio("import .Element, .Events, .global"),jsio("import .i18n"),jsio("import .Delegate"),jsio("import .models.Model as Model"),jsio("import .models.bindings as bindings"),jsio("import .transitions"),jsio("from .__imports__ import classes as WIDGET_CLASSES");var uid=0,WidgetSet=__class__,WidgetSet=WidgetSet(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){this._target=t,this.events=[]},this.getTarget=function(){return this._target},this.hasWidget=function(t){return!!this._target[t]},this.addWidget=function(t,e){this._target[t]=e},this.addSubscription=function(t,e){this._target.dispatchEvent&&t.subscribe.apply(t,[e,this._target,"dispatchEvent",t.getId()].concat(Array.prototype.slice.call(arguments,2)))}}),modules_devkit_core_modules_squill_Widget=__class__,Widget=exports=modules_devkit_core_modules_squill_Widget(function(){return this.init&&this.init.apply(this,arguments)},[Element,Events],function(){function t(t){t=$.id(t),t.parentNode.insertBefore(this._el,t),t.parentNode.removeChild(t)}this._css="widget",this._name="",this.__getDef__=function(){function t(t){for(var e in t)"attrs"==e||"style"==e?i[e]=merge(i[e],t[e]):"className"==e&&i.className?i.className=t.className+" "+i.className:"children"==e?i.children?i.children.push(t.children):i.children=[t.children]:i.hasOwnProperty(e)||(i[e]=t[e])}var e=this.constructor,i={};do e.prototype.hasOwnProperty("_def")&&t(e.prototype._def);while(e=e.prototype.__parentClass__);return this.hasOwnProperty("_def")&&t(this._def),i},this.init=function(t){t=t||{},this._children=[];var e=this._def=this.__getDef__();this._id=e.id,this.__model=new Model(t.model||e.model),e.className&&(t.className=t.className?t.className+" "+e.className:e.className),e.attrs&&(t.attrs=merge(t.attrs,e.attrs)),e.style&&(t.style=merge(t.style,e.style)),this._opts=t;for(var i in e)"children"!=i&&!t.hasOwnProperty(i)&&e.hasOwnProperty(i)&&(t[i]=e[i]);t.name&&(this._name=t.name),t.delegate&&(this.delegate=t.delegate);var s;t.widgetParent&&(s=t.widgetParent),this.controller=t.controller||s,t.parent&&(e=t.parent,e instanceof Widget?(s||(s=t.parent),t.parent=e.getContainer()):e.appendChild||delete t.parent),s?s.addWidget(this):(t.parent||t.el)&&this.build(t.el)},this.getOpts=function(){return this._opts},this.getId=function(){return this._id||this._el&&this._el.id},this.build=function(t){if(!this._el||this._el!=t){var t=this._opts,e=t.children;e&&delete t.children,this._el=$.create(this._opts),e&&(t.children=e),this.buildContent()}return this},this.getParent=function(){return this._el&&this._el.parentNode},this.getWidgetParent=function(){return this._widgetParent},this.setWidgetParent=function(t){this._widgetParent!=t&&(this._widgetParent.removeWidget(this),t.addWidget(this),this._widgetParent=t)},this.getChildren=function(){return this._children},this.forEachDescend=function(t,e){for(var i=this._children.length,s=0;s<i;++s){var n=this._children[s];t.call(e,n),n.forEachDescend&&n.forEachDescend(t,e)}},this.getFirstChild=function(){return this._children&&this._children.length?this._children[0]:null},this.dispatchEvent=function(t,e){this.delegate.apply(this,arguments)},this.addElement=function(t){this._el.appendChild(t)},this.addChild=this.addWidget=function(t,e,i){if(this._el||this.build(),e=t.parent||e||this.getContainer()||this._el,!(t instanceof Widget)){var s=merge({},t,{parent:e,__result:i});if(s.children){var n=s.children;delete s.children}"type"in s&&!s.type&&logger.WARN&&console.warn("WARN","squill.Widget","Did you forget to provide a type?",s),s.type&&"string"!=typeof s.type?t=new s.type(s):WIDGET_CLASSES[s.type]?t=new(jsio("import "+WIDGET_CLASSES[s.type]))(s):i?("image"==s.type&&(s=merge({tag:"img"},s)),t=$(s)):t=new Widget(s),i&&s.id&&!i.hasWidget(s.id)&&i.addWidget(s.id,t)}if(t instanceof Widget&&(t.getWidgetParent()!=this&&((s=t.getWidgetParent())&&s.removeWidget(this),t._widgetParent=this,t.controller||(t.controller=this),this._children.push(t)),t.getParent()!=e&&t.setParent(e)),n)if(t.buildChildren)i||(i=new WidgetSet(t)),t.buildChildren(n,null,i);else for(e=0;s=n[e];++e)this.addWidget(s,t,i);return t},this.removeChild=function(t){t.remove&&t.remove(),this.removeWidget(t)},this.removeWidget=function(t){t=this._children.indexOf(t),0<=t&&this._children.splice(t,1)},this.getContainer=function(){return this._el},this.getName=function(){return this._name},this.setName=function(t){this._name=t},this.buildContent=function(){var t=this._opts;null!==global.getWidgetPrefix()&&$.addClass(this._el,global.getWidgetPrefix()+this._css),this.delegate||(this.delegate=new Delegate),t.errorLabel&&(this._errorLabel=$.create({html:t.errorLabel,className:global.getWidgetPrefix()+"textInputErrorLabel",parent:this._el}));var e=this._def;if(e.children)for(var i=new WidgetSet(this),s=e.children.length-1;0<=s;--s)this.buildChildren(e.children[s],null,i);e=t.__result||i||new WidgetSet(this),t.children&&this.buildChildren(t.children,null,e),t.data&&this.setData&&bindings.parseData(this,t.data),this.buildWidget(this._el,e)},this.buildChildren=function(t,e,i){e||(e=this.getContainer()||this._el);for(var s=0,n=t.length;s<n;++s)this.addWidget(t[s],e,i)},this.buildWidget=function(){},this.errors=function(){return this.validators.map(function(t){if(0==t.isValid)return t.message})},this.validate=function(){for(var t=!0,e=0,i=this.validators.length;e<i;++e)var s=this.validators[e],t=t&&(s.isValid=s.call(this));return this._isValid=t},this._isValid=!0,this.isValid=function(){return this._isValid},this.validators=[],this.getI18n=function(t,e){var i=t in this._opts?this._opts:i18n.get(e||this._opts.id);return i&&i[t]||""},this.getElement=function(){return this._el||this.build(),this._el},this.addClass=function(t){$.addClass(this._el,t)},this.removeClass=function(t){$.removeClass(this._el,t)},this.hasClass=function(t){return 0<=(" "+this._el.className+" ").indexOf(t)},this.toggleClass=function(t,e){void 0===e&&(e=!this.hasClass(t)),e?this.addClass(t):this.removeClass(t)},this.onBeforeShow=function(){for(var t,e=0;t=this._children[e];++e)t.onBeforeShow.apply(t,arguments)},this.onShow=function(){this._isShowing=!0;for(var t,e=0;t=this._children[e];++e)t.onShow.apply(t,arguments)},this.onBeforeHide=function(){for(var t,e=0;t=this._children[e];++e)t.onBeforeHide.apply(t,arguments)},this.onHide=function(){this._isShowing=!1;for(var t,e=0;t=this._children[e];++e)t.onHide.apply(t,arguments)},this.isShowing=function(){return"beforeVisible"==this._visibleState||"visible"==this._visibleState},this.show=function(){this._visibleState="beforeVisible";var t=this.getElement(),t=new(this._opts.hideTransition||transitions.CSSTransition)({target:t});return this.onBeforeShow&&t.on("start",bind(this,"onBeforeShow")),t.on("start",bind(this,function(){var t=this._opts&&this._opts.style,t=t&&"none"!=t.display&&t.display||"";this._el&&"beforeVisible"==this._visibleState&&(this._el.style.display=t,"none"==getComputedStyle(this._el,"display")&&(this._el.style.display="block"),this._visibleState="visible")})),this.onShow&&t.on("end",bind(this,"onShow")),t},this.hide=function(){this._visibleState="beforeHidden";var t=this.getElement(),e=new(this._opts.hideTransition||transitions.CSSTransition)({target:t});return this.onBeforeHide&&e.on("start",bind(this,"onBeforeHide")),e.on("end",bind(this,function(){"beforeHidden"==this._visibleState&&$.hide(t)})),this.onHide&&e.on("end",bind(this,"onHide")),e},this.removeChildren=function(){this._children.forEach(function(t){t.remove()})},this.remove=function(){this.onBeforeHide(),$.remove(this.getElement()),this.onHide()},this.getModel=function(){return this.__model},this.setModel=function(t,e){return 1==arguments.length?this.__model.setObject(t):this.__model.set(t,e),this},this.putHere=function(){this._el||this.build();var e="jsioWidgetId"+ ++uid;return global.getTargetDocument().write(\'<div id="\'+e+\'"></div>\'),setTimeout(bind(this,t,e),0),this},this.appendTo=this.setParent=function(t){return(t=t&&(t.getContainer&&t.getContainer()||t.appendChild&&t||$.id(t)))&&(this._el?t.appendChild(this._el):(this._opts.parent=t,this.build())),this}}),map={},lowerCaseMap={};Widget.register=function(t,e){if(e in map)throw Error("A widget with name \'"+e+"\' is already registered");map[e]=t,lowerCaseMap[e.toLowerCase()]=t},Widget.get=function(t){return lowerCaseMap[t.toLowerCase()]},Widget.WidgetSet=WidgetSet;',pre:!0},"modules/devkit-core/modules/squill/Element.js":{path:"modules/devkit-core/modules/squill/Element.js",friendlyPath:".Element",directory:"modules/devkit-core/modules/squill/",filename:"Element.js",src:'jsio("import lib.PubSub"),jsio("from util.browser import $");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Element=__class__,Element=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Element(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){this.init=function(t){this._opts=JS.merge(t,{win:window,tag:"div"})},this.build=function(){return this._el||(this._opts.el?(this._el=this._opts.el,$.apply(this._el,this._opts)):this._el=$.create(this._opts),this.buildContent()),this},this.getId=function(){return this._el&&this._el.id||this._opts&&this._opts.id},this.buildContent=function(){},this.destroy=function(){},this.getElement=function(){return this._el||this.build()._el},this.appendChild=function(t){return this._el||this.build(),this._el.appendChild(t instanceof Element?t._el:t),this},this.appendTo=function(t){return this._el||this.build(),t instanceof Element?t.appendChild(this):t.appendChild(this._el),this},this.setPos=function(t,i){this._el.style.x=t+"px",this._el.style.y=i+"px"},this.center=function(){var t=$(window);this.setPos(Math.max(0,t.width-this._el.offsetWidth)/2,Math.max(0,t.height-this._el.offsetHeight)/2)},this.remove=function(){$.remove(this._el)}});',pre:!0},"modules/devkit-core/modules/squill/Events.js":{path:"modules/devkit-core/modules/squill/Events.js",friendlyPath:".Events",directory:"modules/devkit-core/modules/squill/",filename:"Events.js",src:'jsio("from util.browser import $"),jsio("import .Drag"),jsio("import lib.PubSub");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Events=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Events(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){var t=Array.prototype.slice,s=/(iPod|iPhone|iPad|Android)/i.test(navigator.userAgent);this.event=function(s,i,n){this._eventEnabled||(this._eventEnabled={});var e=[this,n].concat(t.call(arguments,3)),n=bind.apply(this,e),o=this._eventEnabled;o[i]=!0,$.onEvent(s,i,function(){if(o[i])return n.apply(this,arguments)})},this.isDragging=function(){return this._isDragging||!1},this.initDragEvents=function(t){if(!this.__drag){var s=this.__drag=new Drag;s.subscribe("DragStart",this,"onDragStart"),s.subscribe("Drag",this,"onDrag"),s.subscribe("DragStop",this,"onDragStop")}s=bind(this.__drag,"startDrag"),t||(t=this._el),t.addEventListener&&t.addEventListener("touchstart",s,!0),$.onEvent(t,"mousedown",s)},this.initMouseEvents=function(t){return t=t||this._el,s?(this.event(t,"touchstart","_onTouchStart"),this.event(t,"touchend","_onTouchEnd")):(this.event(t,"mouseover","onMouseOver"),this.event(t,"mousemove","onMouseMove"),this.event(t,"mouseout","onMouseOut"),this.event(t,"mousedown","onMouseDown"),this.event(t,"mouseup","onMouseUp"),this.event(t,"click","onClick")),(t=this._opts)&&t.__result&&t.__result.addSubscription(this,"Select"),this},this.initFocusEvents=function(t){return t=t||this._el,this.event(t,"focus","onFocus"),this.event(t,"blur","onBlur"),this},this.initKeyEvents=function(t){return t=t||this._el,this.event(t,"keydown","onKeyDown"),this.event(t,"keypress","onKeyPress"),this.event(t,"keyup","onKeyUp"),this},this._onTouchStart=function(t){this.onMouseOver(t),this.onMouseDown(t)},this._onTouchEnd=function(t){this.onMouseUp(t),this.onClick(t),this.onMouseOut(t)},this.onMouseOver=function(t){this._enableMouseEvents||(this._isOver=!0),this.publish("Over",t)},this.onMouseMove=function(t){this._enableMouseEvents||this.publish("Move",t)},this.onMouseOut=function(t){this._isOver=!1,this.publish("Out",t)},this.onMouseDown=function(t){return this._isDown=!0,this.publish("Down",t),!1},this.onMouseUp=function(t){return this._isDown=!1,this.publish("Up",t),!1},this.onClick=function(t){return this.publish("Select",t),this.emit("click",t),!1},this.onFocus=function(t){this._isFocused=!0,this.publish("Focus",t)},this.onBlur=function(t){this._isFocused=!1,this.publish("Blur",t)},this.onKeyUp=function(t){this.publish("KeyUp",t)},this.onKeyPress=function(t){this.publish("KeyPress",t)},this.onKeyDown=function(t){this.publish("KeyDown",t)},this.onDragStart=function(){},this.onDrag=function(){},this.onDragStop=function(){}});',
pre:!0},"modules/devkit-core/modules/squill/Drag.js":{path:"modules/devkit-core/modules/squill/Drag.js",friendlyPath:".Drag",directory:"modules/devkit-core/modules/squill/",filename:"Drag.js",src:'function resolveMouse(t){if(t.touches)return resolveMouse(t.touches[0]);if("pageX"in t)gCurrentMouse.x=t.pageX,gCurrentMouse.y=t.pageY;else{var e=document.documentElement,r=document.body;gCurrentMouse.x=t.clientX+(e&&e.scrollLeft||r&&r.scrollLeft||0)-(e&&e.clientLeft||r&&r.clientLeft||0),gCurrentMouse.y=t.clientY+(e&&e.scrollTop||r&&r.scrollTop||0)-(e&&e.clientTop||r&&r.clientTop||0)}}function gAddItem(t){gRemoveItem(t),gCurrentDrag.push(t),_active=!0}function gRemoveItem(t){for(var e=0;e<gCurrentDrag.length;++e)gCurrentDrag[e]==t&&(gCurrentDrag.splice(e,1),--e);gCurrentDrag[0]||(_active=!1)}function onMove(t){if(_active){resolveMouse(t);for(var e=0;e<gCurrentDrag.length;++e)gCurrentDrag[e].onMouseMove(t)}}function onUp(t){if(_active)for(var e=0;e<gCurrentDrag.length;++e)gCurrentDrag[e].onMouseUp(t)}function registerWindow(t){var e=t.document;"ontouchstart"in t?(e.addEventListener("touchstart",resolveMouse,!0),e.addEventListener("touchmove",onMove,!0),e.addEventListener("touchend",onUp,!0)):(e.addEventListener("mousedown",resolveMouse,!0),e.addEventListener("mousemove",onMove,!0),e.addEventListener("mouseup",onUp,!0))}jsio("import lib.PubSub"),jsio("import math.geom.Point as Point"),jsio("from util.browser import $");var gCurrentDrag=[],gCurrentMouse={x:0,y:0},_active=!1,Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Drag=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Drag(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){this.init=function(){this._isActive=!1},this.isDragging=function(){return this._isActive},this.startDrag=function(t,e){var r=this._evt=new exports.DragEvent;this._evt.data=e,this._evt.params=merge(t,{threshold:5}),r.srcPt=new Point(gCurrentMouse),r.currPt=new Point(gCurrentMouse),gAddItem(this)},this.onMouseMove=function(t){var e=this._evt,r=Point.subtract(gCurrentMouse,e.srcPt);!this._isActive&&r.getMagnitude()>e.params.threshold&&(this._isActive=!0,this.disableIframes(t.target&&(t.target.ownerDocument||9==t.target.nodeType&&t.target)),this.publish("DragStart",e)),this._isActive&&($.stopEvent(t),e.prevPt=e.currPt,e.currPt=new Point(gCurrentMouse),this.publish("Drag",e,t,Point.subtract(e.currPt,e.prevPt)))},this.onMouseUp=function(t){if(gRemoveItem(this),this._isActive)return $.stopEvent(t),this._isActive=!1,this.enableIframes(),this.publish("DragStop",this._evt,t),!0},this.disableIframes=function(t){this._disabledFrames||(this._disabledFrames=[]),$("iframe",t).forEach(function(t){try{this._disabledFrames.push({frame:t,pointerEvents:t.style.pointerEvents}),t.style.pointerEvents="none"}catch(t){}},this)},this.enableIframes=function(){this._disabledFrames.splice(0,this._disabledFrames.length).forEach(function(t){t.frame.style.pointerEvents=t.pointerEvents})}}),exports.registerWindow=registerWindow,exports.DragEvent=__class__,exports.DragEvent=exports.DragEvent(function(){return this.init&&this.init.apply(this,arguments)},function(){});var win=window;for(registerWindow(win);win.parent!=win;){win=win.parent;try{registerWindow(win)}catch(t){}}',pre:!0},"modules/devkit-core/modules/squill/global.js":{path:"modules/devkit-core/modules/squill/global.js",friendlyPath:".global",directory:"modules/devkit-core/modules/squill/",filename:"global.js",src:'var gWidgetPrefix="squill-",gWin=window,gDoc=document;exports.setTargetWindow=function(e){gWin=e,gDoc=e.document},exports.getTargetWindow=function(){return gWin},exports.getTargetDocument=function(){return gDoc},exports.setWidgetPrefix=function(e){gWidgetPrefix=e},exports.getWidgetPrefix=function(){return gWidgetPrefix};',pre:!0},"modules/devkit-core/modules/squill/i18n.js":{path:"modules/devkit-core/modules/squill/i18n.js",friendlyPath:".i18n",directory:"modules/devkit-core/modules/squill/",filename:"i18n.js",src:"var gLang=null;exports.setLang=function(t){gLang=t},exports.get=function(t){return gLang&&gLang.get(t)},exports.Language=__class__,exports.Language=exports.Language(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){this._dict=t},this.add=function(t,n){this._dict[t]=n},this.get=function(t){return this._dict[t]}});",pre:!0},"modules/devkit-core/modules/squill/Delegate.js":{path:"modules/devkit-core/modules/squill/Delegate.js",friendlyPath:".Delegate",directory:"modules/devkit-core/modules/squill/",filename:"Delegate.js",src:"var SLICE=Array.prototype.slice,Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Delegate=__class__,Delegate=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Delegate(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){t&&t(this)},this.extend=function(t){return t=new Delegate(t),t.parent=this,t},this.call=function(t,e){return this[e]?this[e].apply(t,SLICE.call(arguments,2)):this.parent?this.parent.apply(t,SLICE.call(arguments,1)):void 0},this.apply=function(t,e){this.call.apply(this,[t].concat(SLICE.call(e)))}});",pre:!0},"modules/devkit-core/modules/squill/models/Model.js":{path:"modules/devkit-core/modules/squill/models/Model.js",friendlyPath:".models.Model",directory:"modules/devkit-core/modules/squill/models/",filename:"Model.js",src:'jsio("import lib.PubSub");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_models_Model=__class__,Model=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_models_Model(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(t){function e(t){return t.split(s).map(function(t){return"]"==t[t.length-1]?parseInt(t):t})}this.init=function(t){var e;if(t instanceof Model&&(e=t,t={localStorage:e._storageKey},e=e._data),this._data={},t&&t.localStorage&&(this._storageKey=t.localStorage,void 0===e)){var s=localStorage.getItem(this._storageKey);if(s)try{e=JSON.parse(s)}catch(t){}}this.setObject(e||{}),t&&(t.values&&Object.keys(t.values).forEach(function(e){this.set(e,t.values[e])},this),t.defaults&&Object.keys(t.defaults).forEach(function(e){this.has(e)||this.set(e,t.defaults[e])},this))},this.setObject=function(t){return this._data=t,this.emit(),this.persist(),this},this.toObject=function(){return JSON.parse(JSON.stringify(this._data))},this.clone=function(){return new Model(this.getObject())};var s=/[\\[.,]/;this.has=function(t){return void 0!==this.get(t)},this.get=function(t){for(var t=e(t),s=t.length,i=0,r=this._data;r&&i<s;)r=r[t[i++]];return r},this.getObject=function(t){return t=this.get(t)||{},JSON.parse(JSON.stringify(t))},this.set=function(t,s){for(var i=e(t),r=i.length-1,o=0,n=this._data;n&&o<r;){var a=i[o++];n[a]||(n[a]="number"==typeof i[o]?[]:{}),n=n[a]}return s!=n[i[r]]&&(n[i[r]]=s,this.emit(t,s)),this.persist(),this},this.emit=function(e,s){return e&&t(this,"emit",arguments),this._subscribers&&Object.keys(this._subscribers).forEach(function(s){(!e||s!=e&&(0==s.indexOf(e)||0==e.indexOf(s)))&&t(this,"emit",[s,this.get(s)])},this),this},this.persist=function(){return this._storageKey&&localStorage.setItem(this._storageKey,JSON.stringify(this._data)),this}});',pre:!0},"modules/devkit-core/modules/squill/models/bindings.js":{path:"modules/devkit-core/modules/squill/models/bindings.js",friendlyPath:"squill.models.bindings",directory:"modules/devkit-core/modules/squill/models/",filename:"bindings.js",src:'var RE_BINDING=/(^|[^%])%\\((.*?)\\)([ +0-]?)(\\d*)(\\.?\\d*)([dfcs])/g;exports.parseFormat=function(t,i){var s=[];i.replace(RE_BINDING,function(t,i,e,n,h,u,_,d){s.push({index:d+i.length,endIndex:d+t.length,key:e,pad:n||" ",minLength:parseInt(h),decimal:parseInt(u.substring(1)),type:_,value:""})}),s.reverse(),new Binding(t,null,i,s)},exports.parseData=function(t,i){new Binding(t,i)};var Binding=__class__,Binding=Binding(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,i,s,e){var n=t.getOpts().__result,n=n&&n.getTarget()||t;this._widget=t,this._key=i,this._src=s,this._subs=e,this._connect(n.getModel()),t.on("change",bind(this,"_updateModel")),n.on("model",bind(this,"_connect"))},this._connect=function(t){this._model&&this._disconnect(),this._model=t,this._subs?(this._subs.forEach(function(i){i.value=t.get(i.key),t.subscribe(i.key,this,"_update",i.key)},this),this._update()):this._key&&(t.subscribe(this._key,this,"_updateKey"),this._updateKey(t.get(this._key)))},this._disconnect=function(){var t=this._model;this._subs&&this._subs.forEach(function(i){t.unsubscribe(i.key,this)},this),this._key&&t.unsubscribe(this._key,this)},this._update=function(t,i){var s=this._src;this._subs.forEach(function(e){t&&e.key==t&&(e.value=i),s=s.substring(0,e.index)+e.value+s.substring(e.endIndex)},this),this._widget.setData(s)},this._updateKey=function(t){this._widget.setData(t)},this._updateModel=function(t){this._model&&this._key&&this._model.set(this._key,t)}});',pre:!0},"modules/devkit-core/modules/squill/transitions.js":{path:"modules/devkit-core/modules/squill/transitions.js",friendlyPath:".transitions",directory:"modules/devkit-core/modules/squill/",filename:"transitions.js",src:'jsio("import lib.PubSub");var Transition=__class__,Transition=Transition(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){this.init=function(t){this._target=t.target,this._start=t.start,this._end=t.end,setTimeout(bind(this,"run"),0)},this.run=function(){}}),CSSTransition=__class__,CSSTransition=CSSTransition(function(){return this.init&&this.init.apply(this,arguments)},Transition,function(){this.run=function(){var t=this._target;this._start&&this._start(t),this.emit("start",this._target),(t=getComputedStyle(t).transitionDuration||0)&&(t=parseFloat(t)*(/ms/.test(t)?1:1e3)),setTimeout(bind(this,"end"),t)},this.end=function(){var t=this._target;this._end&&this._end(t),this.emit("end",t)}});exports.Transition=Transition,exports.CSSTransition=CSSTransition,exports.cssFadeIn=function(t){return new CSSTransition({target:t,start:function(t){t.style.opacity=1}})},exports.cssFadeOut=function(t){var i;return new CSSTransition({target:t,start:function(t){i=t.style.pointerEvents,t.style.pointerEvents="none",t.style.opacity=0},end:function(t){t.style.pointerEvents=i,t.parentNode&&t.parentNode.removeChild(t)}})};',pre:!0},"modules/devkit-core/modules/squill/__imports__.js":{path:"modules/devkit-core/modules/squill/__imports__.js",friendlyPath:".__imports__",directory:"modules/devkit-core/modules/squill/",filename:"__imports__.js",pre:!0,src:'exports.classes={alpha:".Alpha",label:".Label",list:".List",button:".TextButton",text:".TextInput",textarea:".TextArea",password:".TextInput",scroller:".Scroller",canvas:".Canvas",checkbox:".CheckBox",menu:".Menu",slider:".Slider",color:".Color",vcenter:".VerticalCenter",treelist:".TreeList",graph:".Graph",select:".SelectBox",widget:".Widget",image:".Image"},exports.resolve=function(e){var t=[];if("browser"==e)for(var r in exports.classes)t.push(exports.classes[r]);return t};'},"modules/devkit-core/modules/squill/jscolor/jscolor.js":{path:"modules/devkit-core/modules/squill/jscolor/jscolor.js",friendlyPath:".jscolor.jscolor",directory:"modules/devkit-core/modules/squill/jscolor/",filename:"jscolor.js",src:'var jscolor={dir:"",bindClass:"color",binding:!0,preloading:!0,install:function(){jscolor.addEvent(window,"load",jscolor.init)},init:function(){jscolor.binding&&jscolor.bind(),jscolor.preloading&&jscolor.preload()},getDir:function(){return jscolor.dir="images/colorpicker/",jscolor.dir},detectDir:function(){for(var e=location.href,t=document.getElementsByTagName("base"),o=0;o<t.length;o+=1)t[o].href&&(e=t[o].href);for(t=document.getElementsByTagName("script"),o=0;o<t.length;o+=1)if(t[o].src&&/(^|\\/)jscolor\\.js([?#].*)?$/i.test(t[o].src))return e=new jscolor.URI(t[o].src).toAbsolute(e),e.path=e.path.replace(/[^\\/]+$/,""),e.query=null,e.fragment=null,e.toString();return!1},bind:function(e){e.color=new jscolor.color(e,{})},preload:function(){for(var e in jscolor.imgRequire)jscolor.imgRequire.hasOwnProperty(e)&&jscolor.loadImage(e)},images:{pad:[181,101],sld:[16,101],cross:[15,15],arrow:[7,11]},imgRequire:{},imgLoaded:{},requireImage:function(e){jscolor.imgRequire[e]=!0},loadImage:function(e){jscolor.imgLoaded[e]||(jscolor.imgLoaded[e]=new Image,jscolor.imgLoaded[e].src=jscolor.getDir()+e)},fetchElement:function(e){return"string"==typeof e?document.getElementById(e):e},addEvent:function(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent("on"+t,o)},fireEvent:function(e,t){if(e)if(document.createEvent){var o=document.createEvent("HTMLEvents");o.initEvent(t,!0,!0),e.dispatchEvent(o)}else document.createEventObject?(o=document.createEventObject(),e.fireEvent("on"+t,o)):e["on"+t]&&e["on"+t]()},getElementPos:function(e){var t=e,o=0,r=0;if(t.offsetParent)do o+=t.offsetLeft,r+=t.offsetTop;while(t=t.offsetParent);for(;(e=e.parentNode)&&"BODY"!==e.nodeName.toUpperCase();)o-=e.scrollLeft,r-=e.scrollTop;return[o,r]},getElementSize:function(e){return[e.offsetWidth,e.offsetHeight]},getRelMousePos:function(e){var t=0,o=0;return e||(e=window.event),"number"==typeof e.offsetX?(t=e.offsetX,o=e.offsetY):"number"==typeof e.layerX&&(t=e.layerX,o=e.layerY),{x:t,y:o}},getViewPos:function(){return"number"==typeof window.pageYOffset?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,document.body.scrollTop]:document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0]},getViewSize:function(){return"number"==typeof window.innerWidth?[window.innerWidth,window.innerHeight]:document.body&&(document.body.clientWidth||document.body.clientHeight)?[document.body.clientWidth,document.body.clientHeight]:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?[document.documentElement.clientWidth,document.documentElement.clientHeight]:[0,0]},URI:function(e){function t(e){for(var t="";e;)if("../"===e.substr(0,3)||"./"===e.substr(0,2))e=e.replace(/^\\.+/,"").substr(1);else if("/./"===e.substr(0,3)||"/."===e)e="/"+e.substr(3);else if("/../"===e.substr(0,4)||"/.."===e)e="/"+e.substr(4),t=t.replace(/\\/?[^\\/]*$/,"");else if("."===e||".."===e)e="";else var o=e.match(/^\\/?[^\\/]*/)[0],e=e.substr(o.length),t=t+o;return t}this.authority=this.scheme=null,this.path="",this.fragment=this.query=null,this.parse=function(e){return e=e.match(/^(([A-Za-z][0-9A-Za-z+.-]*)(:))?((\\/\\/)([^\\/?#]*))?([^?#]*)((\\?)([^#]*))?((#)(.*))?/),this.scheme=e[3]?e[2]:null,this.authority=e[5]?e[6]:null,this.path=e[7],this.query=e[9]?e[10]:null,this.fragment=e[12]?e[13]:null,this},this.toString=function(){var e="";return null!==this.scheme&&(e=e+this.scheme+":"),null!==this.authority&&(e=e+"//"+this.authority),null!==this.path&&(e+=this.path),null!==this.query&&(e=e+"?"+this.query),null!==this.fragment&&(e=e+"#"+this.fragment),e},this.toAbsolute=function(e){var e=new jscolor.URI(e),o=new jscolor.URI;return null!==e.scheme&&(null!==this.scheme&&this.scheme.toLowerCase()===e.scheme.toLowerCase()&&(this.scheme=null),null!==this.scheme?(o.scheme=this.scheme,o.authority=this.authority,o.path=t(this.path),o.query=this.query):(null!==this.authority?(o.authority=this.authority,o.path=t(this.path),o.query=this.query):(""===this.path?(o.path=e.path,o.query=null!==this.query?this.query:e.query):("/"===this.path.substr(0,1)?o.path=t(this.path):(o.path=null!==e.authority&&""===e.path?"/"+this.path:e.path.replace(/[^\\/]+$/,"")+this.path,o.path=t(o.path)),o.query=this.query),o.authority=e.authority),o.scheme=e.scheme),o.fragment=this.fragment,o)},e&&this.parse(e)},color:function(b,f){function a(e,t,o){if(null===e)return[o,o,o];var r=Math.floor(e),s=o*(1-t),e=o*(1-t*(r%2?e-r:1-(e-r)));switch(r){case 6:case 0:return[o,e,s];case 1:return[e,o,s];case 2:return[s,o,e];case 3:return[s,e,o];case 4:return[e,s,o];case 5:return[o,s,e]}}function l(t,r){if(!jscolor.picker){jscolor.picker={box:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),btn:document.createElement("div"),btnS:document.createElement("span"),btnT:document.createTextNode(e.pickerCloseText)};for(var i=0;i<jscolor.images.sld[1];i+=4){var n=document.createElement("div");n.style.height="4px",n.style.fontSize="1px",n.style.lineHeight="0",jscolor.picker.sld.appendChild(n)}jscolor.picker.sldB.appendChild(jscolor.picker.sld),jscolor.picker.box.appendChild(jscolor.picker.sldB),jscolor.picker.box.appendChild(jscolor.picker.sldM),jscolor.picker.padB.appendChild(jscolor.picker.pad),jscolor.picker.box.appendChild(jscolor.picker.padB),jscolor.picker.box.appendChild(jscolor.picker.padM),jscolor.picker.btnS.appendChild(jscolor.picker.btnT),jscolor.picker.btn.appendChild(jscolor.picker.btnS),jscolor.picker.box.appendChild(jscolor.picker.btn),jscolor.picker.boxB.appendChild(jscolor.picker.box)}var l=jscolor.picker;l.box.onmouseup=l.box.onmouseout=function(){b.focus()},l.box.onmousedown=function(){o=!0},l.box.onmousemove=function(e){(p||q)&&(p&&y(e),q&&z(e),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),s())},l.padM.onmouseup=l.padM.onmouseout=function(){p&&(p=!1,jscolor.fireEvent(h,"change"))},l.padM.onmousedown=function(e){p=!0,y(e),s()},l.sldM.onmouseup=l.sldM.onmouseout=function(){q&&(q=!1,jscolor.fireEvent(h,"change"))},l.sldM.onmousedown=function(e){q=!0,z(e),s()},i=x(e),l.box.style.width=i[0]+"px",l.box.style.height=i[1]+"px",l.boxB.style.position="absolute",l.boxB.style.clear="both",l.boxB.style.left=t+"px",l.boxB.style.top=r+"px",l.boxB.style.zIndex=e.pickerZIndex,l.boxB.className="colorMenu",l.pad.style.width=jscolor.images.pad[0]+"px",l.pad.style.height=jscolor.images.pad[1]+"px",l.padB.style.position="absolute",l.padB.style.left=e.pickerFace+"px",l.padB.style.top=e.pickerFace+"px",l.padB.style.border=e.pickerInset+"px solid",l.padB.style.borderColor=e.pickerInsetColor,l.padM.style.position="absolute",l.padM.style.left="0",l.padM.style.top="0",l.padM.style.width=e.pickerFace+2*e.pickerInset+jscolor.images.pad[0]+jscolor.images.arrow[0]+"px",l.padM.style.height=l.box.style.height,l.padM.style.cursor="crosshair",l.sld.style.overflow="hidden",l.sld.style.width=jscolor.images.sld[0]+"px",l.sld.style.height=jscolor.images.sld[1]+"px",l.sldB.style.display=e.slider?"block":"none",l.sldB.style.position="absolute",l.sldB.style.right=e.pickerFace+"px",l.sldB.style.top=e.pickerFace+"px",l.sldB.style.border=e.pickerInset+"px solid",l.sldB.style.borderColor=e.pickerInsetColor,l.sldM.style.display=e.slider?"block":"none",l.sldM.style.position="absolute",l.sldM.style.right="0",l.sldM.style.top="0",l.sldM.style.width=jscolor.images.sld[0]+jscolor.images.arrow[0]+e.pickerFace+2*e.pickerInset+"px",l.sldM.style.height=l.box.style.height;try{l.sldM.style.cursor="pointer"}catch(e){l.sldM.style.cursor="hand"}l.btn.style.display=e.pickerClosable?"block":"none",l.btn.style.position="absolute",l.btn.style.left=e.pickerFace+"px",l.btn.style.bottom=e.pickerFace+"px",l.btn.style.padding="0 15px",l.btn.style.height="18px",l.btn.style.border=e.pickerInset+"px solid",function(){var t=e.pickerInsetColor.split(/\\s+/);l.btn.style.borderColor=2>t.length?t[0]:t[1]+" "+t[0]+" "+t[0]+" "+t[1]}(),l.btn.style.color=e.pickerButtonColor,l.btn.style.font="12px sans-serif",l.btn.style.textAlign="center";try{l.btn.style.cursor="pointer"}catch(e){l.btn.style.cursor="hand"}switch(l.btn.onmousedown=function(){e.hidePicker()},l.btnS.style.lineHeight=l.btn.style.height,m){case 0:var c="hs.png";break;case 1:c="hv.png"}l.padM.style.backgroundImage="url(\'"+jscolor.getDir()+"cross.gif\')",l.padM.style.backgroundRepeat="no-repeat",l.sldM.style.backgroundImage="url(\'"+jscolor.getDir()+"arrow.gif\')",l.sldM.style.backgroundRepeat="no-repeat",l.pad.style.backgroundImage="url(\'"+jscolor.getDir()+c+"\')",l.pad.style.backgroundRepeat="no-repeat",l.pad.style.backgroundPosition="0 0",A(),B(),jscolor.picker.owner=e,document.getElementsByTagName("body")[0].appendChild(l.boxB)}function x(e){return[2*e.pickerInset+2*e.pickerFace+jscolor.images.pad[0]+(e.slider?2*e.pickerInset+2*jscolor.images.arrow[0]+jscolor.images.sld[0]:0),e.pickerClosable?4*e.pickerInset+3*e.pickerFace+jscolor.images.pad[1]+e.pickerButtonHeight:2*e.pickerInset+2*e.pickerFace+jscolor.images.pad[1]]}function A(){switch(m){case 0:var t=1;break;case 1:t=2}var o=Math.round(e.hsv[0]/6*(jscolor.images.pad[0]-1)),t=Math.round((1-e.hsv[t])*(jscolor.images.pad[1]-1));switch(jscolor.picker.padM.style.backgroundPosition=e.pickerFace+e.pickerInset+o-Math.floor(jscolor.images.cross[0]/2)+"px "+(e.pickerFace+e.pickerInset+t-Math.floor(jscolor.images.cross[1]/2))+"px",o=jscolor.picker.sld.childNodes,m){case 0:for(var r=a(e.hsv[0],e.hsv[1],1),t=0;t<o.length;t+=1)o[t].style.backgroundColor="rgb("+100*r[0]*(1-t/o.length)+"%,"+100*r[1]*(1-t/o.length)+"%,"+100*r[2]*(1-t/o.length)+"%)";break;case 1:var s,i=[e.hsv[2],0,0],t=Math.floor(e.hsv[0]),n=t%2?e.hsv[0]-t:1-(e.hsv[0]-t);switch(t){case 6:case 0:r=[0,1,2];break;case 1:r=[1,0,2];break;case 2:r=[2,0,1];break;case 3:r=[2,1,0];break;case 4:r=[1,2,0];break;case 5:r=[0,2,1]}for(t=0;t<o.length;t+=1)s=1-1/(o.length-1)*t,i[1]=i[0]*(1-s*n),i[2]=i[0]*(1-s),o[t].style.backgroundColor="rgb("+100*i[r[0]]+"%,"+100*i[r[1]]+"%,"+100*i[r[2]]+"%)"}}function B(){switch(m){case 0:var t=2;break;case 1:t=1}t=Math.round((1-e.hsv[t])*(jscolor.images.sld[1]-1)),jscolor.picker.sldM.style.backgroundPosition="0 "+(e.pickerFace+e.pickerInset+t-Math.floor(jscolor.images.arrow[1]/2))+"px"}function t(){return jscolor.picker&&jscolor.picker.owner===e}function C(){h!==b&&e.importColor()}function y(t){var o=jscolor.getRelMousePos(t),t=o.x-e.pickerFace-e.pickerInset,o=o.y-e.pickerFace-e.pickerInset;switch(m){case 0:e.fromHSV(t*(6/(jscolor.images.pad[0]-1)),1-o/(jscolor.images.pad[1]-1),null,u);break;case 1:e.fromHSV(t*(6/(jscolor.images.pad[0]-1)),null,1-o/(jscolor.images.pad[1]-1),u)}}function z(t){switch(t=jscolor.getRelMousePos(t).y-e.pickerFace-e.pickerInset,m){case 0:e.fromHSV(null,null,1-t/(jscolor.images.sld[1]-1),v);break;case 1:e.fromHSV(null,1-t/(jscolor.images.sld[1]-1),null,v)}}function s(){e.onImmediateChange&&("string"==typeof e.onImmediateChange?eval(e.onImmediateChange):e.onImmediateChange(e))}this.adjust=this.required=!0,this.hash=!1,this.slider=this.caps=!0,this.styleElement=this.valueElement=b,this.onImmediateChange=null,this.hsv=[0,0,1],this.rgb=[1,1,1],this.pickerOnfocus=!0,this.pickerMode="HSV",this.pickerPosition="bottom",this.pickerSmartPosition=!0,this.pickerButtonHeight=20,this.pickerClosable=!1,this.pickerCloseText="Close",this.pickerButtonColor="ButtonText",this.pickerFace=10,this.pickerFaceColor="ThreeDFace",this.pickerBorder=1,this.pickerBorderColor="ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight",this.pickerInset=1,this.pickerInsetColor="ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow",this.pickerZIndex=1e4;for(var n in f)f.hasOwnProperty(n)&&(this[n]=f[n]);this.hidePicker=function(){t()&&(delete jscolor.picker.owner,document.getElementsByTagName("body")[0].removeChild(jscolor.picker.boxB))},this.showPicker=function(){if(!t()){var e,o,r,s=jscolor.getElementPos(b),i=jscolor.getElementSize(b),n=jscolor.getViewPos(),c=jscolor.getViewSize(),a=x(this);switch(this.pickerPosition.toLowerCase()){case"left":e=1,o=0,r=-1;break;case"right":e=1,o=0,r=1;break;case"top":e=0,o=1,r=-1;break;default:e=0,r=o=1}var h=(i[o]+a[o])/2,s=this.pickerSmartPosition?[-n[e]+s[e]+a[e]>c[e]&&-n[e]+s[e]+i[e]/2>c[e]/2&&0<=s[e]+i[e]-a[e]?s[e]+i[e]-a[e]:s[e],-n[o]+s[o]+i[o]+a[o]-h+h*r>c[o]?-n[o]+s[o]+i[o]/2>c[o]/2&&0<=s[o]+i[o]-h-h*r?s[o]+i[o]-h-h*r:s[o]+i[o]-h+h*r:0<=s[o]+i[o]-h+h*r?s[o]+i[o]-h+h*r:s[o]+i[o]-h-h*r]:[s[e],s[o]+i[o]-h+h*r];l(s[e],s[o])}},this.importColor=function(){h?this.adjust?!this.required&&/^\\s*$/.test(h.value)?(h.value="",i.style.backgroundColor=i.jscStyle.backgroundColor,i.style.color=i.jscStyle.color,this.exportColor(r|w)):this.fromString(h.value)||this.exportColor():this.fromString(h.value,r)||(i.style.backgroundColor=i.jscStyle.backgroundColor,i.style.color=i.jscStyle.color,this.exportColor(r|w)):this.exportColor()},this.exportColor=function(e){if(!(e&r)&&h){var o=this.toString();this.caps&&(o=o.toUpperCase()),this.hash&&(o="#"+o),h.value=o}!(e&w)&&i&&(i.style.backgroundColor="#"+this.toString(),i.style.color=.5>.213*this.rgb[0]+.715*this.rgb[1]+.072*this.rgb[2]?"#FFF":"#000"),!(e&v)&&t()&&A(),!(e&u)&&t()&&B()},this.fromHSV=function(e,t,o,r){0>e&&(e=0)||6<e&&(e=6),0>t&&(t=0)||1<t&&(t=1),0>o&&(o=0)||1<o&&(o=1),this.rgb=a(null===e?this.hsv[0]:this.hsv[0]=e,null===t?this.hsv[1]:this.hsv[1]=t,null===o?this.hsv[2]:this.hsv[2]=o),this.exportColor(r)},this.fromRGB=function(e,t,o,r){0>e&&(e=0)||1<e&&(e=1),0>t&&(t=0)||1<t&&(t=1),0>o&&(o=0)||1<o&&(o=1);var e=null===e?this.rgb[0]:this.rgb[0]=e,t=null===t?this.rgb[1]:this.rgb[1]=t,s=null===o?this.rgb[2]:this.rgb[2]=o,i=Math.min(Math.min(e,t),s),o=Math.max(Math.max(e,t),s),n=o-i;0===n?e=[null,0,o]:(e=e===i?3+(s-t)/n:t===i?5+(e-s)/n:1+(t-e)/n,e=[6===e?0:e,n/o,o]),null!==e[0]&&(this.hsv[0]=e[0]),0!==e[2]&&(this.hsv[1]=e[1]),this.hsv[2]=e[2],this.exportColor(r)},this.fromString=function(e,t){var o=e.match(/^\\W*([0-9A-F]{3}([0-9A-F]{3})?)\\W*$/i);return!!o&&(6===o[1].length?this.fromRGB(parseInt(o[1].substr(0,2),16)/255,parseInt(o[1].substr(2,2),16)/255,parseInt(o[1].substr(4,2),16)/255,t):this.fromRGB(parseInt(o[1].charAt(0)+o[1].charAt(0),16)/255,parseInt(o[1].charAt(1)+o[1].charAt(1),16)/255,parseInt(o[1].charAt(2)+o[1].charAt(2),16)/255,t),!0)},this.toString=function(){return(256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+(256|Math.round(255*this.rgb[2])).toString(16).substr(1)};var e=this,m="hvs"===this.pickerMode.toLowerCase()?1:0,o=!1,h=jscolor.fetchElement(this.valueElement),i=jscolor.fetchElement(this.styleElement),p=!1,q=!1,r=1,w=2,v=4,u=8;switch(jscolor.addEvent(b,"focus",function(){e.pickerOnfocus&&e.showPicker()}),jscolor.addEvent(b,"blur",function(){o?o=!1:window.setTimeout(function(){o||(h===b&&e.importColor(),e.pickerOnfocus&&e.hidePicker()),o=!1},0)}),h&&(n=function(){e.fromString(h.value,r),s()},jscolor.addEvent(h,"keyup",n),jscolor.addEvent(h,"input",n),jscolor.addEvent(h,"blur",C),h.setAttribute("autocomplete","off")),i&&(i.jscStyle={backgroundColor:i.style.backgroundColor,color:i.style.color}),m){case 0:jscolor.requireImage("hs.png");break;case 1:jscolor.requireImage("hv.png")}jscolor.requireImage("cross.gif"),jscolor.requireImage("arrow.gif"),this.importColor()}};exports=jscolor;',pre:!0},"modules/devkit-core/modules/squill/Label.js":{path:"modules/devkit-core/modules/squill/Label.js",friendlyPath:".Label",directory:"modules/devkit-core/modules/squill/",filename:"Label.js",src:'jsio("from util.browser import $"),jsio("import squill.Widget"),jsio("import squill.models.bindings as bindings");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Label=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Label(function(){return this.init&&this.init.apply(this,arguments)},squill.Widget,function(){this._css="label",this._def={children:[{id:"_labelSpan",tag:"span"}]},this.buildWidget=function(){this.setLabel(this.getI18n("label"));var t=this._opts;t.format&&bindings.parseFormat(this,t.format)},this.setData=this.setValue=this.setLabel=this.setText=function(t){$.setText(this._labelSpan,t)},this.setHTML=function(t){this._labelSpan.innerHTML=t}});',pre:!0},"modules/devkit-core/modules/squill/List.js":{path:"modules/devkit-core/modules/squill/List.js",friendlyPath:".List",directory:"modules/devkit-core/modules/squill/",filename:"List.js",src:'jsio("import .Window"),jsio("import .Widget"),jsio("from util.browser import $"),jsio("import .models.DataSource as DataSource"),jsio("import .models.DataItem as DataItem"),jsio("import .Selection");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_List=__class__,List=module.exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_List(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(t){this._css="list",this.init=function(e){e=merge(e,{containSelf:!0,cellSpacing:0,isTiled:!1,preserveCells:!1,renderAll:!0,isFixedHeight:!0,absolutePosition:!0,filter:null}),this.needsRender=delay(this.render),e.cellCtor&&this.setCellCtor(e.cellCtor),e.dataSource&&this.setDataSource(e.dataSource),e.sorter&&this.setSorter(e.sorter),this._lastFilter=null,this._cellsByID={},this._removed={},this._containSelf=e.containSelf,this._containerTag=e.containerTag,this._applyNodeOrder=e.applyNodeOrder,this._renderOpts={cellSpacing:e.cellSpacing||0},this.setFilter(e.filter),this.updateFilter=delay(function(){this._lastFilter=null,this.needsRender()},100),t(this,"init",[e]),e.__result&&e.__result.addSubscription(this,"select"),Window.get().on("ViewportChange",bind(this,"needsRender"))},this.getContainer=function(){return this._container},this.getDataSource=function(){return this._dataSource},this.setModel=function(e,i){return 1!=arguments.length?t(this,"setModel",arguments):void this.setDataSource(arguments[0])},this.setData=function(t){this._dataSource?this._dataSource.clear():this.setDataSource(new DataSource({sorter:this._sorter})),t&&this._dataSource.add(Array.isArray(t)?t.map(function(t,e){return new DataItem(e,t)}):Object.keys(t).map(function(e){return new DataItem(e,t[e])})),this.needsRender()},this.setDataSource=function(t){this._dataSource!=t&&(this._dataSource&&(this._dataSource.unsubscribe("Update",this),this._dataSource.unsubscribe("Remove",this),this.clear()),this._dataSource=t,this._dataSource.subscribe("Update",this,"onUpdateItem"),this._dataSource.subscribe("Remove",this,"onRemoveItem"),this.needsRender())},this.onUpdateItem=function(t,e){var i=this._cellsByID[t];if(i){var s=i.getItem();e instanceof DataItem?s!==e.data&&i.setItem(e.data,e):s!==e&&i.setItem(e)}this.updateFilter()},this.onRemoveItem=function(t){this._removed[t]=!0,this.updateFilter()},this.buildWidget=function(){this._container=$({parent:this._el,className:this._opts.containerClassName,tag:this._containerTag||"div"}),this._containSelf&&!this._applyNodeOrder&&(this._container.style.position="relative"),(this._opts.selection||this._opts.selectable)&&this.setSelectable(this._opts.selection||this._opts.selectable),this.render()},this.setValue=function(t){this.selection&&this.selection.select(t)},this.getValue=function(){if(this.selection)return this.selection.get()},this.setSelectable=function(t){this.selection=new Selection({parent:this,type:t}).subscribe("Select",this,"_onSelected",!0).subscribe("Deselect",this,"_onSelected",!1),this.selection},this._onSelected=function(t,e,i){void 0!==this._cellsByID[i]&&(this._cellsByID[i].updateSelected(),t&&(e instanceof DataItem?this.emit("select",i,e.data):this.emit("select",i,e)))},this.setCellCtor=function(t){t!=this._cellCtor&&(this._cellCtor=t,this.clear())},this.clear=function(){for(var t in this._cellsByID)this._cellsByID[t].remove();this._cellsByID={},this._cellDim=this._renderedDataSource=null},this.getCell=this.getCellById=function(t){return this._cellsByID[t]},this.setCell=this.setCellForId=function(t,e){this._cellsByID[t]=e},this.getCells=function(){return this._cellsByID},this.setSorter=function(t){t!=this._rawSorter&&(this._rawSorter=t,this._sorter=function(e){return t(e instanceof DataItem?e.data:e)}),this._renderedDataSource&&this._renderedDataSource.setSorter(t)},this.setFilter=function(t){t!=this._rawFilter&&(this._rawFilter=t,this._filter=function(e){return t(e instanceof DataItem?e.data:e)}),this.needsRender()},this.setFixedHeight=function(t){this._opts.isFixedHeight=t},this._applyDataSource=function(){if(this._filter!=this._lastFilter)this._lastFilter=this._filter,this._renderedDataSource=this._dataSource.getFilteredDataSource(this._filter),this._lastSorter=this._sorter,this._renderedDataSource.setSorter(this._sorter);else if(this._sorter!=this._lastSorter){if(!this._renderedDataSource||this._renderedDataSource==this._dataSource)return this._filter=function(){return!0},this._applyDataSource();this._lastSorter=this._sorter,this._renderedDataSource.setSorter(this._sorter)}this._renderedDataSource||(this._renderedDataSource=this._dataSource)},this.onShow=function(){t(this,"onShow",arguments),this.needsRender()},this.render=function(){this._dataSource&&(this._applyDataSource(),this._renderedDataSource.sort(),this._opts.renderAll?this.renderAllDelayed():this._opts.isFixedHeight?this.renderFixedHeight():this.renderDynamicHeight(),this._removed={})},this.setCellDim=function(t){this._cellDim=t},this.getCellDim=function(){if(this._cellDim)return this._cellDim;if(this._opts.isFixedHeight){var t=this._renderedDataSource.getItemForIndex(0);if(!t)return!1;var e=t[this._renderedDataSource.getKey()],t=this._cellsByID[e]||(this._cellsByID[e]=this._createCell(t)),t=$.size(t.getElement());return 0==t.width||0==t.height?null:((e=this._opts.cellSpacing)&&(t.width+=e,t.height+=e),this._cellDim=t)}throw"unimplemented"},this._createCell=function(t){var e=this._dataSource.getKey(),i=new this._cellCtor({parent:this,controller:this,key:e,item:t});return i.getElement().setAttribute("squill-data-id",t[e]),i.render(),i},this._nodeOrder=function(){var t,e,i,s,r=this._container,o=this._renderedDataSource,n=o.key;if(r.childNodes.length){for(t=document.createElement("div"),r.insertBefore(t,r.childNodes[0]),s=0;s<o.length;s++)e=o.getItemForIndex(s),e=this._cellsByID[e[n]],i=e.getElement(),e&&i.parentNode&&r.insertBefore(r.removeChild(i),t);r.removeChild(t)}},this.renderAllDelayed=function(){function t(){this._renderManyTimeout&&(clearTimeout(this._renderManyTimeout),this._renderManyTimeout=void 0);for(var i=0,r=+new Date;10>i++||50>+new Date-r;){var o;if(o=e.getItemForIndex(s)){var n=o[e.getKey()],l=this._cellsByID[n];l?l.render():l=this._cellsByID[n]=this._createCell(o),!this._applyNodeOrder&&this.positionCell(l,s),++s,o=!0}else o=!1;if(!o)return void(this._applyNodeOrder&&this._nodeOrder())}this._renderManyTimeout=setTimeout(bind(this,t),100)}var e=this._renderedDataSource;if(e&&this.updateRenderOpts()){var i,s=0,r=this._removed;for(i in r)if(!e.getItemForID(i)){var o=this._cellsByID[i];o&&(o.remove(),delete this._cellsByID[i])}t.call(this)}},this.setOffsetParent=function(t){this._opts.offsetParent=t},this.setTiled=function(t){this._isTiled=this._opts.isTiled=t},this.updateRenderOpts=function(){var t=this._renderOpts;t.offsetTop=this._containSelf?0:this._container.offsetTop,t.offsetLeft=this._containSelf?0:this._container.offsetLeft;var e=this._offsetParent||this.getOffsetParent();if(t.top=(e.getAttribute("squill-scroller-top")||e.scrollTop)-t.offsetTop,t.height=e.offsetHeight,t.bottom=t.top+t.height,this._opts.isFixedHeight){var i=this.getCellDim();if(!i)return!1;t.cellWidth=i.width,t.cellHeight=i.height}return i=t.numRows=this._renderedDataSource.length,this._opts.isFixedHeight&&(this._opts.isTiled?(t.maxWidth=e.offsetWidth-t.offsetLeft,t.numPerRow=Math.max(1,t.maxWidth/t.cellWidth|0),t.numRows=Math.ceil(i/t.numPerRow),t.start=Math.max(0,(t.top/t.cellHeight|0)*t.numPerRow),t.end=Math.ceil(t.bottom/t.cellHeight)*t.numPerRow):(t.start=Math.max(0,t.top/t.cellHeight|0),t.end=t.bottom/t.cellHeight+1|0)),this._applyNodeOrder||(this._container.style.height=this._opts.absolutePosition?t.numRows*t.cellHeight+"px":"auto"),!0},this.positionCell=function(t,e){if(this._opts.absolutePosition){var i,s,r=this._renderOpts,o=t.getElement();this._opts.isTiled?(i=e%r.numPerRow,s=e/r.numPerRow|0,o.style.left=i*r.cellWidth+r.offsetLeft+"px",o.style.top=s*r.cellHeight+r.offsetTop+"px"):o.style.top=(e*r.cellHeight||0)+r.offsetTop+"px"}},this.getOffsetParent=function(){return this._opts.offsetParent||(this._containSelf?this._container:this._container.offsetParent)||document.body},this.renderFixedHeight=function(){var t=this.getOffsetParent();if(t){t!=this._offsetParent&&(this._removeScrollEvt&&this._removeScrollEvt(),this._offsetParent=t,this._removeScrollEvt=$.onEvent(t,"scroll",this,"needsRender"));var t=this._renderedDataSource,e=t.getKey(),i=t.length;if(!i||this.updateRenderOpts()){var s=this._cellsByID;if(this._cellsByID={},i)for(var i=this._renderOpts,r=i.start;r<i.end;++r){var o=t.getItemForIndex(r);if(!o)break;var n=o[e],l=s[n];l?(delete s[n],l.render()):l=this._createCell(o),this.positionCell(l,r),this._cellsByID[n]=l}if(this._opts.preserveCells)for(n in s)l=s[n],t.getItemForID(n)?this._cellsByID[n]=l:l.remove();else for(n in s)s[n].remove()}}}});',
pre:!0},"modules/devkit-core/modules/squill/Window.js":{path:"modules/devkit-core/modules/squill/Window.js",friendlyPath:".Window",directory:"modules/devkit-core/modules/squill/",filename:"Window.js",src:'jsio("import lib.PubSub"),jsio("import std.uri"),jsio("from util.browser import $");var UNIQUE_ID="__squill__window_id",Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Window=__class__,Window=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Window(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){this.init=function(i){this._win=i||window,this._location=new std.uri(this._win.location),this._dim=$(this._win),$.onEvent(this._win,"resize",this,"onViewportChange"),$.onEvent(this._win,"scroll",this,"onViewportChange")},this.onViewportChange=function(i){this._dim=$(this._win),this.publish("ViewportChange",i,this._dim)},this.getDim=this.getViewport=function(){return this._dim},this.query=function(i){return this._location.query(i)},this.hash=function(i){return this._location.query(i)},this.center=function(i,t){var t=merge(t,{subscribe:!0}),s="height"in t?t.height:i.offsetHeight;i.style.left=(this._dim.width-("width"in t?t.width:i.offsetWidth))/2+"px",i.style.top=(this._dim.height-s)/2+"px",t.subscribe&&this.subscribe("ViewportChange",this,"center",i,merge({subscribe:!1},t))}}),gWin={};exports.get=function(i){return i||(i=window),i[UNIQUE_ID]?gWin[i[UNIQUE_ID]]:gWin[i[UNIQUE_ID]]=new Window(i)};',pre:!0},"modules/devkit-core/node_modules/jsio/packages/std/uri.js":{path:"modules/devkit-core/node_modules/jsio/packages/std/uri.js",friendlyPath:"std.uri",directory:"modules/devkit-core/node_modules/jsio/packages/std/",filename:"uri.js",baseMod:"std",basePath:"/Users/tsunami/projects/devkitPoj/BubbleShooter/modules/devkit-core/node_modules/jsio/packages/std",src:'jsio("import util.path");var attrs="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_node_modules_jsio_packages_std_uri=__class__,URI=module.exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_node_modules_jsio_packages_std_uri(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,e){if(t instanceof URI)for(var r,i=0;r=attrs[i];++i)this["_"+r]=t["_"+r];else for(r in this._isStrict=e,i=URI.parse(t,e))this["_"+r]=i[r]};for(var t,e=0;t=attrs[e];++e)(function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);this["get"+e]=function(){return this["_"+t]},this["set"+e]=function(e){return this["_"+t]=e,this}}).call(this,t);this.query=function(t){return URI.parseQuery(this._query)[t]},this.hash=function(t){return URI.parseQuery(this._anchor)[t]},this.addHash=function(t){var e,r=URI.parseQuery(this._anchor);for(e in t)r[e]=t[e];return this._anchor=URI.buildQuery(r),this},this.setPath=function(t){var e=util.path.splitPath(t);return this._file=e.filename,this._directory=e.directory,this._path=t,this},this.setFile=function(t){return this.setPath(util.path.join(this._directory,t))},this.setDirectory=function(t){return this.setPath(util.path.join(t,this._file))},this.push=function(t){return t&&(this._path=(this._path+"/"+t).replace(/\\/\\/+/g,"/")),this},this.addQuery=function(t){var e,r=URI.parseQuery(this._query);for(e in t)r[e]=t[e];return this._query=URI.buildQuery(r),this},this.removeQuery=function(t){var e=URI.parseQuery(this._query);if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)delete e[t[r]];else delete e[t];return this._query=URI.buildQuery(e),this},this.toJSON=function(){return this.toString(!1)},this.toString=function(t){var e=this._protocol?this._protocol+"://":"",r=this._host?this._host+(80==(this._port||80)?"":":"+this._port):"";return t?e+r:e+r+this._path+(this._query?"?"+this._query:"")+(this._anchor?"#"+this._anchor:"")}});URI.relativeTo=function(t,e){if(t=""+t,e&&!/^http(s?):\\/\\//.test(t))var r=new URI(e).setAnchor("").setQuery("").setFile("").toString("/"==t.charAt(0)),t=URI.resolveRelative(r+t);return new URI(t)},URI.resolveRelative=function(t){for(;t!=(t=t.replace(/(^|\\/)([^\\/]+)\\/\\.\\.\\//g,"/")););return t.replace(/[^.]\\.\\//g,"")},URI.buildQuery=function(t){var e,r=[];for(e in t)r.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return r.join("&")},URI.parseQuery=function(t){for(var t=t.split("&"),e=t.length,r={},i=0;i<e;++i){var s=t[i].split("="),o=decodeURIComponent(s[0]);o&&(r[o]=decodeURIComponent(s[1]))}return r};var strictRegex=/^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,looseRegex=/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/,queryStringRegex=/(?:^|&)([^&=]*)=?([^&]*)/g;URI.parse=function(t,e){for(var r,i={},s=(e?strictRegex:looseRegex).exec(t),o=0;r=attrs[o];++o)i[r]=s[o]||"";var n=i.queryKey={};return i.query.replace(queryStringRegex,function(t,e,r){t&&(n[e]=r)}),i},URI.isSameDomain=function(t,e){var r=URI.parse(t),i=URI.parse(e);return r.port==i.port&&r.host==i.host&&r.protocol==i.protocol};',pre:!0},"modules/devkit-core/modules/squill/models/DataSource.js":{path:"modules/devkit-core/modules/squill/models/DataSource.js",friendlyPath:"squill.models.DataSource",directory:"modules/devkit-core/modules/squill/models/",filename:"DataSource.js",src:'jsio("import lib.Callback"),jsio("import .BasicDataSource as BasicDataSource");var modules_devkit_core_modules_squill_models_DataSource=__class__,DataSource=exports=modules_devkit_core_modules_squill_models_DataSource(function(){return this.init&&this.init.apply(this,arguments)},BasicDataSource,function(t){var e={key:"id"};this.init=function(i){this._opts=i=merge(i,e),t(this,"init",[i]),this._byIndex=[],this._byID={},this._ctor=i.ctor,this._reverse=i.reverse,this.length=0,this.onLoad=new lib.Callback,this.setSorter(i.sorter),this.setPersistence(i.persistence),this._changeDataSave=!1,this._changeData={updated:[],updatedHash:{},removed:[],removedHash:{}}},this.setPersistence=function(t){(this._persistence=t)&&(this.onLoad.clear(),t.load(this,this.onLoad.chain()))},this._saveChanges=function(t,e){this._changeDataSave&&!this._changeData[t+"Hash"][e]&&(this._changeData[t+"Hash"][e]=!0,this._changeData[t].push(e))},this.getFilteredDataSource=function(t){var e=new DataSource(this._opts);return this.forEach(function(i){t(i)&&e.add(i)}),this.subscribe("Update",function(i,s){t(s)?e.add(s):e.remove(s)}),this.subscribe("Remove",function(t,i){e.remove(i)}),e},this.signalUpdate=function(t,e,i){if(void 0!==e[this.key])switch(t){case"UPDATE":this._saveChanges("updated",e[this.key]),this.publish("Update",e[this.key],e);break;case"REMOVE":this._saveChanges("removed",e[this.key]),this.publish("Remove",i,e)}};var i=function(){return this._sortKey};this.updated=this.add=function(t){if(isArray(t)){for(var e=[],s=0,n=t.length;s<n;++s)if(t[s]){var h=this.add(t[s]);h&&e.push(h)}return e}if(e=t[this.key],null!=e){if(n=null,this._byID[e]){for(s=0;h=this._byIndex[s];++s)if(h[this.key]==e){"function"==typeof h.update?(h.update(t),t=h):n=s;break}}else n=this.length++;return null!==n&&(this._ctor&&!(t instanceof this._ctor)&&(t=new this._ctor(t)),this._byIndex[n]=t),this._byID[e]=t,this.signalUpdate("UPDATE",t),this._sorter&&(t._sortKey=this._sorter(t),t.toString=i),t}},this.remove=function(t){if("object"==typeof t&&(t=t[this.key]),null!=t&&this._byID[t]){this.signalUpdate("REMOVE",this._byID[t],t),delete this._byID[t];for(var e,i=0;e=this._byIndex[i];++i)if(e[this.key]==t)return--this.length,this._byIndex.splice(i,1)[0]}},this.keepOnly=function(t){this.compare(t,function(t,e,i){i||t.remove(e)})},this.clear=function(){var t=this._byIndex;this._byIndex=[],this._byID={};for(var e,i=this.length=0;e=t[i];++i)this.signalUpdate("REMOVE",e,e[this.key])},this.getCount=function(){return this.length},this.setSorter=function(t){if(this._sorter=t)for(var e,s=0;e=this._byIndex[s];++s)e._sortKey=t(e),e.toString=i;return this.sort(),this},this.getIDs=function(){return this._byIndex.map(function(t){return t[this.key]},this)},this.contains=function(t){return!!this._byID[t]},this.getKey=function(){return this.key},this.get=this.getItemForID=function(t){return this._byID[t]||null},this.indexOf=function(t){return this._byIndex.indexOf(t)},this.getItemForIndex=function(t){return this._byIndex[t]},this.sort=function(){this._byIndex.sort(),this._reverse&&this._byIndex.reverse()},this.forEach=this.each=function(t,e){for(var i=0;i<this.length&&!t.call(e,this._byIndex[i],i);++i);},this.toJSON=function(){return{key:this.key,items:this._byIndex}},this.fromJSON=function(t){this.clear(),this.key=t.key,this.add(t.items)},this.toArray=function(){return this._byIndex.slice(0)},this.beginChanges=function(){this._changeDataSave=!0,this._changeData={updated:[],updatedHash:{},removed:[],removedHash:{}}},this.saveChanges=function(){if(this._changeDataSave=!1,this._persistence){var t,e,i=this._changeData;if(this._persistence.remove(i.removed),i.updated.length){var s=[];for(t=0,e=i.updated.length;t<e;t++)s.push(this._byID[i.updated[t]]);this._persistence.update(s)}this._persistence.commit()}},this.load=function(t){this._persistence&&this._persistence.load(this,function(e){e&&logger.LOG&&console.log("LOG","squill.models.DataSource","error loading",JSON.stringify(e)),t&&t(e)})},this.save=function(){this._persistence&&this._persistence.save(this)},this.compare=function(t,e){var i=this.key,s={};if(isArray(t))for(var n=0,h=t.length;n<h;++n)s[t[n][i]]=t[n];else for(var r in t)s[r]=t[r];for(var a,h=this._byIndex.slice(0),n=0;a=h[n];++n)r=a[i],e.call(this,this,a,s[r]),delete s[r];for(r in s)e.call(this,this,null,s[r])},this.filter=function(t){var e,i,s,n,h=new DataSource({key:this.key}),r=this.length;for(h.key=this.key,n=0;n<r;++n){i=this._byIndex[n],s=!0;for(e in t)"string"==typeof i[e]&&-1==i[e].toLowerCase().indexOf(t[e])&&(s=!1);s&&h.add(i)}return h}});',pre:!0},"modules/devkit-core/modules/squill/models/BasicDataSource.js":{path:"modules/devkit-core/modules/squill/models/BasicDataSource.js",friendlyPath:".BasicDataSource",directory:"modules/devkit-core/modules/squill/models/",filename:"BasicDataSource.js",src:'jsio("import lib.PubSub as PubSub");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_models_BasicDataSource=__class__,BasicDataSource=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_models_BasicDataSource(function(){return this.init&&this.init.apply(this,arguments)},PubSub,function(t){this.init=function(e){t(this,"init",arguments),this.key=this._key=e.key,this._channel=e.channel,this._hasRemote=e.hasRemote},this.getKey=function(){return this._key}});',pre:!0},"modules/devkit-core/modules/squill/models/DataItem.js":{path:"modules/devkit-core/modules/squill/models/DataItem.js",friendlyPath:".models.DataItem",directory:"modules/devkit-core/modules/squill/models/",filename:"DataItem.js",src:"var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_models_DataItem=__class__;module.exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_models_DataItem(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,_){this.id=t,this.data=_}});",pre:!0},"modules/devkit-core/modules/squill/Selection.js":{path:"modules/devkit-core/modules/squill/Selection.js",friendlyPath:".Selection",directory:"modules/devkit-core/modules/squill/",filename:"Selection.js",src:'jsio("import lib.PubSub");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Selection=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Selection(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){this.init=function(t){this._parent=t.parent,this._type=t.type||!1,this._selection=t.selectionStore||new exports.LocalStore,this._maxSelections=t.maxSelections||1,this._currentSelectionCount=0,this._lastSelected=null},this.getType=function(){return this._type},this.isSelected=function(t){return"object"==typeof t&&(t=t[this._parent.getDataSource().key]),this._selection.isSelected(t)},this.toggle=function(t){this._setSelected(t,!this.isSelected(t[this._parent.getDataSource().key]))},this.select=function(t){(this._currentSelectionCount<this._maxSelections||"single"==this._type)&&this._setSelected(t,!0)},this.deselect=function(t){this._setSelected(t,!1)},this.clear=this.deselectAll=function(){this._selection.deselectAll(),this._currentSelectionCount=0},this.get=function(){return 1==this._maxSelections?Object.keys(this._selection.get())[0]:Object.keys(this._selection.get())},this.getSelectionCount=function(){return this._currentSelectionCount},this._setSelected=function(t,e){if(t){var i=this._parent.getDataSource(),s=i.key;if("string"==typeof t&&(t=i.get(t),!t))return;i=t[s],this._selection.isSelected(i)!=e&&(e?(this._lastSelected&&"single"==this._type&&(s=this._lastSelected[s],this._selection.deselect(s),this._currentSelectionCount--,this.publish("Deselect",this._lastSelected,s)),this._lastSelected=t,this._selection.select(i),this._currentSelectionCount++):(this._selection.deselect(i),this._currentSelectionCount--),this.publish(e?"Select":"Deselect",t,i))}}}),exports.LocalStore=__class__,exports.LocalStore=exports.LocalStore(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){this._store={}},this.get=function(){return merge({},this._store)},this.select=function(t){this._store[t]=!0},this.deselect=function(t){delete this._store[t]},this.deselectAll=function(){this._store={}},this.isSelected=function(t){if(void 0!==t)return!!this._store[t];for(var e in this._store)return!0;return!1}});',pre:!0},"modules/devkit-core/modules/squill/TextButton.js":{path:"modules/devkit-core/modules/squill/TextButton.js",friendlyPath:".TextButton",directory:"modules/devkit-core/modules/squill/",filename:"TextButton.js",src:'jsio("import .Button, .Widget"),jsio("from util.browser import $");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_TextButton=__class__,TextButton=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_TextButton(function(){return this.init&&this.init.apply(this,arguments)},Button,function(){this._type="text-button",this.buildWidget=function(){var t=this._el;$.setText(t,this.getI18n("label")||this.getI18n("text")),this.initMouseEvents(t),this.initKeyEvents(t)},this.setLabel=function(t){this._opts.label=t,this._el&&$.setText(this._el,t)}});Widget.register(TextButton,"TextButton");',pre:!0},"modules/devkit-core/modules/squill/Button.js":{path:"modules/devkit-core/modules/squill/Button.js",friendlyPath:".Button",directory:"modules/devkit-core/modules/squill/",filename:"Button.js",src:'jsio("from util.browser import $"),jsio("import .Widget"),jsio("import .hint as hint");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Button=__class__,Button=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Button(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(t){this._css="btn",this._type="button",this.init=function(i){i=merge(i,{tag:"button",isEnabled:!0}),this._isEnabled=i.isEnabled,t(this,"init",[i]),this._hint=i.hint},this.create=function(){this._opts.style=merge(this._opts.style,{whiteSpace:"nowrap",display:"inline-block"}),t(this,"create",arguments)},this.buildWidget=function(){var t=this._el;this.initMouseEvents(t),this.initKeyEvents(t),t.style.userSelect="none",t.style.MozUserSelect="none",t.style.KhtmlUserSelect="none",t.unselectable="on"},this._setHintTimeout=function(t){this._hint&&(this._hintTimeout&&clearTimeout(this._hintTimeout),this._hintTimeout=setTimeout(bind(this,function(){hint.show(t.pageX+12,t.pageY+14,this._hint)}),300))},this.onMouseOver=function(t){this._setHintTimeout(t)},this.onMouseMove=function(t){this._setHintTimeout(t)},this.onMouseOut=function(){hint.hide(),this._hintTimeout&&clearTimeout(this._hintTimeout)},this.onClick=function(i){$.stopEvent(i),this._isEnabled&&(this._opts.onClick&&this._opts.onClick(i,this),t(this,"onClick",arguments))},this.captureOnEnter=function(t){t.subscribe("KeyDown",this,"onKeyDown"),t.subscribe("KeyUp",this,"onKeyUp")},this.onKeyDown=function(t){13==t.keyCode&&($.stopEvent(t),this.onMouseDown())},this.onKeyUp=function(t){13==t.keyCode&&($.stopEvent(t),this.onMouseUp(),this.onClick(t))},this.blur=function(){this._el&&this._el.blur()},this.focus=function(){this._el&&this._el.focus()},this.setEnabled=function(t){this._isEnabled!=t&&((this._isEnabled=t)?$.removeClass(this._el,"disabled"):$.addClass(this._el,"disabled"))}});',pre:!0},"modules/devkit-core/modules/squill/hint.js":{path:"modules/devkit-core/modules/squill/hint.js",friendlyPath:".hint",directory:"modules/devkit-core/modules/squill/",filename:"hint.js",src:'jsio("from util.browser import $");var hint=$({parent:document.body,className:"hint"});exports.show=function(t,e,i){hint.innerHTML=i,hint.style.left=t+"px",hint.style.top=e+"px",hint.style.display="block",console.log(i),t+hint.offsetWidth>=document.width&&(hint.style.left=t-hint.offsetWidth+"px")},exports.hide=function(){hint=hint||$({parent:document.body,className:"graphHint"}),hint.style.display="none"};var setHintTimeout=function(t){t.target.hintTimeout&&clearTimeout(t.target.hintTimeout),t.target.hintTimeout=setTimeout(bind(this,function(){exports.show(t.pageX+12,t.pageY+14,t.target.hintText)}),300)};exports.add=function(t,e){t.hintText=e,$.onEvent(t,"mouseover",setHintTimeout),$.onEvent(t,"mousemove",setHintTimeout),$.onEvent(t,"mouseout",function(t){exports.hide(),t.target.hintTimeout&&clearTimeout(t.target.hintTimeout)})};',pre:!0},"modules/devkit-core/modules/squill/TextInput.js":{path:"modules/devkit-core/modules/squill/TextInput.js",friendlyPath:".TextInput",directory:"modules/devkit-core/modules/squill/",filename:"TextInput.js",src:'jsio("from util.browser import $"),jsio("import .Widget"),jsio("import squill.models.bindings as bindings");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_TextInput=__class__,TextInput=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_TextInput(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(t){this._type="text",this._css="textInput",this.init=function(i){i=merge(i,{name:"",value:"",multiline:!1}),this._def={children:[{tag:i.multiline?"textarea":"input",id:"_input",attrs:{type:"text",value:i.value,name:i.name},style:merge(i.textStyle,{MozBoxSizing:"border-box",WebkitBoxSizing:"border-box",MsBoxSizing:"border-box",boxSizing:"border-box"})}],style:{position:"relative"}},i.prefixLabel&&this._def.children.unshift({id:"_label",text:i.label}),t(this,"init",[i])},this.buildWidget=function(){var t=this._el;"ontouchstart"in this._el&&(this._overlay=$({parent:this._el,attrs:{noCapture:!0},style:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",zIndex:1}}),this._overlay.addEventListener("click",bind(this,function(){$.hide(this._overlay),this._input.focus()}),!0));var i=this._opts;if(!i.prefixLabel||i.placeholder){var e=this.getI18n("label");null===this._input.getAttribute("placeholder")?this._input.setAttribute("placeholder",i.placeholder||e):this._placeholder=$.create({tag:"button",text:e,style:{position:"absolute"},parent:t})}this.initMouseEvents(t),this.initFocusEvents(this._input),this.initKeyEvents(this._input)},this.focus=function(){this._input.focus()},this.blur=function(){this._input.blur()},this.getInputElement=function(){return this._input},this.setName=function(i){t(this,"setName",arguments),this._input&&(this._input.name=i)},this.setData=this.setValue=function(t){void 0===t&&(t=""),this.saveSelection(),this._value=this._input.value=t,this.restoreSelection()},this.getValue=function(){return this._input.value},this.onKeyDown=function(){t(this,"onKeyDown",arguments),this._placeholder&&$.hide(this._placeholder)},this.onKeyUp=function(){t(this,"onKeyUp",arguments),this.checkLabel(),this.checkValue()},this.onMouseDown=function(i){t(this,"onMouseDown",arguments),i.stopPropagation()},this.onKeyPress=function(i){t(this,"onKeyPress",arguments),13==i.keyCode&&this.publish("EnterPressed"),this.checkValue()},this.onBlur=function(){t(this,"onBlur"),this.checkLabel(),this._overlay&&$.show(this._overlay)},this.isValid=function(){return this._isValid},this.checkValue=function(){var t=this._input.value,i=this._opts.formatter;i&&(t=i(t)),t==INVALID_VALUE?(this._isValid=!1,$.addClass(this._el,"invalid")):(this._isValid=!0,$.removeClass(this._el,"invalid"),this._value!=t&&(this._value=t,i=this._input,t!=i.value&&(this.saveSelection(),i.value=t,this.restoreSelection()),this.publish("change",this._value),this.publish("ValueChange",this._value)))},this.saveSelection=function(){this._selection={start:this._input.selectionStart,end:this._input.selectionEnd}},this.restoreSelection=function(){var t=this._input;this._isFocused&&(t.selectionStart=this._selection.start,t.selectionEnd=this._selection.end)},this.checkLabel=function(){this._placeholder&&/^\\s*$/.test(this._input.value)&&$.show(this._placeholder)},this.onClick=function(){t(this,"onClick")},this.setEnabled=function(t){(this._isEnabled=t)?(delete this._input.disabled,this.removeClass("disabled")):(this._input.disabled=!0,this.addClass("disabled"))},this.isFocused=function(){return this._isFocused},this.isEnabled=function(){return this._isEnabled},this.disable=function(){this.setEnabled(!1)},this.enable=function(){this.setEnabled(!0)}}),INVALID_VALUE=exports.INVALID_VALUE={};Widget.register(TextInput,"TextInput");',pre:!0},"modules/devkit-core/modules/squill/TextArea.js":{path:"modules/devkit-core/modules/squill/TextArea.js",friendlyPath:".TextArea",directory:"modules/devkit-core/modules/squill/",filename:"TextArea.js",src:'jsio("from util.browser import $"),jsio("import .Widget"),jsio("import .TextInput");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_TextArea=__class__,TextArea=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_TextArea(function(){return this.init&&this.init.apply(this,arguments)},TextInput,function(){this._tag="textarea"});Widget.register(TextArea,"TextArea");',pre:!0},"modules/devkit-core/modules/squill/Scroller.js":{path:"modules/devkit-core/modules/squill/Scroller.js",friendlyPath:".Scroller",directory:"modules/devkit-core/modules/squill/",filename:"Scroller.js",src:'jsio("import .Drag"),jsio("import .Widget"),jsio("import .transforms"),jsio("from util.browser import $");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Scroller=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Scroller(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(t){this._css="scroller",this.init=function(s){s=merge(s,{momentum:!0}),this._scrollTop=0,this._lastDelta={diff:0,when:0,duration:0},this._hasMomentum=s.momentum,t(this,"init",[s])},this.buildContent=function(){var s=this._el;return $.style(s,{height:"100%"}),this._scrollPane=$({parent:s,className:"squill-scrollPane",minHeight:"100%"}),"ontouchstart"in s?(s.addEventListener("touchstart",bind(this,"onTouchStart"),!0),s.addEventListener("mousedown",this,"start"),this.initDragEvents(),this._el.style.overflow="hidden",transforms.setTop(this._scrollPane,0)):this._el.style.overflow="auto",this._def&&(s=this._def,this._def=null,this.buildChildren(merge({el:this._scrollPane},s))),t(this,"buildContent",arguments)},this.getScrollTop=function(){return this._scrollTop},this.getContainer=this.getScrollPane=function(){return this._scrollPane},this.onTouchStart=function(){this._momentum&&clearInterval(this._momentum)},this.onDragStart=function(){this._height=this._scrollPane.offsetHeight-this._el.offsetHeight,this._lastDelta.when=+new Date,this._momentum&&clearInterval(this._momentum)},this.onDrag=function(t,s,i){t=+new Date,s=this._lastDelta,s.diff=i.y,s.duration=s.when&&t-s.when||0,s.when=t,this.scrollTo(this._scrollTop+i.y)},this.scrollTo=function(t,s){this._scrollTop=t,this._scrollTop<-this._height&&(this._scrollTop=-this._height),0<this._scrollTop&&(this._scrollTop=0),this._el.setAttribute("squill-scroller-top",-this._scrollTop);var i=bind(this,function(){if(document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("scroll",!0,!1),this._el.dispatchEvent(t)}});s?transforms.move(this._scrollPane,0,this._scrollTop,"0.5s ease-in-out",i):(transforms.move(this._scrollPane,0,this._scrollTop),i())},this.onDragStop=function(t,s){if($.stopEvent(s),this._hasMomentum&&0!=this._lastDelta.duration){var i=this._lastDelta,e=i.diff/i.duration,o=i.when;this._momentum=setInterval(bind(this,function(){var t=+new Date;this.scrollTo(this._scrollTop+e*(t-o)),e*=.95,.01>Math.abs(e)&&(clearTimeout(this._momentum),this._momentum=null),o=t}),10)}}});',pre:!0},"modules/devkit-core/modules/squill/transforms.js":{path:"modules/devkit-core/modules/squill/transforms.js",friendlyPath:".transforms",directory:"modules/devkit-core/modules/squill/",filename:"transforms.js",src:'jsio("from util.browser import $");var vendor=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",has3d="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,hasTransform=vendor+"Transform"in document.documentElement.style,translateStart="translate"+(has3d?"3d(":"("),translateEnd=has3d?",0)":")";hasTransform?(exports.setLeft=function(t,n){t.style[vendor+"Transform"]=translateStart+n+"px,0"+translateEnd},exports.setTop=function(t,n){t.style[vendor+"Transform"]=translateStart+"0,"+n+"px"+translateEnd}):(exports.setLeft=function(t,n){t.style.left=n+"px"},exports.setTop=function(t,n){t.style.top=n+"px"}),exports.onTransitionEnd=function(t,n){var r=!1,o=function(){if(!r){r=!0;for(var t,o=0;t=e[o];++o)t();n()}},e=[$.onEvent(t,"webkitTransitionEnd",o),$.onEvent(t,"transitionend",o),$.onEvent(t,"oTransitionEnd",o)]},exports.setTransition=function(t,n,r){if(n){var o=t.style[vendor+"Transition"];exports.onTransitionEnd(t,function(){t.style[vendor+"Transition"]=o,r&&r()}),t.style[vendor+"Transition"]="-"+vendor+"-transform "+n}else t.style[vendor+"Transition"]="none"},exports.rotate=function(t,n,r,o){hasTransform?(exports.setTransition(t,r,o),t.style[vendor+"Transform"]="rotate("+n+")",o&&!r&&o()):o&&o()},exports.move=function(t,n,r,o,e){hasTransform?(exports.setTransition(t,o,e),t.style[vendor+"Transform"]=translateStart+n+"px,"+r+"px"+translateEnd,e&&!o&&e()):e&&e()},exports.hasTransform=hasTransform;',pre:!0},"modules/devkit-core/modules/squill/Canvas.js":{path:"modules/devkit-core/modules/squill/Canvas.js",friendlyPath:".Canvas",directory:"modules/devkit-core/modules/squill/",filename:"Canvas.js",src:'jsio("from util.browser import $"),jsio("import .Widget");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Canvas=__class__,Canvas=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Canvas(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(t){this._css="cnvs",this._type="canvas",this.init=function(i){i=merge(i,{tag:"canvas"}),this._isEnabled=i.isEnabled,t(this,"init",[i])},this.create=function(){t(this,"create",arguments)},this.buildWidget=function(){var t=this._el;t.width=this._opts.width,t.height=this._opts.height,this._opts.color&&(t.style.backgroundColor=this._opts.color),this.initMouseEvents(t),this.initKeyEvents(t)}});',pre:!0},"modules/devkit-core/modules/squill/CheckBox.js":{path:"modules/devkit-core/modules/squill/CheckBox.js",friendlyPath:".CheckBox",directory:"modules/devkit-core/modules/squill/",filename:"CheckBox.js",src:'jsio("import .Widget"),jsio("from util.browser import $");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_CheckBox=__class__,CheckBox=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_CheckBox(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(){this._css="checkbox",this._def={tag:"label",children:[{id:"checkbox",tag:"input",attrs:{type:"checkbox"}},{tag:"span",id:"label",text:""}]},this.buildWidget=function(){this.setLabel(this._opts.label||""),this._opts.name&&this.setName(this._opts.name),this._opts.value&&this.setValue(this._opts.value),this.initMouseEvents(this.checkbox),$.onEvent(this.checkbox,"change",this,"_onCheck"),this._opts.__result&&this._opts.__result.addSubscription(this,"Select",this._opts.id)},this._onCheck=function(){this.publish("Check",this.isChecked()),this.emit("change",this.isChecked())},this.setLabel=function(t){$.setText(this.label,t)},this.setName=function(t){this.checkbox.name=t},this.setData=this.setValue=function(t){this.checkbox.checked=!!t},this.isChecked=function(){return this.checkbox.checked},this.setChecked=function(t){this.checkbox.checked=t},this.getValue=function(){return this.isChecked()?this.checkbox.value:null}});',pre:!0},"modules/devkit-core/modules/squill/Menu.js":{path:"modules/devkit-core/modules/squill/Menu.js",friendlyPath:".Menu",directory:"modules/devkit-core/modules/squill/",filename:"Menu.js",src:'function trapIframes(){_trappedFrames.length&&untrapIframes(),_trappedFrames=Array.prototype.map.call(document.getElementsByTagName("iframe"),function(e){var t={el:e,set:e.style.pointerEvents};return e.style.pointerEvents="none",t})}function untrapIframes(){_trappedFrames.forEach(function(e){e.el.style.pointerEvents=e.set})}jsio("import lib.PubSub"),jsio("import .Widget"),jsio("import .Delegate"),jsio("from util.browser import $");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Menu=__class__,Menu=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Menu(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(){this._css="menu",this._def={children:[{id:"container"}]},this.delegate=new Delegate(function(e){e.call=function(e,t){var n=e.controller.delegate;n.call.apply(n,[e.controller].concat(Array.prototype.slice.call(arguments,1)))}}),this.getContainer=function(){return this.container},this.onBeforeShow=function(){},this.onShow=function(){},this.onBeforeHide=function(){},this.onHide=function(){},this.toggle=function(){this._isShowing?this.hide():this.show()},this.show=function(){this._isShowing=!0;var e=this._el,t=bind(this,function(t){for(var n=t.target;n;){if(n==e)return!0;if(/squill-checkbox/.test(n.className))return!1;n=n.parentNode}return t.preventDefault&&t.preventDefault(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0}),n=bind(this,function(e){t(e)&&(this.hide(),untrapIframes(),document.body.removeEventListener("mousedown",t,!0),document.body.removeEventListener("mouseup",t,!0),document.body.removeEventListener("click",n,!0))});trapIframes(),document.body.addEventListener("mousedown",t,!0),document.body.addEventListener("mouseup",t,!0),document.body.addEventListener("click",n,!0),$.show(e),this.emit("open"),Menu.emit("open",this)},this.hide=function(){this._isShowing=!1,$.hide(this._el),this.emit("close"),Menu.emit("close",this)}}),subs=new lib.PubSub;Menu.emit=bind(subs,"emit"),Menu.on=bind(subs,"on"),Menu.removeListener=bind(subs,"removeListener");var _trappedFrames=[];',pre:!0},"modules/devkit-core/modules/squill/Slider.js":{path:"modules/devkit-core/modules/squill/Slider.js",friendlyPath:".Slider",directory:"modules/devkit-core/modules/squill/",
filename:"Slider.js",src:'jsio("from util.browser import $"),jsio("import .Widget");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Slider=__class__,Slider=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Slider(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(t){this._css="rng",this._type="range",this.init=function(i){this._width=i.width||100,this._padding=12,this._hover=!1,this._fillColor=i.fillColor||"#000000",this._lineColor=i.lineColor||"#FFFFFF",this._def={children:[{id:i.id+"Canvas",tag:"canvas",attrs:{width:this._width,height:2*this._padding}}]},t(this,"init",[i])},this._render=function(){var t=this._width,i=this._padding,s=this._ctx;s.clearRect(0,0,t,2*i),s.lineCap="round",s.beginPath(),s.arc(i+2,i,2,.5*Math.PI,1.5*Math.PI,!1),s.arc(t-i-2,i,2,1.5*Math.PI,.5*Math.PI,!1),s.closePath(),s.lineWidth=1,s.strokeStyle=this._lineColor,s.stroke(),s.fillStyle=this._fillColor,s.fill(),s.save(),this._hover&&(s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowBlur=10,s.shadowColor="#0099FF"),t=~~((t-2*i)*(this.value-this.min)/(this.max-this.min)),s.beginPath(),s.arc(i+t,i,5,0,2*Math.PI,!1),s.closePath(),i=s.createRadialGradient(i-1+t,i-1,0,i+t,i,4),i.addColorStop(0,"#FFFFFF"),i.addColorStop(1,"#707070"),s.fillStyle=i,s.fill(),s.restore()},this.buildWidget=function(){var t=this._el;canvas=t.firstChild,t.slider=this,$.onEvent(canvas,"mouseout",this,"_onMouseOut"),$.onEvent(canvas,"mousedown",this,"_onMouseDown"),$.onEvent(canvas,"mouseup",this,"_onMouseUp"),$.onEvent(canvas,"mousemove",this,"_onMouseMove"),this.min=this._opts.min||0,this.max=this._opts.max||100,this.step=this._opts.step||1,this.value=this._opts.value||0,this._mouseDown=!1,this._checkRange(),this._ctx=canvas.getContext("2d"),this._render()},this.setValue=function(t){this.value=t,this._render()},this._onChange=function(){this.publish("Change",this.value)},this._checkRange=function(){this.value<this.min&&(this.value=this.min),this.value>this.max&&(this.value=this.max)},this._checkMouse=function(t){var i=t.offsetX,s=t.offsetY,e=this._width,h=this._padding,o=this._hover;this._mouseDown?i>h&&s>h-5&&i<e-h&&s<h+5&&(t=(t.offsetX-h)/(e-2*h)*(this.max-this.min),this.value=t=this.min+Math.round(t/this.step)*this.step,this._checkRange(),this._render(),this._onChange()):(s>h-5&&s<h+5?(v=h+~~((e-2*h)*(this.value-this.min)/(this.max-this.min)),this._hover=i>v-5&&s<v+5):this._hover=!1,this._hover!==o&&this._render())},this._onMouseOut=function(){this._hover=this._mouseDown=!1,this._render()},this._onMouseDown=function(t){this._mouseDown=!0,this._checkMouse(t)},this._onMouseUp=function(){this._mouseDown=!1},this._onMouseMove=function(t){this._checkMouse(t)}});',pre:!0},"modules/devkit-core/modules/squill/Color.js":{path:"modules/devkit-core/modules/squill/Color.js",friendlyPath:".Color",directory:"modules/devkit-core/modules/squill/",filename:"Color.js",src:'jsio("from util.browser import $"),jsio("import .Widget"),jsio("import .jscolor.jscolor as jscolor");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Color=__class__,Color=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Color(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(t){this._css="clr",this._type="text",this.init=function(s){s=merge(s,{tag:"input"}),this._isEnabled=s.isEnabled,t(this,"init",[s])},this.buildWidget=function(){var t=this._el;$.addClass(t,"squill-color"),t.min=this._opts.min||0,t.max=this._opts.max||100,t.step=this._opts.step||1,t.value=this._opts.value||0,t.onchange=bind(this,this._onChange),jscolor.bind(t)},this.setValue=function(t){t&&("#"!==t[0]&&(t="#"+t),this._el.style.backgroundColor=t,t=t.substr(1,6)),this._el.value=t},this.getValue=function(){return this._el.value},this._onChange=function(){this.publish("Change",this._el.value)}});',pre:!0},"modules/devkit-core/modules/squill/VerticalCenter.js":{path:"modules/devkit-core/modules/squill/VerticalCenter.js",friendlyPath:".VerticalCenter",directory:"modules/devkit-core/modules/squill/",filename:"VerticalCenter.js",src:'jsio("import .Widget"),jsio("from util.browser import $");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_VerticalCenter=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_VerticalCenter(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(){this._def={tag:"table",style:merge({height:"100%",width:"100%"},def.style),attrs:{cellpadding:0,cellspacing:0},children:[$({tag:"tbody",children:[$({tag:"tr",children:[$({id:"contentPane",tag:"td",attrs:{valign:"middle"},style:{verticalAlign:"middle"}})]})]})]},this.addElement=function(){this.contentPane.appendChild(el)}});',pre:!0},"modules/devkit-core/modules/squill/TreeList.js":{path:"modules/devkit-core/modules/squill/TreeList.js",friendlyPath:".TreeList",directory:"modules/devkit-core/modules/squill/",filename:"TreeList.js",src:'jsio("from util.browser import $"),jsio("import .Widget");var elementIDPrefix=0,Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_TreeList=__class__,TreeList=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_TreeList(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(e){var t={key:"id",label:"title",wrapperId:"browser",contentId:"contentWrapper"};this.init=function(i){i=i||{},i=merge(i,t),this._initClasses(i),this._key=i.key,this._label=i.label,this._wrapperId=i.wrapperId,this._contentId=i.contentId,this._leaveWidth=i.leaveWidth||600,elementIDPrefix++,this._elementIDPrefix="menuItem"+elementIDPrefix+"_",i.dataSource?this.setDataSource(i.dataSource):this._dataSource=null,this._def={id:this._wrapperId,className:"browser",children:[{id:this._contentId,className:"contentWrapper",children:[]}]},this._root=null,this._itemByKey={},e(this,"init",arguments)},this._initClasses=function(e){this._classNames={nodeWrapper:e.nodeWrapper||"browserNodeWrapper",nodeWrapperHidden:e.nodeWrapperHidden||"browserNodeWrapperHidden",node:e.node||"browserNode",nodeChildren:e.nodeChildren||"children",nodeActive:e.nodeActive||"active",nodeActiveChild:e.nodeActiveChild||"browserNodeActiveChild"}},this._clearItem=function(e){var t,i,s,n;if(e.children)for(i=e.children;i.length;)this._clearItem(i.pop());if(e.parent){for(t=e.parent,i=t.children,s=0,n=i.length;s<n;s++)if(i[s]===e){i.splice(s,1);break}!i.length&&t.group&&($.remove(t.group.parentNode),$.remove(t.group),delete t.group)}$.remove(e.node),e.group&&$.remove(e.group)},this._createMenuId=function(e){var t=this._menuId;return e&&this._menuId++,this._elementIDPrefix+t},this._createGroup=function(e){var t=this._createMenuId(!0),e=$({parent:$({parent:$.id(this._contentId),id:t,className:e?this._classNames.nodeWrapper:this._classNames.nodeWrapperHidden}),className:this._classNames.node});return e.menuId=t,e},this._createItem=function(e,t){var i=this._createMenuId(!0);e.node=$({parent:t,id:i,tag:"a",text:e[this._label]}),$.onEvent(i,"click",this,"onClick",e)},this.buildWidget=function(){this._menuId=0,this._menuById=[],this._menuStack=[],this._menuActiveItem=!1,null!==this._dataSource&&this._dataSource.each(bind(this,this.onCreateItem))},this._removeFromStack=function(e){for(var t=this._menuStack,i=null;t.length&&t[t.length-1].depth>=e;)i=t.pop(),$.removeClass(i.node.id,this._classNames.nodeActive),$.removeClass(i.node.id,this._classNames.nodeActiveChild),i.group&&($.addClass(i.group.menuId,this._classNames.nodeWrapperHidden),$.removeClass(i.group.menuId,this._classNames.nodeWrapper));return i},this.applyNodeStyle=function(e){e.children&&e.children.length?$.addClass(e.node,this._classNames.nodeChildren):$.removeClass(e.node,this._classNames.nodeChildren),e===this._menuActiveItem?$.addClass(e.node,this._classNames.nodeActive):$.removeClass(e.node,this._classNames.nodeActive),void 0!==e.removeCustomClass&&e.removeCustomClass&&$.removeClass(e.node,e.removeCustomClass),void 0!==e.customClass&&e.customClass&&($.removeClass(e.node,e.customClass),$.addClass(e.node,e.customClass))},this._addToStack=function(e){if(this._menuStack.push(e),this.applyNodeStyle(e),e.children&&e.children.length){if(!e.group){var t,i,s;for(e.children.sort(),e.group=this._createGroup(!0),i=0,s=e.children.length;i<s;i++)t=e.children[i],this._createItem(t,e.group),this.publish("DisplayItem",t.data,t),this.applyNodeStyle(t)}$.addClass(e.group.menuId,this._classNames.nodeWrapper),$.removeClass(e.group.menuId,this._classNames.nodeWrapperHidden)}},this.onClick=function(e){var t=this._menuStack,i=null;this.publish("SelectItem",e.data,e),this._menuActiveItem&&(i=this._menuActiveItem,this._menuActiveItem=null,this.applyNodeStyle(i),i=null),t.length&&e.depth<=t[t.length-1].depth&&(i=this._removeFromStack(e.depth)),i!==e&&this._addToStack(e),this._menuActiveItem=e,this.applyNodeStyle(e),t.length&&(e=t.length,t[t.length-1].children&&t[t.length-1].children.length&&e++,$.id(this._contentId).style.width=200*e+this._leaveWidth+"px")},this.onUpdateItem=function(e,t){var i,s,n,r,o,a={title:e[this._label],toString:function(){return this.title}};if(this._itemByKey[t])this._itemByKey[t].node&&(this._itemByKey[t].node.innerHTML=e[this._label]);else{if(null===e.parent||-1===e.parent)null===this._root&&(this._rootGroup=this._createGroup(!0),this._createItem(a,this._rootGroup),this._root=a,a.data=e,a.depth=0,a.parent=null,this.publish("DisplayItem",a.data,a),this.applyNodeStyle(a));else{if(i=this._itemByKey[e.parent[this._key]])if(i.children||(i.children=[]),s=i.children,!this._menuActiveItem||this._menuActiveItem!==i&&this._menuActiveItem.parent!==i)s.push(a);else{for(r=0,o=s.length;r<o;r++)s[r].node&&($.remove(s[r].node),s[r].node=null);for(s.push(a),s.sort(),i.group||(i.group=this._createGroup(!0),$.id(this._contentId).style.width=200*(this._menuStack.length+1)+500+"px"),r=0,o=s.length;r<o;r++)n=s[r],this._createItem(n,i.group),this.publish("DisplayItem",n.data,n),this.applyNodeStyle(n)}a.depth=i.depth+1,a.parent=i}a.data=e,this._itemByKey[t]=a}},this.onCreateItem=function(e){this.onUpdateItem(e,e[this._key])},this.onRemoveItem=function(e,t){var i,s=this._itemByKey[t];s&&(s=1>=s.parent.children.length,i=e[this._dataSource.parentKey],this._removeFromStack(this._itemByKey[t].depth-1),this._clearItem(this._itemByKey[t]),this._menuActiveItem=!1,delete this._itemByKey[t],this.publish("UnSelectItem"),s&&i&&(s=this._itemByKey[i[this._dataSource.key]],this.publish("DisplayItem",s.data,s),this.applyNodeStyle(s)))},this.showItem=function(e){var t=this.getTreeNode(e);this.publish("DisplayItem",e,t),this.applyNodeStyle(t)},this.setDataSource=function(e){this._dataSource=e,this._dataSource.subscribe("Update",this,this.onUpdateItem),this._dataSource.subscribe("Remove",this,this.onRemoveItem)},this.getPathString=function(e){var t,i,s="",n=this._menuStack,e=e||" ";for(t=0,i=n.length;t<i;t++)""!==s&&(s+=e),s+=n[t].data[this._label];return s},this.getTreeNode=function(e){return this._itemByKey[e[this._dataSource.key]]}});',pre:!0},"modules/devkit-core/modules/squill/Graph.js":{path:"modules/devkit-core/modules/squill/Graph.js",friendlyPath:".Graph",directory:"modules/devkit-core/modules/squill/",filename:"Graph.js",src:'jsio("from util.browser import $"),jsio("import .Widget"),jsio("import .hint as hint");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Graph=__class__,Graph=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Graph(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(t){this._css="cnvs",this._type="canvas",this.init=function(e){params=merge(e,{tag:"canvas"}),t(this,"init",arguments),this.setSettings(e.settings||{}),this._width=e.width||400,this._height=e.height||400,this._rectangles=[],this._data=!1,$.onEvent(this._el,"mousemove",this,this._onMouseMove),$.onEvent(this._el,"mouseout",this,this._onMouseOut)},this._onMouseMove=function(t){for(var e,i=this._rectangles,a=!1,n=i.length;n;)if(e=i[--n],t.offsetX>=e.x1&&t.offsetY>=e.y1&&t.offsetX<=e.x2&&t.offsetY<=e.y2){a=!0;break}a?hint.show(t.pageX+15,t.pageY+15,e.label):hint.hide()},this._onMouseOut=function(){hint.hide()},this.buildWidget=function(){var t=this._el;this.initMouseEvents(t),this.initKeyEvents(t)},this._renderBackground=function(t){var e=this._el,i=e.width,e=e.height;this._currentWidth=i,this._currentHeight=e,this._settings.fillColor?(t.fillStyle=this._settings.fillColor,t.fillRect(0,0,i,e)):t.clearRect(0,0,i,e)},this._calculateSegments=function(t,e){var i,a,n,l=this._settings,s=0,o=0,r=e.length;for(i=0;i<r;i++)for(item=e[i],o=Math.max(t.measureText(item.title).width,o),o>l.maxLabelSize&&(o=l.maxLabelSize),a=0,n=item.points.length;a<n;a++)s=Math.max(item.points[a],s);for(l=[.5,.25,.2,.125,.1],i=0,r=1;10<s/(l[i]*r);)i++,i>=l.length&&(i=0,r*=10);return s=Math.ceil(s/(l[i]*r)),{steps:s,step:l[i],max:s*l[i]*r,maxLabel:o+4,factor:r}},this._trimLabel=function(t,e,i){if(e.measureText(i).width>t.maxLabel){for(;e.measureText(i+"...").width>t.maxLabel;)i=i.substr(0,i.length-1);i+="..."}return i},this._renderHorizontalAxis=function(t,e,i){var a,n,l,s,o=this._settings,r=o.valueSpace,h=o.mainPadding,g=this._currentWidth-2*h-r,d=this._currentHeight-2*h-t.maxLabel,f=g/i.length;for(e.strokeStyle=o.barBackground,l=0;2>l;l++)n=r+h+.5+l*g,e.beginPath(),e.moveTo(n,h),e.lineTo(n,h+d),e.stroke();for(e.textAlign="right",e.textBaseline="top",l=0,s=i.length;l<s;l++)n=r+h+l*f,e.save(),e.rotate(-.5*Math.PI),a=this._trimLabel(t,e,i[l].title),e.fillStyle=this._settings.textColor,e.fillText(a,-(h+d+4),n),e.restore(),0===(1&l)&&(e.fillStyle=o.barBackground,e.fillRect(n,h,f,d));for(e.strokeStyle=this._settings.lineColor,e.fillStyle="#000000",i=0,l=d,s=0;0<=l;)a=(s*t.step).toString(10),n=a.indexOf("."),-1!==n&&(n=a.length-n-1,n>i&&(i=n)),l=Math.ceil(l-d/t.steps),s++;for(l=d,s=0;0<=l;){if(n=h+r,a=h+~~l+.5,e.beginPath(),e.moveTo(n,a),e.lineTo(n+g,a),e.stroke(),a=(s*t.step).toString(10),i&&-1===a.indexOf("."))for(a+=".",n=0;n<i;n++)a+="0";e.fillStyle=this._settings.textColor,e.fillText(a,r+h-2,h+l-8),l=Math.ceil(l-d/t.steps),s++}e.textAlign="left",a=o.mainLabel+" x"+t.factor,l=h,s=h+d/2+(e.measureText(a).width+o.itemSize)/2,e.save(),e.rotate(-.5*Math.PI),e.fillStyle=this._settings.textColor,e.fillText(a,-s-o.itemSize,l),e.restore(),s-=e.measureText(a).width,e.beginPath(),e.moveTo(l+7.5,s),e.lineTo(l+7.5,s+26),e.stroke(),e.beginPath(),e.moveTo(l+3.5,s+5.5),e.lineTo(l+7.5,s),e.lineTo(l+11.5,s+5.5),e.stroke()},this._renderVerticalBars=function(t,e,i){var a,n,l,s,o,r,h,g,d=this._settings,f=d.valueSpace,_=d.mainPadding,m=this._currentHeight-2*_-t.maxLabel,u=(this._currentWidth-2*_-f)/i.length,c=u-2*d.barPadding;for(e.globalAlpha=.9,o=0,r=i.length;o<r;o++)for(s=i[o],a=s.points,g=a.length,a=~~(c/g),h=0;h<g;h++)n=s.points[h]/t.max*m,l=f+_+o*u+d.barPadding,barY=_+m-n,e.fillStyle=d.dataColors[h%d.dataColors.length],e.fillRect(l+h*a,barY,a-1,n);e.globalAlpha=1},this._renderVerticalPoints=function(t,e,i){var a,n,l,s,o,r,h,g,d=this._settings,f=-1!==d.types.indexOf("points"),_=-1!==d.types.indexOf("lines"),m=-1!==d.types.indexOf("area"),u=d.valueSpace,c=d.mainPadding,x=this._currentHeight-2*c-t.maxLabel,b=(this._currentWidth-2*c-u)/i.length,p=b-2*d.barPadding,S=[];for(pointYLast=null,r=0,h=i.length;r<h;r++){for(o=i[r],l=o.points,s=null!==pointYLast,null===pointYLast&&(pointYLast=[]),a=~~(u+c+r*b+d.barPadding+p/2),g=0,l=l.length;g<l;g++)n=~~(c+x-o.points[g]/t.max*x),S[g]||(S[g]=[]),S[g].push({x:a,y:n}),e.strokeStyle=d.dataColors[g%d.dataColors.length],f&&e.strokeRect(a-4.5,n-4.5,10,10),s&&_&&(e.beginPath(),e.moveTo(pointXLast,pointYLast[g]),e.lineTo(a,n),e.stroke()),pointYLast[g]=n;pointXLast=a}if(m){for(e.globalAlpha=.05,r=0,h=S.length;r<h;r++){for(e.beginPath(),e.lineTo(S[r][0].x,c+x),g=0,l=S[r].length;g<l;g++)t=S[r][g],e.lineTo(t.x,t.y);e.lineTo(S[r][l-1].x,c+x),e.closePath(),e.fillStyle=d.dataColors[r%d.dataColors.length],e.fill()}e.globalAlpha=1}},this._renderVerticalAxis=function(t,e,i){var a,n,l,s,o=this._settings,r=o.mainPadding,h=this._currentWidth-2*r-t.maxLabel,g=this._currentHeight-2*r-o.valueSpace,d=g/i.length;for(e.strokeStyle=o.barBackground,l=0;2>l;l++)n=r+.5+l*g,e.beginPath(),e.moveTo(r+t.maxLabel,n),e.lineTo(r+t.maxLabel+h,n),e.stroke();for(e.textAlign="right",e.textBaseline="top",l=0,s=i.length;l<s;l++)n=r+l*d,a=this._trimLabel(t,e,i[l].title),e.fillStyle=this._settings.textColor,e.fillText(a,r+t.maxLabel-4,n+4),this._rectangles.push({x1:r+t.maxLabel-4-e.measureText(a).width,y1:n+4,x2:r+t.maxLabel-4,y2:n+20,label:i[l].title}),0===(1&l)&&(e.fillStyle=o.barBackground,e.fillRect(r+t.maxLabel,n,h,d));for(e.textAlign="center",e.strokeStyle=this._settings.lineColor,e.fillStyle="#000000",s=l=i=0;l<=h;)a=(s*t.step).toString(10),n=a.indexOf("."),-1!==n&&(n=a.length-n-1,n>i&&(i=n)),l=Math.floor(l+h/t.steps),s++;for(s=l=0;l<=h;){if(a=r+t.maxLabel+~~l+.5,n=r,e.beginPath(),e.moveTo(a,n),e.lineTo(a,n+g),e.stroke(),a=(s*t.step).toString(10),i&&-1===a.indexOf("."))for(a+=".",n=0;n<i;n++)a+="0";e.fillStyle=this._settings.textColor,e.fillText(a,r+t.maxLabel+l,r+g+2),l=Math.floor(l+h/t.steps),s++}e.textAlign="left",a=o.mainLabel+" x"+t.factor,l=r+h/2-(e.measureText(a).width+o.itemSize)/2+t.maxLabel,s=r+g+18,e.fillStyle=this._settings.textColor,e.fillText(a,l,s),l+=e.measureText(a).width,e.beginPath(),e.moveTo(l+4,s+7.5),e.lineTo(l+o.itemSize,s+7.5),e.stroke(),e.beginPath(),e.moveTo(l+o.itemSize-4,s+3.5),e.lineTo(l+o.itemSize,s+7.5),e.lineTo(l+o.itemSize-4,s+11.5),e.stroke()},this._renderHorizontalBars=function(t,e,i){var a,n,l,s,o,r,h,g,d,f=this._settings,_=f.mainPadding,m=this._currentWidth-2*_-t.maxLabel,u=(this._currentHeight-2*_-f.valueSpace)/i.length,c=u-2*f.barPadding;for(e.globalAlpha=.9,r=0,h=i.length;r<h;r++)for(o=i[r],a=o.points,d=a.length,n=~~(c/d),g=0;g<d;g++)a=~~(o.points[g]/t.max*m),l=t.maxLabel+_,s=~~_+r*u+f.barPadding,e.fillStyle=f.dataColors[g%f.dataColors.length],e.fillRect(l,s+g*n,a,n-1);e.globalAlpha=1},this._renderHorizontalPoints=function(t,e,i){var a,n,l,s,o,r,h,g,d=this._settings,f=-1!==d.types.indexOf("points"),_=-1!==d.types.indexOf("lines"),m=-1!==d.types.indexOf("area"),u=d.mainPadding,c=this._currentWidth-2*u-t.maxLabel,x=(this._currentHeight-2*u-d.valueSpace)/i.length,b=x-2*d.barPadding,p=[];for(pointXLast=null,r=0,h=i.length;r<h;r++){for(o=i[r],l=o.points,s=null!==pointXLast,null===pointXLast&&(pointXLast=[]),n=~~(u+r*x+d.barPadding+b/2),g=0,l=l.length;g<l;g++)a=~~(u+o.points[g]/t.max*c+t.maxLabel),p[g]||(p[g]=[]),p[g].push({x:a,y:n}),e.strokeStyle=d.dataColors[g%d.dataColors.length],f&&e.strokeRect(a-4.5,n-4.5,10,10),s&&_&&(e.beginPath(),e.moveTo(pointXLast[g],pointYLast),e.lineTo(a,n),e.stroke()),pointXLast[g]=a;pointYLast=n}if(m){for(e.globalAlpha=.05,r=0,h=p.length;r<h;r++){for(e.beginPath(),e.moveTo(u+t.maxLabel,p[r][0].y),g=0,l=p[r].length;g<l;g++)i=p[r][g],e.lineTo(i.x,i.y);e.lineTo(u+t.maxLabel,p[r][l-1].y),e.closePath(),e.fillStyle=d.dataColors[r%d.dataColors.length],e.fill()}e.globalAlpha=1}},this.setData=function(t){var e=this._el,i=e.getContext("2d"),a=this._settings,n=a.types,l=function(){},s=function(){},o=function(){};switch(a.orientation){case"horizontal":e.width=this._width,e.height=t.length*a.itemSize+this._settings.valueSpace,l=bind(this,this._renderVerticalAxis),s=bind(this,this._renderHorizontalBars),o=bind(this,this._renderHorizontalPoints);break;case"vertical":e.width=t.length*a.itemSize+this._settings.valueSpace,e.height=this._height,l=bind(this,this._renderHorizontalAxis),s=bind(this,this._renderVerticalBars),o=bind(this,this._renderVerticalPoints)}i.font=a.font,this._renderBackground(i),t.length&&(e=this._calculateSegments(i,t),l(e,i,t),(-1!==n.indexOf("points")||-1!==n.indexOf("area")||-1!==n.indexOf("lines"))&&o(e,i,t),-1!==n.indexOf("bars")&&s(e,i,t)),this._data=t},this.setSettings=function(t){t.mainLabel=t.mainLabel||"",t.textColor=t.textColor||"#000000",t.fillColor=void 0===t.fillColor?"#FFFFFF":t.fillColor,t.lineColor=t.lineColor||"#000000",t.orientation=t.oriantation||"horizontal",t.types=t.types||"bars,lines,area,points",t.barPadding=t.barPadding||2,t.barBackground=t.barBackground||"#F8F8F8",t.mainPadding=t.mainPadding||10,t.valueSpace=t.valueSpace||40,t.dataColors=t.dataColors||["#DD0000","#00DD00","#0000DD"],t.font=t.font||"13px Verdana",t.maxLabelSize=t.maxLabelSize||200,t.itemSize=t.itemSize||50,this._settings=t},this.update=function(){this._data&&this.setData(this._data)}});',pre:!0},"modules/devkit-core/modules/squill/SelectBox.js":{path:"modules/devkit-core/modules/squill/SelectBox.js",friendlyPath:".SelectBox",directory:"modules/devkit-core/modules/squill/",filename:"SelectBox.js",src:'jsio("import .Widget"),jsio("import squill.models.DataSource as DataSource"),jsio("from util.browser import $");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_SelectBox=__class__,SelectBox=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_SelectBox(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(t){this._css="select",this._def={tag:"label",style:{display:"inline-block"},children:[{id:"_select",tag:"select"}]},this.init=function(e){e=merge(e,{renderer:bind(this,"defaultRenderer")}),this._items={},e.dataSource&&this.setDataSource(e.dataSource),t(this,"init",arguments)},this.buildWidget=function(){if(this._opts.name&&this.setName(this._opts.name),this._dataSource||this.setDataSource(new DataSource),this._opts.items){var t=1;this._dataSource.add(this._opts.items.map(function(e){return"object"!=typeof e?{id:"string"==typeof e?e:t++,value:e}:(e.id||(e.id="value"in e?e.value:"title"in e?e.title:t++),e)}))}"value"in this._opts&&this.setValue(this._opts.value),this.initMouseEvents(this._el),$.onEvent(this._select,"change",this,"_onSelect")},this._onSelect=function(){var t=this._dataSource.get(this.getValue());t&&this.publish("change",t)},this.getDataSource=function(){return this._dataSource},this.setDataSource=function(t){this._dataSource&&(this._dataSource.unsubscribe("Update",this),this._dataSource.unsubscribe("Remove",this)),this._dataSource=t,this._dataSource.subscribe("Update",this,"onUpdateItem"),this._dataSource.subscribe("Remove",this,"onRemoveItem"),this._dataSource.forEach(function(t,e){this.onUpdateItem(e,t)},this)},this.defaultRenderer=function(t){var e=this._dataSource.getKey();return t.displayName||t.label||t.title||t.text||t[e]},this.onUpdateItem=function(t,e){var i=this._items[t],s=this._dataSource.getKey();if("string"==typeof e){var a={};a[s]=e,e=a}i||(i=this._items[t]=$.create({tag:"option"}),$.insertBefore(this._select,i)),i.setAttribute("value",e[s]),a=this._opts.renderer,i.innerText="string"==typeof a?e[a]:a(e),i.value=e[s]},this.onRemoveItem=function(t){var e=this._items[t],i=this.getValue();e&&($.remove(e),delete this._items[t]),this.getValue()!=i&&this._onSelect()},this.setName=function(t){this._select.name=t},this.setValue=function(t){this._select.value=t},this.getValue=function(){return this._select.value}});',pre:!0},"modules/devkit-core/modules/squill/Image.js":{path:"modules/devkit-core/modules/squill/Image.js",friendlyPath:".Image",directory:"modules/devkit-core/modules/squill/",filename:"Image.js",src:'jsio("import squill.Widget"),jsio("import squill.models.bindings as bindings");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Image=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Image(function(){return this.init&&this.init.apply(this,arguments)},squill.Widget,function(){this._css="image",this._def={tag:"img"},this.buildWidget=function(){var i=this._opts;i.format&&bindings.parseFormat(this,i.format)},Object.defineProperty(this,"src",{set:function(i){this._el.src=i},get:function(){return this._el.src}}),this.setData=this.setSrc=function(i){this.src=i}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/dom/animate.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/dom/animate.js",friendlyPath:".backend.dom.animate",directory:"modules/devkit-core/modules/timestep/src/ui/backend/dom/",filename:"animate.js",src:'jsio("import ui.backend.canvas.animate as canvasAnimate"),exports=function(a){return"_node"in a?a.getAnimation():canvasAnimate(a)},exports.linear=canvasAnimate.linear,exports.easeIn=canvasAnimate.easeIn,exports.easeInOut=canvasAnimate.easeInOut,exports.easeOut=canvasAnimate.easeOut;',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/dom/ImageView.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/dom/ImageView.js",friendlyPath:".backend.dom.ImageView",directory:"modules/devkit-core/modules/timestep/src/ui/backend/dom/",filename:"ImageView.js",src:'jsio("import ui.View as View"),jsio("import ui.resource.Image as Image");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_dom_ImageView=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_dom_ImageView(function(){return this.init&&this.init.apply(this,arguments)},View,function(t){this.init=function(i){i=merge(i,{image:null,autoSize:!1}),t(this,"init",[i]);var e=this.__view._node.style;e.webkitBackgroundClip=e.backgroundClip="content-box",i.image&&this.setImage(i.image,i)},this.updateOpts=function(i){return i=t(this,"updateOpts",arguments),"autoSize"in i&&(this._autoSize=!!i.autoSize),i.image?this.setImage(i.image):this.needsReflow(),i},this.autoSize=function(){this._img&&(this.style.width=this._img.getWidth(),this.style.height=this._img.getHeight(),this.style.fixedAspectRatio&&this.style.updateAspectRatio())},this._imgCache={},this.getImage=function(){return this._img},this.setImage=function(t,i){if("string"==typeof t){var e=t;(t=this._imgCache[e])||(this._imgCache[e]=t=new Image({url:e}))}t!=this._img&&(this._img&&this._img.unsubscribe("changeBounds",this),(this._img=t)?(t.subscribe("changeBounds",this,"updateImage"),(this._autoSize=i&&"autoSize"in i?i.autoSize:this._autoSize)&&(0<t.getWidth()&&0<t.getHeight()?this.autoSize():t.doOnLoad(this,"autoSize")),t.doOnLoad(this,"updateImage")):this.updateImage())},this.reflow=function(){this.updateImage()},this._getBackgroundNode=function(t){this._bgNodes||(this._bgNodes={});var i=this._bgNodes[t];return i||(this._bgNodes[t]=i=document.createElement("div"),i.style.cssText="-webkit-background-clip:content-box;background-clip:content-box;z-index:-1;position:absolute;top:0;left:0;bottom:0;right:0;background-image:"+t+";",this.__view._node.appendChild(i)),i!=this._currentBgNode&&(this._currentBgNode&&(this._currentBgNode.style.visibility="hidden"),this._currentBgNode=i,i.style.visibility="visible"),i},this._canvasRender=function(t){var i=this._img.getSource();t.drawImage(i,0,0,i.width,i.height,0,0,this.style.width,this.style.height)},this.updateImage=function(){var t=this._img,i=this._opts["dom:multipleImageNodes"];if(t&&t.getSource()instanceof HTMLCanvasElement)this.render=this._canvasRender,this.needsRepaint();else if(t&&t.isReady()){var e=\'url("\'+t.getSource().src+\'")\',s=t.getSourceWidth(),o=t.getSourceHeight(),h=this.style.width/t.getWidth(),n=this.style.height/t.getHeight();i?i=this._getBackgroundNode(e).style:(i=this.__view._node.style,this._cacheImageURL!=e&&(this._cacheImageURL=e,i.backgroundImage=e)),t=t.getBounds(),i.padding=n*t.marginTop+"px "+h*t.marginRight+"px "+n*t.marginBottom+"px "+h*t.marginLeft+"px",i.backgroundPositionX=h*(-t.x+t.marginLeft)+"px",i.backgroundPositionY=n*(-t.y+t.marginTop)+"px",i.backgroundSize=s*h+"px "+o*n+"px"}else i&&this._currentBgNode?this._currentBgNode.style.visibility="hidden":this.__view._node.style.backgroundImage="none"},this.getOrigWidth=this.getOrigW=function(){return this._img.getOrigW()},this.getOrigHeight=this.getOrigH=function(){return this._img.getOrigH()},this.doOnLoad=function(){return 1==arguments.length?this._img.doOnLoad(this,arguments[0]):this._img.doOnLoad.apply(this._img,arguments),this}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/dom/StackView.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/dom/StackView.js",friendlyPath:".backend.dom.StackView",directory:"modules/devkit-core/modules/timestep/src/ui/backend/dom/",filename:"StackView.js",src:'jsio("import ui.View");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_dom_StackView=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_dom_StackView(function(){return this.init&&this.init.apply(this,arguments)},View,function(i){this.init=function(t){i(this,"init",arguments),this.stack=[]},this.getCurrentView=function(){return this.stack.length?this.stack[this.stack.length-1]:null},this.push=function(i,t){!this.stack[0]&&!1!==t&&(t=!0);var e=this.getCurrentView();return e&&this._hide(e,t),i.style.width=this.style.width,i.style.height=this.style.height,this.stack.push(i),this._show(i,t),i},this._hide=function(i,t,e){i.publish("ViewWillDisappear"),t?(this.removeSubview(i),i.publish("ViewDidDisappear")):(t=new View({parent:i,zIndex:1e5}),i.then({x:(e?1:-1)*i.style.width}).then(bind(this,"removeSubview",i)).then(bind(i,"publish","ViewDidDisappear")).then(bind(t,"removeFromSuperview")))},this._show=function(i,t,e){i.publish("ViewWillAppear"),i.style.visible=!0,t?(this.addSubview(i),i.style.x=0,i.publish("ViewDidAppear")):(i.style.x=(e?-1:1)*this.style.width,this.addSubview(i),i.then({x:0}).then(bind(i,"publish","ViewDidAppear")))},this.pop=function(i){if(!this.stack.length)return!1;var t=this.stack.pop();return this._hide(t,i,!0),this.stack.length&&this._show(this.stack[this.stack.length-1],i,!0),t},this.popAll=function(i){for(;this.stack[1];)this.pop(i)}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/dom/TextView.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/dom/TextView.js",friendlyPath:".backend.dom.TextView",directory:"modules/devkit-core/modules/timestep/src/ui/backend/dom/",filename:"TextView.js",src:'jsio("import ui.View as View"),jsio("import device");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_dom_TextView=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_dom_TextView(function(){return this.init&&this.init.apply(this,arguments)},View,function(t){this._displayStyle="table";var i={wrap:!1,autoSize:!1,autoFontSize:!0,verticalPadding:0,horizontalPadding:0,lineHeight:1.2,color:"#000000",fontFamily:device.defaultFontFamily,fontWeight:"",size:128,lineWidth:2,strokeColor:"",shadowColor:"",verticalAlign:"middle",horizontalAlign:"center",backgroundColor:""};this.init=function(e){var o=this._textNode=document.createElement("div");o.className="view text",t(this,"init",[merge(e,i)]),this.__view.getElement().appendChild(o)},this.updateOpts=function(i){var i=t(this,"updateOpts",arguments),e=this.__view.getElement().style;i.horizontalPadding&&(isArray(i.horizontalPadding)?(e.paddingLeft=i.horizontalPadding[0]+"px",e.paddingRight=i.horizontalPadding[0]+"px"):(e.paddingLeft=i.horizontalPadding+"px",e.paddingRight=i.horizontalPadding+"px")),i.verticalPadding&&(isArray(i.verticalPadding)?(e.paddingTop=i.verticalPadding[0]+"px",e.paddingBottom=i.verticalPadding[0]+"px"):(e.paddingTop=i.verticalPadding+"px",e.paddingBottom=i.verticalPadding+"px")),i.color&&(e.color=i.color),i.size&&(this._fontSize=i.size),i.fontFamily&&(e.fontFamily=i.fontFamily),i.horizontalAlign&&(e.textAlign=i.horizontalAlign),i.verticalAlign&&(this._verticalAlign=i.verticalAlign),i.fontWeight&&(e.fontWeight=i.fontWeight),i.shadowColor&&(e.textShadow=i.shadowColor+" 2px 2px 1px"),i.lineHeight&&(e.lineHeight=i.lineHeight*i.size+"px"),i.strokeColor&&this._updateStroke(),i.wrap||(e.whiteSpace="nowrap"),this.setText(i.text||"")},this.getText=function(){return this._text},this.reflow=function(){var t=this._opts,i=this._textNode;if(i){if(t.autoSize){var e=i.scrollHeight;(!this.style.height||this.style.height<e)&&(this.style.height=e)}if(t.autoFontSize){var o,e=o=this._fontSize;if(!t.wrap){var s=i.scrollWidth-this.style.width;1<s&&(o-=e/=2,i.style.fontSize=o+"px")}s=i.scrollHeight-this.style.height,1<s&&(o-=e/2,i.style.fontSize=o+"px"),this._computedFontSize=o,i.style.lineHeight=t.lineHeight*o+"px"}this._computeVerticalAlign(),this._strokeNode&&(this._strokeNode.style.width=this._fillNode.offsetWidth+"px")}},this.setText=function(t){return"function"==typeof t?t(this):(t=void 0!=t?t.toString():"",void(this._text!=t&&(this._text=t,this._strokeNode?(this._fillNode.innerText=t,this._strokeNode.innerText=t):this._textNode.innerText=t,this._textNode.style.fontSize=this._fontSize+"px",this.needsReflow())))},this._computeVerticalAlign=function(){var t=this._opts,i=this._computedFontSize||this._fontSize,e=Math.round(this._textNode.offsetHeight/(t.lineHeight*i)),o=this.style.padding,s=o.top;"middle"==t.verticalAlign&&(s+=(this.style.height-o.top-o.bottom-(1<e?t.lineHeight*e:1)*i)/2),this._textNode.style.marginTop=s+"px"},this._updateStroke=function(){var t=this._opts;t.strokeColor&&t.strokeWidth?(this._strokeNode||(this._textNode.innerHTML=\'<span style="position:relative"><span></span><span style="position:absolute;left:0;top:1px;right:0px;z-index:-1"></span></span>\',this._fillNode=this._textNode.childNodes[0].childNodes[0],this._strokeNode=this._textNode.childNodes[0].childNodes[1]),this._strokeNode.style.webkitTextStroke=1*t.strokeWidth+"px "+t.strokeColor,this.needsReflow()):this._strokeNode&&(this._fillNode=this._strokeNode=null,this.setText(this._text))}});',
pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/dom/ViewBacking.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/dom/ViewBacking.js",friendlyPath:".backend.dom.ViewBacking",directory:"modules/devkit-core/modules/timestep/src/ui/backend/dom/",filename:"ViewBacking.js",src:'function CHECK_TRANSLATE3D(){var t,i=document.createElement("p"),e={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(i,null);for(var s in e)void 0!==i.style[s]&&(i.style[s]="translate3d(1px,1px,1px)",t=window.getComputedStyle(i).getPropertyValue(e[s]),TRANSFORM_PREFIX=s);return document.body.removeChild(i),void 0!==t&&0<t.length&&"none"!==t}jsio("import device"),jsio("import event.Callback as Callback"),jsio("import animate"),jsio("import event.input.InputEvent as InputEvent"),jsio("import math.geom.Point as Point"),jsio("from util.browser import $"),jsio("import ..BaseBacking");var Canvas=device.get("Canvas"),AVOID_CSS_ANIM=device.isAndroid,TRANSFORM_PREFIX="transform",SUPPORTS_TRANSLATE3D=!1,Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_dom_ViewBacking=__class__,ViewBacking=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_dom_ViewBacking(function(){return this.init&&this.init.apply(this,arguments)},BaseBacking,function(){var t={};"x y r width height visible anchorX anchorY offsetX offsetY opacity scale zIndex scrollLeft scrollTop flipX flipY".split(" ").forEach(function(i){t[i]=!0,this.__defineGetter__(i,function(){return i in this._computed?this._computed[i]:parseInt(this._node.style[i])}),this.__defineSetter__(i,function(t){var e={};return e[i]=t,this._setProps(e),t})},this),this.init=function(t,i){this._view=t,this._subviews=[],this._noCanvas=i["dom:noCanvas"];var e=this._node=document.createElement(i["dom:elementType"]||"div");e._view=t,e.addEventListener("webkitTransitionEnd",bind(this,"_transitionEnd"),!1),e.className="view",i["dom:className"]&&(e.className+=" "+i["dom:className"]);var s="fontSize:1px;position:absolute;top:0px;left:0px;-webkit-transform-origin:0px 0px;";device.isAndroid||(s+="-webkit-backface-visibility:hidden;");var n=e.style;n.cssText=s,this.position(0,0);var a,s=i["dom:styles"];for(a in s)n[a]=s[a];this._computed={x:0,y:0,r:0,width:void 0,height:void 0,anchorX:0,anchorY:0,offsetX:0,offsetY:0,opacity:1,visible:!0,zIndex:0,scale:1},this._view.getAnimation=function(){return this.__view},this._animating=!1,this._animationQueue=[],this._animationCallback=null,DEBUG&&e.setAttribute("TAG:",t.getTag())},this.getElement=function(){return this._node};var i=9e5;this.addSubview=function(t){var e=t.__view,s=e._node,n=s.parentNode&&s.parentNode._view;return n!=this._view&&(n&&n.__view.removeSubview(t),t=this._subviews.length,this._subviews[t]=e,this._node.appendChild(s),e._setAddedAt(++i),t&&e.__sortKey<this._subviews[t-1].__sortKey&&(this._needsSort=!0),!0)},this.removeSubview=function(t){var i=this._subviews.indexOf(t.__view);return-1!=i&&(this._subviews.splice(i,1),this._node.removeChild(t.__view._node),!0)},this.getSuperview=function(){var t=this._node.parentNode;return t!=document.body&&t?t._view:null},this.getSubviews=function(){this._needsSort&&(this._needsSort=!1,this._subviews.sort());for(var t=[],i=this._subviews.length,e=0;e<i;++e)t[e]=this._subviews[e]._view;return t},this.wrapTick=function(t,i){this._view.tick&&this._view.tick(t,i);for(var e,s=0;e=this._subviews[s];++s)e.wrapTick(t,i)},this.wrapRender=function(t,i){if(this.visible){this._needsSort&&(this._needsSort=!1,this._subviews.sort());var e=this._computed.width,s=this._computed.height;if(!(0>e||0>s))try{var n=this._view.render;n&&!n.isFake&&this._render(n,e,s,i),this._renderSubviews(t,i)}catch(t){logger.ERROR&&console.error("ERROR",".backend.dom.ViewBacking",this,t.message,t.stack)}}},this._render=function(t,i,e,s){if(this._noCanvas)t.call(this._view,null,s);else{this._canvas||(this._canvas=new Canvas,this._node.insertBefore(this._canvas,this._node.firstChild),this.ctx=this._canvas.getContext("2d"));var n=this._view._needsRepaint;(0|i)==this._canvas.width&&(0|e)==this._canvas.height||(n=!0,this._canvas.width=i,this._canvas.height=e),n&&(this._view._needsRepaint=!1,this._canvas.style.display="none",this.ctx.clear(),this.ctx.save(),t.call(this._view,this.ctx,s),this.ctx.restore(),this._canvas.style.display="block")}},this._renderSubviews=function(t,i){for(var e,s=0,n=this._subviews;e=n[s++];)e.wrapRender(t,i)},this.localizePoint=function(t){var i=this._computed;return t.x-=i.x+i.anchorX+i.offsetX,t.y-=i.y+i.anchorY+i.offsetY,i.r&&t.rotate(-i.r),t.scale(1/i.scale),t.x+=i.anchorX,t.y+=i.anchorY,t},this.copy=function(){return merge({},this._computed)},this.update=function(t){this._setProps(t)},this.position=function(t,i){var e=this._node.style;if(SUPPORTS_TRANSLATE3D){var s="translate3d("+t+"px,"+i+"px,0)";e[TRANSFORM_PREFIX]=""!=e[TRANSFORM_PREFIX]&&e[TRANSFORM_PREFIX]!=s?e[TRANSFORM_PREFIX]+s:s}else e.left=t+"px",e.top=i+"px"},this._updateOrigin=function(){this._node.style.webkitTransformOrigin=(this._computed.anchorX||0)+"px "+(this._computed.anchorY||0)+"px"},this._setProps=function(i,e){var s,n=!1,a=this._node.style,o=0,r=!1,h={};for(s in i){var c=i[s];switch("dx"!=s&&"dy"!=s||(s=s.substr(1),c=this._computed[s]+c),s){case"anchorX":case"anchorY":this._computed[s]=c,this._updateOrigin();break;case"clip":this._computed.clip=c,a.overflow=c?"hidden":"visible";break;case"zIndex":this._computed.zIndex!=c&&(this._computed.zIndex=c,a.zIndex=c,this._onZIndex(c));break;case"offsetX":case"offsetY":case"x":case"y":case"r":case"scale":this._computed[s]!=c&&(h[s]=this._computed[s],this._computed[s]=c,n=!0);break;default:this._computed[s]!=c&&(++o,this._computed[s]=c,"width"==s||"height"==s?(a[s]=c+"px",r=!0):"visible"==s?a.display=c?this._displayStyle||"block":"none":"opacity"==s?a[s]=c:(a[s]=c,t[s]||(this[s]=c)))}}if(n){++o;var _=this._computed,n=(this._center?-_.width/2|0:0)+_.x+_.offsetX;if(s=(this._center?-_.height/2|0:0)+_.y+_.offsetY,AVOID_CSS_ANIM){var u={scale:h.scale||_.scale,r:h.r||_.r};!e||u.scale==_.scale&&u.r==_.r?u.scale==_.scale&&u.r==_.r||(a.WebkitTransform="scale("+(_.flipX?-1*_.scale:_.scale)+","+(_.flipY?-1*_.scale:_.scale)+") rotate("+_.r+"rad)"):animate(u).now({scale:_.scale,r:_.r},e.duration,e.easing,bind(this,function(){a.WebkitTransform="scale("+(_.flipX?-1*u.scale:u.scale)+","+(_.flipY?-1*u.scale:u.scale)+") rotate("+u.r+"rad)"})).then(bind(this,function(){a.WebkitTransform="scale("+(_.flipX?-1*u.scale:u.scale)+","+(_.flipY?-1*u.scale:u.scale)+") rotate("+_.r+"rad)"})),this.position(n,s)}else h=new WebKitCSSMatrix,h=h.translate(n,s),h=h.rotate(180*_.r/3.14159),h=h.scale(_.scale),(_.flipX||_.flipY)&&(h=h.translate(_.flipX?-_.width:0,_.flipY?_.height/2:0),h=h.scale(_.flipX?-1:1,_.flipY?-1:1),h=h.translate(_.flipX?_.width:0,_.flipY?-_.height/2:0)),h=h.rotate(0,360,0),a.WebkitTransform=h}return r&&this._view.needsReflow(),o},this._sortIndex="00000000",this._onZIndex=function(t){t=~~t,-99999999>t&&(t=this._zIndex=-99999999),99999999<t&&(t=this._zIndex=99999999),0>t?(t*=-1,this._sortIndex="-"+"00000000".substring(0,8-(""+t).length)+t):this._sortIndex="00000000".substring(0,8-(""+t).length)+t,this._setSortKey()},this._setAddedAt=function(t){this._addedAt=t,this._setSortKey()},this._setSortKey=function(){this.__sortKey=this._sortIndex+this._addedAt},this.toString=function(){return this.__sortKey},this._transitionEnd=function(t){$.stopEvent(t),this.transitionCallback.fired()||(this.transitionCallback.fire(),this.transitionCallback.reset(),t?t.cancelBubble=!0:this._transitionEndTimeout&&(this._transitionEndTimeout=null),this._node.style.webkitTransition="none",this._animating=!1,this._animationCallback&&(t=this._animationCallback,this._animationCallback=null,t()),this._processAnimation())},this._processAnimation=function(t){if(0!=this._animationQueue.length&&!this._isPaused&&(t&&(clearTimeout(this._queuedTimeout),this._queuedTimeout=null),!this._queuedTimeout))if(t)switch(t=this._animationQueue.shift(),t.type){case"animate":var i=this._node.style;i.webkitTransitionProperty=AVOID_CSS_ANIM?"left, top, opacity, width, height":"-webkit-transform, opacity, width, height",i.webkitTransitionDuration=(0|t.duration)+"ms",i.webkitTransitionTimingFunction="string"==typeof t.easing?t.easing:t.easing==animate.easeIn?"ease-in":t.easing==animate.easeOut?"ease-out":t.easing==animate.easeInOut?"ease-in-out":t.easing==animate.linear?"linear":"ease",this._setProps(t.props,t);case"wait":this._animating=!0,this._animationCallback=t.callback||null,this.transitionCallback=new Callback,this.transitionCallback.runOrTimeout(function(){},bind(this,function(t){this._transitionEnd(t)}),t.duration);break;case"callback":t.callback(),this._animating||this._processAnimation()}else this._queuedTimeout||(this._queuedTimeout=setTimeout(bind(this,function(){this._queuedTimeout=!1,this._processAnimation(!0)}),0))},this.getQueue=function(){return[]},this.getAnimation=function(){return this},this.animate=function(){return arguments[0]?this.next.apply(this,arguments):this},this.clear=function(){return this.transitionCallback&&this.transitionCallback.fire(),this._transitionEndTimeout&&clearTimeout(this._transitionEndTimeout),this._animationQueue=[],this._animationCallback=null,this._animating=!1,this},this.commit=function(){this._node.style.webkitTransition="none";var t=this._animationQueue;this._animationQueue=[];for(var i=t.length,e=0;e<i;++e){var s=t[e];switch(s.type){case"animate":this._setProps(s.props);break;case"callback":s.callback()}}return this},this.pause=function(){this._isPaused=!0},this.resume=function(){this._isPaused=!1,this._processAnimation()},this.animate=function(t,i,e,s){return this.then(t,i,e,s)},this.now=function(t,i,e,s){return this.clear(),this.then(t,i,e,s)},this.then=function(t,i,e,s){return 1==arguments.length&&"function"==typeof t?this.callback(t):(this._animationQueue.push({type:"animate",props:t,duration:i||600,callback:s&&bind(this,s),easing:e}),1==this._animationQueue.length&&!this._animating&&this._processAnimation(),this)},this.callback=function(t){return this._animationQueue.push({type:"callback",duration:0,callback:t&&bind(this,t)}),1==this._animationQueue.length&&!this._animating&&this._processAnimation(),this},this.wait=function(t,i){return this._animationQueue.push({type:"wait",duration:t,callback:i}),1==this._animationQueue.length&&!this._animating&&this._processAnimation(),this},this.fadeIn=function(t,i){return this.show(),1!=this._node.style.opacity?(this.then({opacity:1},t,null,i),this):void(i&&i())},this.fadeOut=function(t,i){return 0!=this._node.style.opacity?(this.then({opacity:0},t,null,bind(this,function(){this.hide(),i&&i()})),this):(this.hide(),void(i&&i()))}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/canvas/ImageView.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/ImageView.js",friendlyPath:".backend.canvas.ImageView",directory:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/",filename:"ImageView.js",src:'jsio("import util.path"),jsio("import std.uri as URI"),jsio("import ui.View as View"),jsio("import ui.resource.Image as Image"),jsio("import ui.resource.ImageViewCache as ImageViewCache");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_canvas_ImageView=__class__,ImageView=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_canvas_ImageView(function(){return this.init&&this.init.apply(this,arguments)},View,function(i){this.getImage=function(){return this._img},this.getImageFromCache=function(i,t){return ImageViewCache.getImage(i,t)},this.updateOpts=function(t){return t=i(this,"updateOpts",arguments),"autoSize"in t&&(this._autoSize=!!t.autoSize),t.image?this.setImage(t.image):this.needsReflow(),t},this.setImage=function(i,t){var e=t&&t.forceReload;"string"==typeof i?i=ImageViewCache.getImage(i,e):e&&i.reload(),(this._img=i)&&((this._autoSize=t&&"autoSize"in t?t.autoSize:this._autoSize)&&(0<this._img.getWidth()&&0<this._img.getHeight()?this.autoSize():this._img.doOnLoad(this,"autoSize")),this._img.doOnLoad(this,"needsRepaint"))},this.doOnLoad=function(){return 1==arguments.length?this._img.doOnLoad(this,arguments[0]):this._img.doOnLoad.apply(this._img,arguments),this},this.autoSize=function(){this._img&&(this.style.width=this._img.getWidth(),this.style.height=this._img.getHeight(),this.style.fixedAspectRatio&&this.style.enforceAspectRatio(this.style.width,this.style.height))},this.getOrigWidth=this.getOrigW=function(){return this._img.getOrigW()},this.getOrigHeight=this.getOrigH=function(){return this._img.getOrigH()},this.render=function(i){if(this._img){var t=this.style;this._img.render(i,0,0,t.width,t.height)}};var t=window.location.toString(),e=window.location.hostname;this.getTag=function(){var i;if(this._img){var s=this._img.getOriginalURL();if(this._cachedTag&&s==this._cachedTag.url)i=this._cachedTag.tag;else{i=URI.relativeTo(s,t);var a=i.getHost();i=util.path.splitExt(i.getFile()).basename+(a&&a!=e?":"+a:""),this._cachedTag={url:s,tag:i}}}return(i||"")+":ImageView"+this.uid}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/resource/ImageViewCache.js":{path:"modules/devkit-core/modules/timestep/src/ui/resource/ImageViewCache.js",friendlyPath:"ui.resource.ImageViewCache",directory:"modules/devkit-core/modules/timestep/src/ui/resource/",filename:"ImageViewCache.js",src:'jsio("import .Image"),exports.cache={},exports.clear=function(){exports.cache={}},exports.getImage=function(e,r){var c;return r||(c=exports.cache[e]),c||(c=exports.cache[e]=new Image({url:e,forceReload:!!r})),c};',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/canvas/TextView.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/TextView.js",friendlyPath:".backend.canvas.TextView",directory:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/",filename:"TextView.js",src:'jsio("import ui.View as View"),jsio("import ui.resource.Image as Image"),jsio("import device"),jsio("import .util.FragmentBuffer as FragmentBuffer"),jsio("import .TextFlow"),jsio("import ...legacySettings as legacySettings");var messageFont=!0,textViewID=1,Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_canvas_TextView=__class__,TextView=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_canvas_TextView(function(){return this.init&&this.init.apply(this,arguments)},View,function(t){var e={multiline:{replacement:"wrap"},textAlign:{replacement:"horizontalAlign"},lineWidth:{replacement:"strokeWidth"},strokeStyle:{replacement:"strokeColor"},outlineColor:{replacement:"strokeColor"}},i={wrap:!1,autoSize:!1,autoFontSize:!0,lineHeight:1.2,color:"#000000",fontFamily:device.defaultFontFamily,fontWeight:device.defaultFontWeight,size:128,strokeWidth:2,shadowWidth:2,strokeColor:null,shadowColor:null,verticalAlign:"middle",horizontalAlign:"center",buffer:!1,backgroundColor:""},s={width:!0,height:!0,wrap:!0,autoSize:!0,autoFontSize:!0,padding:!0,lineHeight:!0,color:!1,fontFamily:!0,fontWeight:!0,size:!0,strokeWidth:!0,shadowWidth:!0,strokeColor:!1,shadowColor:!1,verticalAlign:!0,horizontalAlign:!0,backgroundColor:!1,text:!0},o=Object.keys(s),h=Object.keys({color:!0,fontFamily:!0,fontWeight:!0,size:!0,strokeWidth:!0,shadowWidth:!0,strokeColor:!1,shadowColor:!1,backgroundColor:!0,text:!0}),a=["width","height","size"],r=new FragmentBuffer;r.onGetHash=function(t){return t.textView.getHash()},this.init=function(e){this._opts={},this._optsLast={},this.updateCache(),this._textFlow=new TextFlow({target:this}),this._textFlow.subscribe("ChangeWidth",this,"onChangeWidth"),this._textFlow.subscribe("ChangeHeight",this,"onChangeHeight"),this._textFlow.subscribe("ChangeSize",this,"onChangeSize"),t(this,"init",[merge(e,i)]),this._id=textViewID++},this.onChangeWidth=function(t){this.updateOpts({width:t},!0)},this.onChangeHeight=function(t){this.updateOpts({height:t},!0)},this.onChangeSize=function(t,e){this.updateOpts({size:t},!0),e&&(e.font=this._opts.fontWeight+" "+this._opts.size+"px "+this._opts.fontFamily)},this._restoreOpts=function(){for(var t,e=this._optsLast,i=a.length;i;)t=a[--i],t in e&&(this._opts[t]=e[t])},this._checkOpts=function(t){var e,h=this._optsLast,a=o.length;for((this._cacheUpdate=this._cacheUpdate||!Object.keys(this._opts).length)&&(this._hash=!1);a;)e=o[--a],e in t&&s[e]&&h[e]!==t[e]&&(this._cacheUpdate=!0),h[e]=e in t?t[e]:e in this._opts?this._opts[e]:i[e]},this._checkDeprecatedOpts=function(t){t.allowVerticalSizing=!legacySettings.disableVerticalAutoSize;for(var i in e)if(i in t){var s=e[i];DEBUG&&!s.hasWarned&&(console.warn("TextView opts."+i+" is deprecated, please use "+s.replacement+"..."),s.hasWarned=!0),t[s.replacement]=t[i]}if(i=t.font){for(DEBUG&&messageFont&&(console.warn("TextView opts.font is deprecated, please use fontFamily and size..."),messageFont=!1);i.length&&" "===i[0];)i=i.substr(1-i.length);s=i.indexOf(" "),-1!==s&&(t.size=parseInt(i.substr(0,s).replace(/[pxtem\\s]/gi,""),10),t.fontFamily=i.substr(s+1-i.length))}},this.updateCache=function(){this._cacheUpdate=!0,this._hash=!1},this.updateOpts=function(e,i){if(e.emoticonData)for(var s in e.emoticonData.data){var o=e.emoticonData.data[s];o.image||(o.image=new Image({url:o.url}))}if(this._opts.buffer&&r.releaseBin(this.getHash()),this.updateCache(),this._checkDeprecatedOpts(e),!i){if(this._restoreOpts(),this._checkOpts(e),!this._cacheUpdate)return void t(this,"updateOpts",arguments);e.hash=!1}return e=t(this,"updateOpts",arguments),"text"in e&&this.setText(e.text),!i&&this._textFlow.setOpts(this._opts),e},this._updateCtx=function(t){var e=this._opts;t.textAlign="left",t.textBaseline="top",t.fillStyle=e.color,t.font=e.fontWeight+" "+e.size+"px "+e.fontFamily,t.lineWidth=this.getStrokeWidth()},this._renderToCtx=function(t,e,i){var s,o,h,a,r=this._opts,n=this._textFlow.getWords(),l=r.autoFontSize?this._textFlow.getAvailableWidth():1e6,p=r.color,c=r.strokeColor,d=r.shadowColor,u=this.getStrokeWidth()/2,_=n.length;for(legacySettings.textViewColor&&this.color&&(p=this.color),this._updateCtx(t);_;){s=n[--_],o=s.word,h=e+s.x,a=i+s.y;var f="("==o[0]&&r.emoticonData&&r.emoticonData.data[o];if(f)f.image&&f.image.render(t,h+u,a+u,r.size,r.size);else{if(d){var f=this._opts.shadowWidth||0,g=this._opts.shadowWidth||0;("shadowDx"in this._opts||"shadowDy"in this._opts)&&(f=0|this._opts.shadowDx,g=0|this._opts.shadowDy);var x="shadowOpacity"in this._opts,w=t.globalAlpha;x&&(t.globalAlpha*=this._opts.shadowOpacity),c?(t.strokeStyle=d,t.strokeText(o,h+u+f,a+u+g,l)):(t.fillStyle=d,t.fillText(o,h+u+f,a+u+g,l)),x&&(t.globalAlpha=w)}c&&(t.strokeStyle=c,t.strokeText(o,h+u,a+u,l)),t.fillStyle=p,t.fillText(o,h+u,a+u,l)}}this._opts.debug&&(t.strokeStyle="black",t.strokeRect(h,a,s.width,this.style.height-2*a),t.strokeStyle="red",t.strokeRect(0,0,this.style.width,this.style.height))},this._renderBuffer=function(t){var e=r.getContext(),i=this._textFlow.getOffsetRect(),s=i.width,o=i.height,h=this._textFlow.getWords();s&&o&&(this._opts.lineCount=h[h.length-1].line,i.text=this._opts.text,i.textView=this,h=r.getPositionForText(i),null!=h?(this._cacheUpdate&&(e.clearRect(h.x,h.y,h.width,h.height),this._renderToCtx(e,h.x-i.x,h.y-i.y)),t.drawImage(r.getCanvas(),h.x,h.y,s,o,i.x,i.y,s,o)):this._opts.buffer=!1)},this.computeSize=function(t){if(this._cacheUpdate){this._updateCtx(t);var e=this._opts;this._textFlow.reflow(t,1+(e.autoFontSize?4:0)+(e.autoSize?2:0)+(e.wrap?1:0))}},this.render=function(t){if(this.computeSize(t),this._textFlow.getWords().length)if(this._opts.buffer)this._renderBuffer(t);else{var e=-this.getStrokeWidth()/2;this._renderToCtx(t,e,e)}this._cacheUpdate=!1},this.clearBuffers=function(){r.clearBuffer()},this.getFontBuffer=function(){return r},this.setText=function(t){var t=void 0!=t?t.toString():"",e=this._opts.emoticonData;if(e)for(var i in e.map)var s=RegExp(i.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,"\\\\$&"),"g"),t=t.replace(s,e.map[i]);this._opts.text!==t&&(this._opts.buffer&&r.releaseBin(this.getHash()),this._restoreOpts(),this._opts.text=t,this.updateCache(),this.needsRepaint())},this.getStrokeWidth=function(){return this._opts.strokeColor?this._opts.strokeWidth:0},this.getText=function(){return this._opts.text},this.getTag=function(){return"TextView"+this.uid+":"+(this.tag||(this._opts.text||"").substring(0,20))},this.getOpts=function(){return this._opts},this.getHash=function(){if(!this._hash){this._hash="";for(var t=this._opts,e=h.length;e;)this._hash+=t[h[--e]]}return this._hash},this.reflow=function(){this._restoreOpts(),this._cacheUpdate=!0}});exports.clearBuffers=TextView.prototype.clearBuffers,exports.getFontBuffer=TextView.prototype.getFontBuffer;',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/canvas/util/FragmentBuffer.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/util/FragmentBuffer.js",friendlyPath:".util.FragmentBuffer",directory:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/util/",filename:"FragmentBuffer.js",src:'jsio("import device"),jsio("import .FragmentBin"),jsio("import .SortedLinkedList as SortedList");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_canvas_util_FragmentBuffer=__class__,FragmentBuffer=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_canvas_util_FragmentBuffer(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){this.opts=merge(t,{}),this._cache={},this._decriptions=[],window.addEventListener("pageshow",bind(this,"clearBuffer"),!1)};var t=function(t,i){return t.size()>i.size()};this._build=function(){this._canvas=new(device.get("Canvas"))({width:1024,height:1024}),this._ctx=this.getCanvas().getContext("2d",bind(this,function(){logger.LOG&&console.log("LOG",".util.FragmentBuffer","{fragment-buffer} Reacting to lost canvas by clearing text buffer"),this._canvas=null,this.clearBuffer()})),this._ctx.clearRect(0,0,1024,1024),this._ctx.textAlign="left",this._ctx.textBaseline="middle",this._ctx.globalCompositeOperation="source-over",this._binList=new SortedList(t),this._binList.insert(new FragmentBin({x:0,y:0,width:1024,height:1024}))},this.getCanvas=function(){return this._canvas||this._build(),this._canvas},this.getContext=function(){return this._ctx||this._build(),this._ctx},this.onGetHash=function(){throw Error("onGetHash should be implemented.")},this._insertText=function(t){for(var i=Math.ceil(t.width)+1,e=Math.ceil(t.height)+1,s=this._binList.iterator(),t=null,n=!1;s.hasNext()&&!n;)t=s.next(),!t.filled&&t.width>=i&&t.height>=e?n=!0:t=null;if(t)for(newBins=t.split(i,e),i=0;i<newBins.length;i++)this._binList.insert(newBins[i]);else logger.LOG&&console.log("LOG",".util.FragmentBuffer","buffer full, further TextViews will not be cached");return t},this.getPositionForText=function(t){var i=this.onGetHash(t),e=Math.ceil(t.width)+1;return!this._cache[i]&&0<e&&(this._cache[i]=this._insertText(t,!1),this._decriptions.push(t)),this._cache[i]},this.releaseBin=function(){},this.clearBuffer=function(){for(this._cache={},this._binList=new SortedList(t),this._binList.insert(new FragmentBin({x:0,y:0,width:1024,height:1024})),this._ctx&&this._ctx.clearRect(0,0,1024,1024);this._decriptions.length;)this._decriptions.pop().textView.updateCache()}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/canvas/util/FragmentBin.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/util/FragmentBin.js",friendlyPath:".FragmentBin",directory:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/util/",filename:"FragmentBin.js",src:'var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_canvas_util_FragmentBin=__class__,FragmentBin=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_canvas_util_FragmentBin(function(){return this.init&&this.init.apply(this,arguments)},"TextBin",function(){this.init=function(t){this.width=t.width,this.height=t.height,this.x=t.x,this.y=t.y},this.size=function(){return this.width*this.height},this.split=function(t,i){var h=[this];if(10<this.width&&10<this.height){if(10<this.height-i){var s=new FragmentBin({x:this.x,y:this.y+i,width:this.width,height:this.height-i});h.push(s)}10<this.width-t&&(s=new FragmentBin({x:this.x+t,y:this.y,width:this.width-t,height:i}),h.push(s))}return this.width=t,this.height=i,this.filled=!0,h}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/canvas/util/SortedLinkedList.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/util/SortedLinkedList.js",friendlyPath:".SortedLinkedList",directory:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/util/",filename:"SortedLinkedList.js",src:'var Iterator=__class__,Iterator=Iterator(function(){return this.init&&this.init.apply(this,arguments)},"Iterator",function(){this.init=this.update=function(t){this._list=t||this._list,this._current=t.head,this._count=0},this.next=function(){var t=this._current.data;return this._current=this._current.next,this._count++,t},this.current=function(){return this._current.data},this.insertBefore=function(t){this._current.insertBefore(t),this._list.count++},this.insertAfter=function(t){this._current.insertAfter(t),this._list.count++},this.remove=function(){this._current.prev.remove(),this._current.prev==this._current&&(this._list.head=null),this._list.count--},this.hasNext=function(){return this._count<this._list.count},this.atHead=function(){return this._current==this._list.head}}),Item=__class__,Item=Item(function(){return this.init&&this.init.apply(this,arguments)},"Item",function(){this.init=function(t,i,e){this.data=t,this.prev=i||this,this.next=e||this},this.insertBefore=function(t){t=new Item(t,this.prev,this),this.prev=this.prev.next=t},this.insertAfter=function(t){t=new Item(t,this,this.next),this.next=this.next.prev=t},this.remove=function(){this.prev.next=this.next,this.next.prev=this.prev}}),Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_canvas_util_SortedLinkedList=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_canvas_util_SortedLinkedList(function(){return this.init&&this.init.apply(this,arguments)},"SortedLinkedList",function(){this.init=function(t){this.head=null,this._comparator=t,this.count=0},this.append=function(t){this._head.insertAfter(t),this.count++},this.insert=function(t){if(this.head){for(var i=this.iterator(),e=i.current(),s=!1;i.hasNext()&&!s;)s=!this._comparator(t,e),s||(i.next(),e=i.current());i.insertBefore(t),s&&i.atHead()&&(this.head=this.head.prev)}else this.head=new Item(t),this.count++},this.iterator=function(){return new Iterator(this)}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/canvas/TextFlow.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/TextFlow.js",friendlyPath:".TextFlow",directory:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/",filename:"TextFlow.js",src:'jsio("import lib.Enum as Enum"),jsio("import lib.PubSub as PubSub");var textFlowMode=Enum("NONE","WRAP","AUTOSIZE","AUTOSIZE_WRAP","AUTOFONTSIZE","AUTOFONTSIZE_WRAP","AUTOFONTSIZE_AUTOSIZE","AUTOFONTSIZE_WRAP_AUTOSIZE"),Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_canvas_TextFlow=__class__,TextFlow=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_canvas_TextFlow(function(){return this.init&&this.init.apply(this,arguments)},PubSub,function(t){this.init=function(i){t(this,"init",arguments),this._target=i.target,this._lineWidth=0,this._line=[],this._lines=[],this._words=[],this._heightFound=this._maxHeight=this._maxWidth=this._maxWordWidth=0,this._offsetRect={x:0,y:0,width:0,height:0}},this.measureText=function(t,i){var e=this._opts;return"("==i[0]&&e.emoticonData&&e.emoticonData.data[i]?e.size:t.measureText(i).width},this._lineSplit=function(t){var i=this._opts,e=i.wrapCharacter?0:t.measureText(" ").width,h=i.text||"",s=i.wrapCharacter?h.replace(/\\t/g," ").match(/\\S[\\u3002\\uff0c]?|[\\n]/g)||[]:i.wrap||"justify"===i.horizontalAlign?h.replace(/\\t/g," ").match(/\\S+|[\\n]| +(?= )/g)||[]:h.split("\\n"),a=[];for(d in s){for(var r=s[d],n=-1,o=0,l=0;l<r.length;l++){var _=r[l];"("==_?n=l:")"==_&&-1<n&&(0<n-o&&a.push(r.substring(o,n)),a.push(r.substring(n,l+1)),o=l+1,n=-1)}o<r.length&&a.push(r.substring(o))}if(s=a,a=0,_=s.length,this._line=[],this._maxWordWidth=this._lineWidth=0,r=this.getAvailableWidth(),(i.hardWrap||exports.hardWrap)&&s.length&&this.measureText(t,h)>r){for(var s=[],i="",d=0;d<h.length;)_=h[d++],t.measureText(i+_).width>=r?(s.push(i),i=_):i+=_;""!==i&&s.push(i),_=s.length}for(;a<_;)r={word:s[a],width:this.measureText(t,s[a]),line:1},this._line.push(r),this._lineWidth+=r.width+e,this._maxWordWidth=Math.max(this._maxWordWidth,r.width),a++;this._lineWidth-=e},this._measureWords=function(t){var i=this._opts.wrapCharacter?0:t.measureText(" ").width,e=0,h=this._line.length;for(this._maxWordWidth=this._lineWidth=0;e<h;){var s=this._line[e];s.line=1,s.width=this.measureText(t,s.word),this._lineWidth+=s.width+i,this._maxWordWidth=Math.max(this._maxWordWidth,s.width),e++}this._lineWidth-=i},this._wrap=function(t,i){var e=this._opts.wrapCharacter?0:t.measureText(" ").width,h=0,s=[],a=[];this._lines=s;var r=this._maxWidth=0,n=this._line.length;if("justify"===this._opts.horizontalAlign){for(;r<n;){var o=this._line[r++],h=h+(o.width+e);"\\n"===o.word?(s.push(a),a=[],h=0):h>i?(a.length&&s.push(a),a=[o],h=o.width+e):a.push(o)}a.length&&s.push(a)}else{for(;r<n;)if(o=this._line[r++],"\\n"===o.word)s.push(a),a=[],h=0;else{var l=!a.length,_=l||this._opts.wrapCharacter?0:e;if(h+o.width+_>i)if(o.width>i){for(var o=o.word,d="",g=0,u=o.length;g<u;++g)l&&!d||this.measureText(t,d+o[g])+_+h<=i?d+=o[g]:(h=this.measureText(t,d),a.push({word:d,width:h,line:s.length}),s.push(a),a=[],_=h=0,l=!0,d=o[g]);d&&(h=this.measureText(t,d),a.push({word:d,width:h,line:s.length}))}else!l&&s.push(a),a=[o],h=o.width;else a.push(o),h+=o.width+_}0<a.length&&s.push(a)}},this._getLineSize=function(t){var i=this._opts;return(1>=t?1:i.lineHeight)*i.size},this._wordFlow=function(t){var t=this._opts.wrapCharacter?0:t.measureText(" ").width,i=this._lines;this._words=[];for(var e=this._maxHeight=this._maxWidth=0,h=i.length,s=this._getLineSize(h),a=0;e<h;){for(var r=i[e++],n=0,o=r.length,l=0;n<o;){var _=r[n++];_.x=l,_.y=a,_.line=e,this._words.push(_),l+=_.width+t}a+=s,l-=t,this._maxWidth=Math.max(this._maxWidth,l),this._maxHeight=Math.max(this._maxHeight,a)}},this._checkWidth=function(t,i){if(""===this._opts.text)return!1;var e=this._opts;if(i>this.getAvailableWidth()){var h=e.size*this._target.style.width/i|0;return e.size!==h&&this.publish("ChangeSize",h,t),!0}return!1},this._checkHeight=function(t,i,e,h){if(""!==this._opts.text&&!(2>Math.abs(e-i))){var s=Math.max(i+e>>1,1);if(this.publish("ChangeSize",s,t),h(),1!==s){var a=this._opts;this._lines.length*this._getLineSize(this._lines.length)>this.getAvailableHeight()?this._checkHeight(t,i,s,h):(this._heightFound=a.size,this._checkHeight(t,s,e,h))}}},this._horizontalAlign=function(t){var i=this._words;if(i.length){var e=t=this._opts.wrapCharacter?0:t.measureText(" ").width,h=i[i.length-1].line,s=this.getPaddingLeft(),a={left:-1,center:2,right:1,justify:3}[this._opts.horizontalAlign]||-1,r=this.getAvailableWidth();3===a&&(t=0);for(var n=0,o=i.length;n<o;){for(var l=n,_=i[n].line,d=0;n<o&&_===i[n].line;)d+=i[n].width+t,n++;if(-1===a)for(;l<n;)i[l++].x+=s;else if(3===a)for(_=_<h?(r-d)/(n-l-1):e,d=s;l<n;)i[l].x=d,d+=i[l].width+_,l++;else for(_=(r-d+t)/a+s;l<n;)i[l++].x+=_}}},this._verticalAlign=function(){var t=this._lines.length,i=this._opts.verticalAlign,e=this._words,h=this.getAvailableHeight(),s=e.length;if(s){if("top"==i)t=this.getPaddingTop();else var i="middle"==i?2:1,a=this._getLineSize(t),t=(h-t*a)/i+this.getPaddingTop();for(;s;)e[--s].y+=t;this._offsetRect.y+=t}},this.reflow=function(t,i){var e=this._opts,h=this.getAvailableWidth(),s=this.getAvailableHeight();switch(this._lineSplit(t),i){case textFlowMode.NONE:this._lines=[this._line],this._wordFlow(t);break;case textFlowMode.WRAP:this._wrap(t,h),this._wordFlow(t);break;case textFlowMode.AUTOSIZE:case textFlowMode.AUTOFONTSIZE_AUTOSIZE:this._lines=[this._line],this._wordFlow(t),(this._opts.fitWidth||h<this._maxWidth)&&this.publish("ChangeWidth",this._maxWidth+this.getHorizontalPadding()),(this._opts.fitHeight||s<this._maxHeight)&&this.publish("ChangeHeight",this._maxHeight+this.getVerticalPadding());break;case textFlowMode.AUTOSIZE_WRAP:this._wrap(t,h),this._wordFlow(t),(this._opts.fitWidth||h<this._maxWidth)&&this.publish("ChangeWidth",this._maxWidth+this.getHorizontalPadding()),(this._opts.fitHeight||s<this._maxHeight)&&this.publish("ChangeHeight",this._maxHeight+this.getVerticalPadding());break;case textFlowMode.AUTOFONTSIZE:if(this._checkWidth(t,this._lineWidth)&&this._lineSplit(t),this._lines=[this._line],e.allowVerticalSizing&&e.size>s){var a=bind(this,function(){this._measureWords(t),this._wordFlow(t)});this._checkHeight(t,1,e.size,a),this.publish("ChangeSize",this._heightFound,t),a()}else this._wordFlow(t);break;case textFlowMode.AUTOFONTSIZE_WRAP:this._wrap(t,h),this._wordFlow(t);var r=this._lines.length,a=this._getLineSize(r);e.allowVerticalSizing&&r*a>s&&(a=bind(this,function(){this._measureWords(t),this._wrap(t,h),this._wordFlow(t)}),this._checkHeight(t,1,e.size,a),this.publish("ChangeSize",this._heightFound,t),a());break;case textFlowMode.AUTOFONTSIZE_WRAP_AUTOSIZE:this._wrap(t,h),this._wordFlow(t),s<this._maxHeight&&this.publish("ChangeHeight",this._maxHeight+this.getVerticalPadding())}if(s=this._words,r=s[s.length-1],s.length){var n=this._target.getStrokeWidth(),a=Math.ceil(e.size*e.lineHeight+n);this._offsetRect.x=this.getPaddingLeft(),this._offsetRect.y=this.getPaddingTop(),this._offsetRect.width=h,this._offsetRect.height=r.line*a,this._horizontalAlign(t),this._verticalAlign(),1===r.line&&(this._offsetRect.x=s[0].x,this._offsetRect.width=r.x+r.width-s[0].x),this._offsetRect.width+=n}},this.setOpts=function(t){this._opts=t},this.getWords=function(){return this._words},this.getHorizontalPadding=function(){var t=this._target.style.padding;return t.left+t.right},this.getPaddingLeft=function(){return this._target.style.padding.left},this.getAvailableWidth=function(){return this._target.style.width-this.getHorizontalPadding()},this.getVerticalPadding=function(){var t=this._target.style.padding;return t.top+t.bottom},this.getPaddingTop=function(){return this._target.style.padding.top},this.getAvailableHeight=function(){return this._target.style.height-this.getVerticalPadding()},this.getOffsetRect=function(){return this._offsetRect}});',
pre:!0},"modules/devkit-core/modules/timestep/src/ui/legacySettings.js":{path:"modules/devkit-core/modules/timestep/src/ui/legacySettings.js",friendlyPath:"...legacySettings",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"legacySettings.js",src:"exports={disableVerticalAutoSize:!1,textViewColor:!1};",pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/canvas/ViewDebugger.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/ViewDebugger.js",friendlyPath:".backend.canvas.ViewDebugger",directory:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/",filename:"ViewDebugger.js",src:'var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_canvas_ViewDebugger=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_backend_canvas_ViewDebugger(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,e){this._target=t,this._opts=e=merge(e,{trackClicks:!1,outline:!1,flash:!1}),this.outline=e.outline,this.trackClicks=e.trackClicks,this.flash=e.flash,this._nextFlash=this._flashState=0},this.preRender=function(t){this._time||(this._time=+new Date);var e=this._time;this._time=+new Date,this._dt=this._time-e,e=this._target.style,this.outline&&(t.save(),t.globalAlpha=.2,t.strokeStyle="black",t.lineWidth=1,t.strokeRect(0,0,e.width,e.height),t.restore())},this.postRender=function(t){var e=this._target;if(this.trackClicks)for(var s=e._clicks.length-1;0<=s;--s){var i=e._clicks[s];t.setFillStyle("rgba(0, 0, 0, "+i.o+")"),i.o-=.4*this._dt/1e3,0<i.o?(t.circle(i.x,i.y,15),t.fill()):e._clicks.splice(s,1)}if(this.flash){switch(this._flashState){case 0:t.setFillStyle("rgba(0, 0, 0, 0.5)");break;case 1:t.setFillStyle("rgba(0, 0, 0, 0)");break;case 2:t.setFillStyle("rgba(255, 255, 255, 0.5)");break;case 3:t.setFillStyle("rgba(0, 0, 0, 0)")}s=+new Date,s>this._nextFlash&&(this._flashState=(this._flashState+1)%4,this._nextFlash=s+300),t.fillRect(0,0,e.style.width,e.style.height)}}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/InputPrompt.js":{path:"modules/devkit-core/modules/timestep/src/ui/InputPrompt.js",friendlyPath:"ui.InputPrompt",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"InputPrompt.js",baseMod:"ui",basePath:"/Users/tsunami/projects/devkitPoj/BubbleShooter/modules/devkit-core/modules/timestep/src/ui",src:'jsio("import device"),jsio("import .debug.deprecated as deprecated");var inputDialog=device.get("inputDialog"),Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_InputPrompt=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_InputPrompt(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){function e(e,s){return void 0!==t[e]?t[e]:s}t=t||{},this._opts=merge({title:e("title",""),value:e("value",""),okText:e("okText","ok"),cancelText:e("cancelText","cancel"),message:e("message",e("prompt","")),autoFocus:!!e("autoFocus",e("autoShowKeyboard",!0)),isPassword:!!e("isPassword",!1),keyboardType:e("keyboardType","default"),defaultBrowserStyles:e("defaultBrowserStyles",!0)},t),this.onChange=this._opts.onChange,this.onSubmit=this._opts.onSubmit,DEBUG&&jsio("import .debug.types").check("InputPrompt",{title:{value:this._opts.title,type:"string",required:!0},"message (prompt)":{value:this._opts.message,type:"string",required:!0},"ok text":{value:this._opts.okText,type:"string",required:!0},"cancel text":{value:this._opts.cancelText,type:"string",required:!0},value:{value:this._opts.value,type:"string",required:!0},"auto-show keyboard":{value:this._opts.autoShowKeyboard,type:"boolean",require:!0},"is password field":{value:this._opts.isPassword,type:"boolean",require:!0},"keyboard type":{value:this._opts.keyboardType,type:"key",dictionary:exports.KeyboardTypes.htmlTypes,toLowerCase:!0,require:!0}})},this.show=function(){this._prompt=inputDialog.show(this,this._opts)},this.getValue=function(){return this._opts.value},this.setValue=function(t){return this._opts.value=t,this},this.setOkButton=function(t){return this._opts.okText=t,this},this.setCancelButton=function(t){return this._opts.cancelText=t,this},this.setKeyboardType=function(t){return this._opts.keyboardType=t,this},this.setMessage=function(t){return this._opts.message=t,this},deprecated.method(this,"requestFocus",function(){return this.show(),this}),deprecated.method(this,"closeEditField"),deprecated.method(this,"refresh"),deprecated.method(this,"setHint")}),jsio("import .keyboardTypes as exports.KeyboardTypes");',pre:!0},"modules/devkit-core/modules/timestep/src/ui/debug/deprecated.js":{path:"modules/devkit-core/modules/timestep/src/ui/debug/deprecated.js",friendlyPath:".debug.deprecated",directory:"modules/devkit-core/modules/timestep/src/ui/debug/",filename:"deprecated.js",src:'exports.method=function(e,o,r){e[o]=DEBUG?function(){if(logger.ERROR&&console.error("ERROR",".debug.deprecated","@deprecated",o,e.constructor.name),r)return r.apply(this,arguments)}:r||function(){}};',pre:!0},"modules/devkit-core/modules/timestep/src/ui/debug/types.js":{path:"modules/devkit-core/modules/timestep/src/ui/debug/types.js",friendlyPath:".debug.types",directory:"modules/devkit-core/modules/timestep/src/ui/debug/",filename:"types.js",src:'if(DEBUG){var isNumber=function(e){return"number"==typeof e&&!isNaN(e)},VALIDATORS={string:function(e){return"string"==typeof e},integer:function(e){return isNumber(e)&&Math.floor(e)==e},number:isNumber,float:isNumber,array:Array.isArray,object:function(e){return"object"==typeof e},key:function(e,r){return r.toLowerCase?(e.toLowerCase&&e.toLowerCase())in lowerCaseKeys(r.dictionary):r.dictionary&&e in r.dictionary}},ERRORS={default:function(e,r,o){return e+\' "\'+r+\'" should be a \'+o.type},key:function(e,r,o){return e+\' "\'+r+\'" should be a key from the set: \'+Object.keys(o.toLowerCase?lowerCaseKeys(o.dictionary):o.dictionary).join(", ")}},lowerCaseKeys=function(e){var r={};if(e)for(var o in e)r[o.toLowerCase()]=!0;return r},getError=function(e,r,o){return e=(ERRORS[o.type]||ERRORS.default)(e,r,o),new TypeError(e)};exports.check=function(e,r){DEBUG&&Object.keys(r).forEach(function(o){var t=r[o];t.required&&void 0===t.value||null===t.value&&!t.allowNull?logger.ERROR&&console.error("ERROR",".debug.types",new TypeError(e+\' "\'+o+\'" required\')):t.type in VALIDATORS&&(VALIDATORS[t.type](t.value,t)||logger.ERROR&&console.error("ERROR",".debug.types",getError(e,o,t)))})}}else exports.check=function(){};',pre:!0},"modules/devkit-core/modules/timestep/src/ui/init.js":{path:"modules/devkit-core/modules/timestep/src/ui/init.js",friendlyPath:"ui.init",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"init.js",src:'jsio("import .View"),jsio("import .layout.BackingExtension"),jsio("import .Engine");',pre:!0},"modules/devkit-core/modules/timestep/src/ui/layout/BackingExtension.js":{path:"modules/devkit-core/modules/timestep/src/ui/layout/BackingExtension.js",friendlyPath:".layout.BackingExtension",directory:"modules/devkit-core/modules/timestep/src/ui/layout/",filename:"BackingExtension.js",src:'jsio("import ..View"),jsio("import ..backend.strPad as strPad"),jsio("import ..backend.BaseBacking"),jsio("import .BoxLayout"),jsio("import .LinearLayout"),jsio("import .Padding"),jsio("import util.setProperty");var layoutProps={layout:{value:!1,cb:"_onSetLayout"},inLayout:{value:!0,cb:"_onInLayout"},order:{value:0,cb:"_onOrder"},direction:{value:"vertical",cb:"_onLayoutChange"},flex:{value:0,cb:"_onLayoutChange"},justifyContent:{value:"start",cb:"_onLayoutChange"},centerX:{value:!1,cb:"_onLayoutChange"},centerY:{value:!1,cb:"_onLayoutChange"},top:{value:void 0,cb:"_onLayoutChange"},right:{value:void 0,cb:"_onLayoutChange"},bottom:{value:void 0,cb:"_onLayoutChange"},left:{value:void 0,cb:"_onLayoutChange"},minWidth:{value:void 0,cb:"_onBoundsChange"},minHeight:{value:void 0,cb:"_onBoundsChange"},maxWidth:{value:void 0,cb:"_onBoundsChange"},maxHeight:{value:void 0,cb:"_onBoundsChange"},layoutWidth:{value:void 0,cb:"_onLayoutWidth"},layoutHeight:{value:void 0,cb:"_onLayoutHeight"},fixedAspectRatio:{value:!1,cb:"_onFixedAspectRatio"},aspectRatio:{value:null,cb:"_onLayoutChange"},margin:{value:null,cb:"_onMarginChange"},padding:{get:function(){return this._padding||(this._padding=new Padding)},set:function(t){this._padding?this._padding.update(t):this._padding=new Padding(t),this._onLayoutChange()}}},key;for(key in layoutProps)backend.BaseBacking.addProperty(key,layoutProps[key]);View.addExtension({extend:function(t){t=t.prototype,t._sortOrder=strPad.initialValue,t._onOrder=function(t,i){this._sortOrder=strPad.pad(i),this._onLayoutChange()},t._onMarginChange=function(t,i){this._cachedMargin?this._cachedMargin.update(i):this._cachedMargin=new Padding(i),this.top=this._cachedMargin.top,this.bottom=this._cachedMargin.bottom,this.left=this._cachedMargin.left,this.right=this._cachedMargin.right,this._onLayoutChange()},t._onFixedAspectRatio=function(t,i){i&&this.updateAspectRatio()},t.updateAspectRatio=function(t,i){this.aspectRatio=(t||this.width)/(i||this.height)},t.enforceAspectRatio=function(t,i,e){t&&i&&this.updateAspectRatio(t,i);var a=this._view.getSuperview(),h=this._view._opts,t=t||h.width,i=i||h.height;h.width?(t=h.width,i=h.width/this.aspectRatio):h.height?(i=h.height,t=h.height*this.aspectRatio):a&&(this.layoutWidth&&a.style.width?(t=a.style.width*parseFloat(this.layoutWidth)/100,i=t/this.aspectRatio):this.layoutHeight&&a.style.height?(i=a.style.height*parseFloat(this.layoutHeight)/100,t=i*this.aspectRatio):this.flex&&"horizontal"==a.style.direction&&this.width?(t=this.width,i=t/this.aspectRatio):this.flex&&"vertical"==a.style.direction&&this.height?(i=this.height,t=i*this.aspectRatio):e||setTimeout(bind(this,"enforceAspectRatio",t,i,!0),0)),this.width=t,this.height=i};var i={linear:LinearLayout,box:BoxLayout};t._onSetLayout=function(t,e){var a=this._view,h=i[e];h?(a.__layout=new h({view:a}),this.addResizeListeners()):this._layout=!1},t.addResizeListeners=function(){this._hasResizeListeners||(this._hasResizeListeners=!0,util.setProperty(this,"width",{cb:"_onWidth",value:this.width,configurable:!0}),util.setProperty(this,"height",{cb:"_onHeight",value:this.height,configurable:!0}))},t._onWidth=function(t,i){"number"==typeof this.maxWidth&&(this._width=Math.min(this.maxWidth,i||0)),"number"==typeof this.minWidth&&(this._width=Math.max(this.minWidth,i||0)),this._aspectRatio&&(this._height=this._width/this._aspectRatio),this._onLayoutChange()},t._onHeight=function(t,i){"number"==typeof this.maxHeight&&(this._height=Math.min(this.maxHeight,i||0)),"number"==typeof this.minHeight&&(this._height=Math.max(this.minHeight,i||0)),this._aspectRatio&&(this._width=this._height*this._aspectRatio),this._onLayoutChange()},t._onInLayout=function(t,i){var e=this._superview&&this._superview.__layout;e&&(i?e.add(this._view):(e.remove(this._view),this._view.needsReflow()))},t._onLayoutWidth=function(t,i){"%"==i.charAt(i.length-1)?(this._layoutWidthValue=parseFloat(i)/100,this._layoutWidthIsPercent=!0):(this._layoutWidthValue=0,this._layoutWidthIsPercent=!1),this._onLayoutChange()},t._onLayoutHeight=function(t,i){"%"==i.charAt(i.length-1)?(this._layoutHeightValue=parseFloat(i)/100,this._layoutHeightIsPercent=!0):(this._layoutHeightValue=0,this._layoutHeightIsPercent=!1),this._onLayoutChange()},t._onBoundsChange=function(){this.addResizeListeners(),this._onLayoutChange()},t._onLayoutChange=function(){var t=this.getSuperview();t&&t.__layout&&t.needsReflow(),this._view.needsReflow()}}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/layout/BoxLayout.js":{path:"modules/devkit-core/modules/timestep/src/ui/layout/BoxLayout.js",friendlyPath:".BoxLayout",directory:"modules/devkit-core/modules/timestep/src/ui/layout/",filename:"BoxLayout.js",src:'var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_layout_BoxLayout=__class__,BoxLayout=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_layout_BoxLayout(function(){return this.init&&this.init.apply(this,arguments)},function(){var e=this.constructor;this.init=function(t){this._view=t.view,e.listenSubviewResize(t.view)},this.reflow=function(){var t=this._view,i=t.getSuperview(),o=t.style;("wrapContent"==o._layoutWidth||"wrapContent"==o._layoutHeight)&&e.addSubviewListener(t),i&&(((t=!o.inLayout||!o.flex||"linear"!=i.style.layout)||!i.__layout.isHorizontal())&&this.reflowX(),(t||!i.__layout.isVertical())&&this.reflowY())},e.addSubviewListener=function(e){if(!e.__hasSubviewListener){e.__hasSubviewListener=!0,e.subscribe("SubviewAdded",this,"_onSubviewAdded",e),e.subscribe("SubviewRemoved",this,"_onSubviewRemoved",e);for(var t=e.getSubviews(),i=0,o=t.length;i<o;++i)this._onSubviewAdded(e,t[i])}},e.removeSubviewListener=function(e){if(e.__hasSubviewListener){e.__hasSubviewListener=!1,e.unsubscribe("SubviewAdded",this,"_onSubviewAdded"),e.unsubscribe("SubviewRemoved",this,"_onSubviewRemoved");for(var t=e.getSubviews(),i=0,o=t.length;i<o;++i)this._onSubviewRemoved(e,t[i])}},e._onSubviewAdded=function(e,t){t.style.addResizeListeners(),e.connectEvent(t,"resize",bind(e,"needsReflow"))},e._onSubviewRemoved=function(e,t){e.disconnectEvent(t,"resize")},e.addResizeListener=function(e){e.style.__removeSuperviewResize&&e.style.__removeSuperviewResize();var t=bind(e,"needsReflow"),i=e.getSuperview();i&&(i.on("resize",t),e.style.__removeSuperviewResize=bind(e.style,function(){this.__removeSuperviewResize=null,i&&i.removeListener("resize",t)}))},e.listenSubviewResize=function(e){e.__root&&this.addResizeListener(e),e.on("ViewAdded",bind(this,"addResizeListener",e)),e.on("ViewRemoved",bind(e.style,function(){this.__removeSuperviewResize&&this.__removeSuperviewResize()}))},this.reflowX=function(e){var e=this._view,t=e.style,e=e.getSuperview();if(t.inLayout&&"linear"==e.style.layout)var i=e.__layout.isHorizontal(),o=e.style.padding;var s,e=e.style.width,n=e-(o&&o.getHorizontal()||0);s="wrapContent"==t._layoutWidth?this.getContentWidth()+t.padding.right:!i&&e&&void 0!=t.right&&void 0!=t.left?n/t.scale-(t.left||0)-(t.right||0):e&&t._layoutWidthIsPercent?n/t.scale*t._layoutWidthValue:void 0==t.width&&e?n/t.scale:t._width,t.centerAnchor&&(t.anchorX=(s||0)/2),t._width=s,!i&&e&&(void 0!==s&&t.centerX&&(t.x=Math.round((n-t.scale*s)/2+(o&&o.left||0))),void 0!==s&&void 0==t.left&&void 0!=t.right&&(t.x=Math.round(n-t.scale*s-t.right-(o&&o.right||0))),void 0!=t.left)&&(t.x=Math.round(t.left+(o&&o.left||0)))},this.reflowY=function(){var e=this._view,t=e.style,e=e.getSuperview();if(t.inLayout&&"linear"==e.style.layout)var i=e.__layout.isVertical(),o=e.style.padding;var s,e=e.style.height,n=e-(o&&o.getVertical()||0);s="wrapContent"==t._layoutHeight?this.getContentHeight()+t.padding.bottom:!i&&e&&void 0!=t.top&&void 0!=t.bottom?n/t.scale-(t.top||0)-(t.bottom||0):e&&t._layoutHeightIsPercent?n/t.scale*t._layoutHeightValue:void 0==t.height&&e?n/t.scale:t.height,t.centerAnchor&&(t.anchorY=(s||0)/2),t._height=s,!i&&e&&(void 0!==s&&t.centerY&&(t.y=Math.round((n-t.scale*s)/2+(o&&o.top||0))),void 0!==s&&void 0==t.top&&void 0!=t.bottom&&(t.y=Math.round(n-t.scale*s-t.bottom-(o&&o.bottom||0))),void 0!=t.top)&&(t.y=Math.round(t.top+(o&&o.top||0)))},this.getContentWidth=function(){for(var e,t=0,i=this._view.getSubviews(),o=0;e=i[o];++o)!e.style._layoutWidthIsPercent&&e.style.visible&&(e=e.style.x+e.style.width*e.style.scale+(e.style.right||0),e>t&&(t=e));return t},this.getContentHeight=function(){for(var e,t=this._view.getSubviews(),i=0,o=0;e=t[o];++o)!e.style._layoutHeightIsPercent&&e.style.visible&&(e=e.style.y+e.style.height*e.style.scale+(e.style.bottom||0),e>i&&(i=e));return i}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/layout/LinearLayout.js":{path:"modules/devkit-core/modules/timestep/src/ui/layout/LinearLayout.js",friendlyPath:".LinearLayout",directory:"modules/devkit-core/modules/timestep/src/ui/layout/",filename:"LinearLayout.js",src:'var _debug,VIEW_STR;jsio("import ui.layout.Padding as Padding"),jsio("import ui.backend.strPad as strPad"),jsio("import .BoxLayout");var DEBUG=!1,Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_layout_LinearLayout=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_layout_LinearLayout(function(){return this.init&&this.init.apply(this,arguments)},BoxLayout,function(i){function e(){return this.view.style._sortOrder+this.index}this.init=function(){i(this,"init",arguments),this._view.subscribe("SubviewAdded",this,"_onSubviewAdded"),this._view.subscribe("SubviewRemoved",this,"_onSubviewRemoved"),this._views=[];for(var e,t=this._view.getSubviews(),s=0;e=t[s];++s)e.style.inLayout&&this._views.push(this._initLayoutView(e));this._forwardEvents(),this._debug=DEBUG},this._onSubviewRemoved=function(i){i.style.inLayout&&this.remove(i)},this._onSubviewAdded=function(i){i.style.inLayout&&this.add(i)},this.debug=function(){return this._debug=!0,this},this._setDirection=function(i){this._direction=i,this._propPos=(i=this.isVertical())?"y":"x",this._propPosOpp=i?"x":"y",this._propDim=i?"_height":"_width",this._minPropDim=i?"minHeight":"minWidth",this._maxPropDim=i?"maxHeight":"maxWidth",this._layoutPropDim=i?"layoutHeight":"layoutWidth",this._propDimOpp=i?"_width":"_height",this._propSideA=i?"top":"left",this._propSideB=i?"bottom":"right",this._flexProp=i?"vflex":"hflex"},this.isVertical=function(){return"vertical"==this._direction},this.isHorizontal=function(){return"horizontal"==this._direction},this._events=["ViewWillAppear","ViewDidAppear","ViewWillDisappear","ViewDidDisappear"],this._forwardEvents=function(){for(var i,e=0;i=this._events[e];++e)this._view.subscribe(i,this,"_forwardSignal",i)},this._events=["ViewWillAppear","ViewDidAppear","ViewWillDisappear","ViewDidDisappear"],this._forwardSignal=function(){for(var i,e=0;i=this._views[e];++e)i.view.publish.apply(i.view,arguments)},this._initLayoutView=function(i){return i.style.inLayout=!0,this._debug&&_debug.log("view",this._view.uid,"layout: adding view",i.uid,"("+this._propDim,"=",i.style[this._propDim]+")"),this._view.connectEvent(i,"Resize",bind(this,"reflow")),{view:i,index:0,toString:e}},this.getSize=function(){return this._size},this.getViewIndex=function(i){for(var e,t=0;e=this._views[t];++t)if(e.view==i)return t;return-1},this.addSubviews=function(i){if(this._debug&&_debug.log(this._view.uid,"adding",i.length,"views"),isArray(i)){for(var e=0,t=i.length;e<t;++e){var s=i[e];s&&this._views.push(this._initLayoutView(s))}this._view.needsReflow()}else this.insertBefore(i);return this},this.getSubviews=function(){return this._views.map(function(i){return i.view})},this.remove=function(i){var e=this.getViewIndex(i);-1!=e&&(this._views.splice(e,1),this._view.disconnectEvent(i,"Resize"),this._view.needsReflow())},this.add=this.insertBefore=function(i,e){if(-1==this.getViewIndex(i)){var t=this._initLayoutView(i),s=!1;if(e){var r=this.getViewIndex(e);-1!=r&&(this._views.splice(r,0,t),s=!0)}s||this._views.push(t),this._view.needsReflow()}},this.insertAfter=function(i,e){if(-1==this.getViewIndex(i)){var t=this._initLayoutView(i),s=!1;if(e){var r=this.getViewIndex(e);-1!=r&&(this._views.splice(r+1,0,t),s=!0)}s||this._views.unshift(t),this._view.needsReflow()}},this.reflow=function(){i(this,"reflow",arguments);for(var e,t=this._view.getSubviews(),s={},r=0;e=t[r];++r)s[e.uid]=strPad.pad(r);for(r=t=0;e=this._views[r];++r)e.view.style.visible&&(e.index=s[e.view.uid],++t);if(t){this._views.sort(),s=this._view.style,s.direction!=this._direction&&this._setDirection(s.direction);var o=this._view.getPosition().scale,n="vertical"==this._direction,h=this._propDim,_=this._minPropDim,a=this._propSideA,u=this._propSideB,d=s.padding,v=d&&(n?d.getVertical():d.getHorizontal())||0,w=s[h],l=this._views;this._debug&&_debug.log(VIEW_STR(this._view)+": layout",this._direction+",",l.length,"subview(s):")&&_debug.stepIn()&&this._summarize();for(var p=0,f=0,r=0;e=l[r];++r){var c=e.view.style;c.visible&&(e.view.reflowSync(),e.margins=(c[a]||0)+(c[u]||0),c.flex?(f+=c.flex,e.baseSize=(c[_]||0)*c.scale+e.margins,p+=e.baseSize):p+=(c[h]||0)*c.scale+e.margins)}if(!(f&&void 0==w||(r=w-v,0>r))){for(var _=s.justifyContent,v=f?w:p+v,p=r-p,g=w=0,r=0;e=l[r];++r)c=e.view.style,c.visible&&c.flex&&(g=e.baseSize+p*(c.flex/f)/c.scale+g,u=Math.round(g*o)/o,g-=u,e.dim=u-e.margins,e.dim>c[this._maxPropDim]&&(e.dim=c[this._maxPropDim]),w+=u);if(r=p-w,d=d&&d[a]||0,f=0,0<r)switch(_){case"end":d+=r;break;case"center":d+=r/2;break;case"space":f=r/(t-1)||0;break;case"space-outside":f=r/(t+1)||0,d+=f}for(t=this._propPos,r=0;e=l[r];++r)d=(d*o|0)/o,c=e.view.style,c.visible&&(c[t]=d+(c[a]||0),this._debug&&_debug.log("->",VIEW_STR(e.view),t,"=",c[t]),c.flex&&(c[h]=e.dim,this._debug&&_debug.log("->",VIEW_STR(e.view),h,"=",c[h])),d+=f+(c[h]||0)*c.scale+e.margins);this._debug&&this._summarize()&&_debug.stepOut(),n&&"wrapContent"==s.layoutHeight?this.reflowY():!n&&"wrapContent"==s.layoutWidth&&this.reflowX(),this._size!=v&&(this._size=v)}}},this._summarize=function(){for(var i,e=this._views,t=0;i=e[t];++t){var s=i.view.style;_debug.log("*",VIEW_STR(i.view)+": "+(s.visible?"":"invisible"),s.x+","+s.y+"-"+s.width+"x"+s.height+" (flex="+(s.flex||0)+")")}return!0}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/layout/Padding.js":{path:"modules/devkit-core/modules/timestep/src/ui/layout/Padding.js",friendlyPath:"ui.layout.Padding",directory:"modules/devkit-core/modules/timestep/src/ui/layout/",filename:"Padding.js",src:'Padding=__class__,exports=Padding=Padding(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=this.update=function(t){if(t instanceof Padding)this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left;else switch("string"==typeof t&&(t=t.split(/\\s+/).map(function(t){return parseFloat(t)})),t&&t.length||(t=[t||0]),t.length){case 1:this.left=this.right=this.top=this.bottom=t[0];break;case 2:this.top=this.bottom=t[0],this.left=this.right=t[1];break;case 3:this.top=t[0],this.left=this.right=t[1],this.bottom=t[2];break;case 4:this.top=t[0],this.right=t[1],this.bottom=t[2],this.left=t[3]}},this.getVertical=function(){return this.top+this.bottom},this.getHorizontal=function(){return this.left+this.right},this.toString=function(){return[this.top,this.right,this.bottom,this.left].join(" ")}});',pre:!0},"modules/devkit-core/node_modules/jsio/packages/std/JSON.js":{path:"modules/devkit-core/node_modules/jsio/packages/std/JSON.js",friendlyPath:"std.JSON",directory:"modules/devkit-core/node_modules/jsio/packages/std/",filename:"JSON.js",src:'exports.createGlobal=function(){"undefined"==typeof JSON&&(JSON={}),"function"!=typeof JSON.stringify&&(JSON.stringify=exports.stringify),"function"!=typeof JSON.parse&&(JSON.parse=exports.parse)},function(){function n(e){return o.lastIndex=0,o.test(e)?\'"\'+e.replace(o,function(e){var t=q[e];return"string"==typeof t?t:"\\\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+\'"\':\'"\'+e+\'"\'}function m(t,r){var f=e,u=r[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof k&&(u=k.call(r,t,u)),typeof u){case"string":return n(u);case"number":return isFinite(u)?""+u:"null";case"boolean":return""+u;case"object":if(null===u)return"null";if(u.constructor===Date)return exports.stringifyDate(u);e+=l;var o=[];if(u.constructor===Array){for(var i=u.length,a=0;a<i;a+=1)o[a]=m(a,u)||"null";var c=0===o.length?"[]":e?"[\\n"+e+o.join(",\\n"+e)+"\\n"+f+"]":"["+o.join(",")+"]";return e=f,c}if(k&&"object"==typeof k)for(i=k.length,a=0;a<i;a+=1){var s=k[a];"string"==typeof s&&(c=m(s,u))&&o.push(n(s)+(e?": ":":")+c)}else for(s in u)Object.hasOwnProperty.call(u,s)&&(c=m(s,u))&&o.push(n(s)+(e?": ":":")+c);return c=0===o.length?"{}":e?"{\\n"+e+o.join(",\\n"+e)+"\\n"+f+"}":"{"+o.join(",")+"}",e=f,c}}var p=/[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,o=/[\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,e,l,q={"\\b":"\\\\b","\\t":"\\\\t","\\n":"\\\\n","\\f":"\\\\f","\\r":"\\\\r",\'"\':\'\\\\"\',"\\\\":"\\\\\\\\"},k;exports.stringify=function(t,r,n){if(l=e="","number"==typeof n)for(var f=0;f<n;f+=1)l+=" ";else"string"==typeof n&&(l=n);if((k=r)&&"function"!=typeof r&&("object"!=typeof r||"number"!=typeof r.length))throw Error("JSON stringify: invalid replacer");return m("",{"":t})},exports.stringifyDate=function(e){var t=e.getUTCFullYear(),r=e.getUTCMonth()+1,n=e.getUTCDate(),f=e.getUTCHours(),u=e.getUTCMinutes(),o=e.getUTCSeconds(),e=e.getUTCMilliseconds();return 10>r&&(r="0"+r),10>n&&(n="0"+n),10>f&&(f="0"+f),10>u&&(u="0"+u),10>o&&(o="0"+o),10>e?e="00"+e:100>e&&(e="0"+e),\'"\'+t+"-"+r+"-"+n+"T"+f+":"+u+":"+o+"."+e+\'Z"\'},exports.parse=function(a,e){if(p.lastIndex=0,p.test(a)&&(a=a.replace(p,function(e){return"\\\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\\],:{}\\s]*$/.test(a.replace(/\\\\(?:["\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\\\\n\\r]*"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,"]").replace(/(?:^|:|,)(?:\\s*\\[)+/g,""))){var c=eval("("+a+")");if(e){var b=function(t,r){var n,f,u=t[r];if(u&&"object"==typeof u)for(n in u)Object.hasOwnProperty.call(u,n)&&(f=b(u,n),void 0!==f?u[n]=f:delete u[n]);return e.call(t,r,u)};return b({"":c},"")}return c}throw new SyntaxError("JSON.parse")}}();',pre:!0},"modules/devkit-core/src/clientapi/browser/cache.js":{path:"modules/devkit-core/src/clientapi/browser/cache.js",friendlyPath:".cache",directory:"modules/devkit-core/src/clientapi/browser/",filename:"cache.js",src:'function init(){return navigator.serviceWorker.register("cache-worker.js",{scope:"cache-worker.js"}).then(function(e){_cacheWorker=e.installing||e.waiting||e.active,e.installing?console.log("cache worker installing..."):e.waiting?console.log("cache worker waiting to activate (close, then reopen app)"):e.active?console.log("cache worker already active!"):console.error("unknown cache worker state?")},function(e){console.log("cache worker failed",e)})}function sendMessage(e){return new Promise(function(o,r){var n=new MessageChannel;n.port1.onmessage=function(e){e.data.error?r(e.data.error):o(e.data)},_cacheWorker||r(Error("no worker found")),_cacheWorker.postMessage(e,[n.port2])})}jsio("import device");var _cacheWorker;exports.isEnabled="serviceWorker"in navigator&&!device.isSimulator;var _onInit;exports.isEnabled&&(_onInit=init(),Promise.resolve(_onInit).then(function(){jsio("import ui.resource.loader");var e,o=ui.resource.loader.getMap(),r={};for(e in o)o[e].sheet&&(r[o[e].sheet]=!0);return o=Object.keys(r),o.unshift(window.location.toString()),exports.addToCache(o)}).then(function(e){console.log("spritesheets now available offline"),e&&e.failedURLs&&0<e.failedURLs.length&&console.error("following spritesheets failed to load:",e.failedURLs)})),exports.addWhitelistDomain=function(e){return _onInit?Promise.resolve(_onInit).then(function(){return sendMessage({command:"addWhitelistDomain",domain:e})}):Promise.reject(Error("cache not available"))},exports.addToCache=function(e){return Array.isArray(e)||(e=[e]),_onInit?Promise.resolve(_onInit).then(function(){return sendMessage({command:"addURLs",urls:e})}):Promise.reject(Error("cache not available"))};',pre:!0},"modules/devkit-core/src/clientapi/index.js":{path:"modules/devkit-core/src/clientapi/index.js",friendlyPath:"devkit",directory:"modules/devkit-core/src/clientapi/",filename:"index.js",src:'jsio("import lib.PubSub"),jsio("import lib.Callback"),jsio("import ui.Engine"),jsio("import ui.View"),jsio("import ui.StackView"),jsio("import device");var FontRenderer=device.get("FontRenderer");GLOBAL.CONFIG||(GLOBAL.CONFIG={}),GLOBAL.DEBUG||(GLOBAL.DEBUG=!1),exports.ClientAPI=__class__,exports.ClientAPI=exports.ClientAPI(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){var i=navigator.userAgent;(this.isNative=/TeaLeaf/.test(i))?(this.isIOS=/iPhone OS/.test(i),this.isAndroid=/Android/.test(i)):/(iPod|iPhone|iPad)/i.test(i)?(this.isIOS=this.isMobileBrowser=!0,this.isUIWebView=!/Safari/.test(i)):/Android/.test(i)?this.isAndroid=this.isMobileBrowser=!0:(this.isDesktop=!0,this.isFacebook=GLOBAL.CONFIG.isFacebookApp),this.isKik=/Kik\\/\\d/.test(i),this.init=function(){window.addEventListener("pageshow",bind(this,"_onShow"),!1),window.addEventListener("pagehide",bind(this,"_onHide"),!1),this.isKik&&GLOBAL.cards&&cards.browser&&(cards.browser.on("foreground",bind(this,"_onShow")),cards.browser.on("background",bind(this,"_onHide"))),this.isOnline=navigator.onLine,window.addEventListener("online",bind(this,function(){this.isOnline||(this.isOnline=!0,this.publish("OnlineStateChanged",!0))}),!1),window.addEventListener("offline",bind(this,function(){this.isOnline&&(this.isOnline=!1,this.publish("OnlineStateChanged",!1))}),!1),"browser"==this.env&&setTimeout(bind(this,"_onShow"),0),CONFIG.version&&logger.LOG&&console.log("LOG","devkit","Version",CONFIG.version)},this.Application=ui.StackView,i=__class__,i=i(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){this._plugins={}},this.register=function(i,e){this._plugins[i]=e},this.getPlugin=function(i){return this._plugins[i]}}),this.plugins=new i,jsio("import .UI"),this.ui=new UI;var e;try{GLOBAL.CACHE&&(e=JSON.parse(GLOBAL.CACHE["spritesheets/map.json"]))}catch(i){logger.WARN&&console.warn("WARN","devkit","spritesheet map failed to parse",i)}var t;try{GLOBAL.CACHE&&(t=JSON.parse(GLOBAL.CACHE["resources/sound-map.json"]))}catch(i){logger.WARN&&console.warn("WARN","devkit","sound map failed to parse",i)}jsio("import ui.resource.loader"),this.resources=ui.resource.loader,this.resources.addSheets(e),this.resources.addAudioMap(t),jsio("import AudioManager"),this._onHide=function(){this.app&&this.app.onPause&&this.app.onPause(),this.publish("Hide"),this.publish("AfterHide"),this.tracker&&this.tracker.endSession()},this._onShow=function(){this.app&&this.app.onResume&&this.app.onResume(),this.publish("Show"),this.publish("AfterShow")},this.buildApp=function(){jsio("import src.Application as Application"),Application.prototype.__root=!0,this.app=new Application,this.buildEngine(merge({view:this.app},this.app._settings)),this.emit("app",this.app)},this.buildEngine=function(i){i||(i={}),i.entry||(i.entry="launchUI");var e=i.view;if(!e)throw"a timestep.Engine must be created with a root view";if(!(e instanceof ui.View))throw"src/Application.js must export a Class that inherits from ui.View";e.subscribe("onLoadError",this,"_onAppLoadError");var t;if("function"==typeof e[i.entry]&&(t=bind(e,i.entry)),e.view=e,e.engine=new ui.Engine(i),e.engine.show(),e.engine.startLoop(),e.initUI&&e.initUI(),FontRenderer.init(),i=(e._settings||{}).preload,e=CONFIG.splash&&CONFIG.splash.autoHide!==!1,i&&i.length){for(var s,n=new lib.Callback,o=0;s=i[o];++o)this.resources.preload(s,n.chain());e&&n.run(this,"hidePreloader",null),t&&n.run(t)}else e&&this.hidePreloader(),t&&t()},this._onAppLoadError=function(i){logger.ERROR&&console.error("ERROR","devkit","encountered error when creating src Application: ",JSON.stringify(i));var e=CONFIG.splash;e&&e.onAppLoadError&&e.onAppLoadError(i)},this.hideSplash=this.hidePreloader=function(i){var e=CONFIG.splash;e&&e.hide&&!e.hidden?(e.hide(i),e.hidden=!0):i&&i()}});',pre:!0},"modules/devkit-core/src/clientapi/UI.js":{path:"modules/devkit-core/src/clientapi/UI.js",friendlyPath:".UI",directory:"modules/devkit-core/src/clientapi/",filename:"UI.js",src:'jsio("import device"),jsio("import ui.widget.Spinner as Spinner");var config=window.CONFIG,Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_src_clientapi_UI=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_src_clientapi_UI(function(){return this.init&&this.init.apply(this,arguments)},function(){this._spinnerCounter=0,jsio("import device");var i;this._scale=i=navigator.displayMetrics?navigator.displayMetrics.densityDpi/160:!CONFIG.scaleDPR&&device.isMobileBrowser?1:window.devicePixelRatio||1,this.setTargetDensity=function(e){switch(e){case"high":this._scale=.5*i;break;case"medium":this._scale=.75*i;break;default:this._scale=i}logger.LOG&&console.log("LOG",".UI","scale:",this._scale)},this.getScale=function(){return this._scale},this.getIntValue=function(i){return Math.round(i*this._scale)/this._scale},this.showSpinner=function(){if(this._spinnerCounter)++this._spinnerCounter;else{var i=GC.app.view;if(i)if(++this._spinnerCounter,this._spinner)i.addSubview(this._spinner);else{var e=50*device.screen.devicePixelRatio;this._spinner=new Spinner({width:e,height:e,x:i.style.width/2-e/2,y:i.style.height/2-e/2,parent:i})}}},this.hideSpinner=function(){--this._spinnerCounter,0>=this._spinnerCounter&&(this._spinnerCounter=0,this._spinner&&this._spinner.removeFromSuperview())}});',
pre:!0},"modules/devkit-core/modules/timestep/src/ui/widget/Spinner.js":{path:"modules/devkit-core/modules/timestep/src/ui/widget/Spinner.js",friendlyPath:"ui.widget.Spinner",directory:"modules/devkit-core/modules/timestep/src/ui/widget/",filename:"Spinner.js",src:'jsio("import ui.View as View");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_widget_Spinner=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_widget_Spinner(function(){return this.init&&this.init.apply(this,arguments)},View,function(t){var s={cycles:.5,radius:10,spokes:20,thickness:2,trail:10,color:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.5)",layout:"box"};this.tag="Spinner",this._t=0,this.init=function(i){this._opts=merge(i,s),this._step=2*Math.PI/this._opts.spokes,t(this,"init",[this._opts])},this.tick=function(t){this._t+=t;var t=this._t/1e3%(1/this._opts.cycles)*Math.PI,s=this._r;this._r=t-t%this._step,s!=t&&this.needsRepaint()},this.render=function(t){t.fillStyle=this._opts.backgroundColor;var s,i,e,o=t.globalAlpha,_=this.style.width,r=this.style.height,h=this._opts.radius,l=this._opts.trail,a=this._opts.thickness;for(i=0;i<h;++i)s=i+1,s=Math.round(h-Math.sqrt(2*s*h-s*s)),t.fillRect(s,i,_-2*s,1);for(i=r-h,t.fillRect(0,h,_,i-h),e=0;e<h;++e)s=h-e,s=Math.round(h-Math.sqrt(2*s*h-s*s)),t.fillRect(s,i+e,_-2*s,1);for(t.fillStyle=this._opts.color,t.translate(_/2,r/2),_/=2,t.rotate(this._r),e=0;e<this._opts.spokes;++e)t.rotate(this._step),t.globalAlpha=o*Math.max(.1,(e-l)/l),t.fillRect(10,-a/2,_-15,a)}});',pre:!0},"src/Application.js":{path:"src/Application.js",friendlyPath:"src.Application",directory:"src/",filename:"Application.js",baseMod:"src",basePath:"/Users/tsunami/projects/devkitPoj/BubbleShooter/src",src:'jsio("import ui.TextView as TextView"),jsio("import device"),jsio("import ui.StackView as StackView"),jsio("import src.TitleScreen as TitleScreen"),jsio("import src.GameScreen as GameScreen"),jsio("import src.GameOverScreen as GameOverScreen"),jsio("import src.Config as config"),jsio("import src.SoundController as Sound");var Users_tsunami_projects_devkitPoj_BubbleShooter_src_Application=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_src_Application(function(){return this.init&&this.init.apply(this,arguments)},GC.Application,function(){this.initUI=function(){var e=new TitleScreen,i=new GameOverScreen,t=new GameScreen,n=new StackView({superview:this,x:0,y:0,width:GLOBAL.SCREEN_SIZE.width,height:GLOBAL.SCREEN_SIZE.height,clip:!0,scale:device.width/GLOBAL.SCREEN_SIZE.width});n.push(e),e.on("titlescreen:start",function(){n.push(t),t.emit("app:start")}),t.on("gamescreen:end",function(e){n.pop(),n.push(i),i.emit("gameoverscreen:score",e)}),i.on("InputSelect",function(){Sound.getSound().play("main_music"),n.pop()})},this.launchUI=function(){}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/TextView.js":{path:"modules/devkit-core/modules/timestep/src/ui/TextView.js",friendlyPath:"ui.TextView",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"TextView.js",src:'jsio("import device"),exports=device.importUI("TextView");',pre:!0},"src/TitleScreen.js":{path:"src/TitleScreen.js",friendlyPath:"src.TitleScreen",directory:"src/",filename:"TitleScreen.js",src:'jsio("import ui.View"),jsio("import ui.ImageView"),jsio("import animate"),jsio("import src.SoundController as Sound");var Users_tsunami_projects_devkitPoj_BubbleShooter_src_TitleScreen=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_src_TitleScreen(function(){return this.init&&this.init.apply(this,arguments)},ui.ImageView,function(t){this.init=function(i){i=merge(i,{x:0,y:0,image:"resources/images/menu.jpg"}),t(this,"init",[i]),this._sound=Sound.getSound(),this._sound.play("main_music"),this.build()},this.build=function(){var t=new ui.ImageView({superview:this,x:70,y:250,width:150,height:150,image:"resources/images/start.png"});this.animateStartButton(t),t.on("InputSelect",bind(this,function(){this.emit("titlescreen:start")}))},this.animateStartButton=function(t){animate(t).now({x:80,y:260,width:130,height:130},1e3,animate.easeIn).then({x:70,y:250,width:150,height:150},1e3,animate.easeOut).then(bind(this,function(){this.animateStartButton(t)}))}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/ImageView.js":{path:"modules/devkit-core/modules/timestep/src/ui/ImageView.js",friendlyPath:"ui.ImageView",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"ImageView.js",src:'jsio("import device"),exports=device.importUI("ImageView");',pre:!0},"src/SoundController.js":{path:"src/SoundController.js",friendlyPath:"src.SoundController",directory:"src/",filename:"SoundController.js",src:'jsio("import AudioManager"),exports.sound=null,exports.getSound=function(){return exports.sound||(exports.sound=new AudioManager({path:"resources/sounds",files:{main_music:{path:"music",background:!0},bg_music:{path:"music",background:!0},start_ready:{path:"effect",background:!1},start_go:{path:"effect",background:!1},lightning:{path:"effect",background:!1},attack:{path:"effect",background:!1},bubble_xiaochu:{path:"effect",background:!1},coin_in:{path:"effect",background:!1},great:{path:"effect",background:!1},nice:{path:"effect",background:!1},perfect:{path:"effect",background:!1},lose:{path:"effect",background:!1},win:{path:"effect",background:!1}}})),exports.sound};',pre:!0},"src/GameScreen.js":{path:"src/GameScreen.js",friendlyPath:"src.GameScreen",directory:"src/",filename:"GameScreen.js",src:'function startGameFlow(){var i=this,e=new ui.TextView({superview:this,fontFamily:"Comic Sans MS",x:0,y:15,width:GLOBAL.SCREEN_SIZE.width,height:50,autoSize:!1,size:38,verticalAlign:"middle",horizontalAlign:"center",wrap:!1,color:"#fffc88"});i._sound.stop("main_music"),animate(e).wait(1e3).then(function(){e.setText("Ready..."),i._sound.play("start_ready")}).wait(1e3).then(function(){e.setText("Go!"),i._sound.play("start_go")}).wait(1e3).then(function(){i._sound.play("bg_music"),e.removeFromSuperview(),play_game.call(i)})}function play_game(){this._gun.emit("gun:loaded"),initBubbles.call(this),initTimeBoard.call(this),this._gameStart=!0}function buildGun(){var i=new Gun({superview:this});this._gun=i,this.on("InputMove",function(e,t){i.emit("gun:setTarget",t)}),this.on("InputSelect",function(e,t){i.emit("gun:fire",t)})}function checkEachFrame(){GC.app.engine.on("Tick",bind(this,function(){if(this._gun&&this._gameStart){var i=this._gun,e=i._bullet;if(e){if(e._animate.hasFrames()){e.bulletParticle(),e.updateAsFlyingBullet();for(var t in this._bubbles){if(this._bubbles[t].updateAsNormalBubble(i),e._hit)break;if(this._bubbles[t].style.y>GLOBAL.LOSE_LINE)return void this.emit("app:end",!1)}e._isLoaded||i.emit("gun:loaded")}for(t in this._bubbles)this._bubbles[t].updateParticle()}}}))}function initBubbles(){for(var i=GLOBAL.BUBBLE_RADIUS,e=GLOBAL.BUBBLE_RADIUS2,t=GLOBAL.TYPES,s=Math.floor(6*Math.random())+1,n=0,o=i;o<=GLOBAL.SCREEN_SIZE.height*config.initBubbleAreaHeight;o+=2*i)for(var a=e;a<=GLOBAL.SCREEN_SIZE.width-e+5;a+=3*e){var r=++n==s?config.keyType:Math.floor(Math.random()*config.numberOfColor);r==config.keyType&&(this._keyPosition={x:a,y:o}),r=new Bullet({superview:this,x:a,y:o,type:r,image:t[r]}),this._bubbles[r.uid]=r}for(a=2.5*e;a<=GLOBAL.SCREEN_SIZE.width-2.5*e+5;a+=3*e)for(o=2*i;o<=GLOBAL.SCREEN_SIZE.height*config.initBubbleAreaHeight;o+=2*i)r=Math.floor(Math.random()*config.numberOfColor),r=new Bullet({superview:this,x:a,y:o,type:r,image:t[r]}),this._bubbles[r.uid]=r;var h,e=this._bubbles;for(h in e){var u,t=e[h];for(u in e)u!=h&&(s=e[u],n=new Point(t.style.x,t.style.y),o=new Point(s.style.x,s.style.y),n.subtract(o).getMagnitude()<=2*i+config.bias&&(t._edges[u]=s,s._edges[h]=t))}}function initTimeBoard(){var i=0,e=0;this._timeBoard=new ui.TextView({superview:this,x:0,y:400,width:GLOBAL.SCREEN_SIZE.width,height:20,autoSize:!1,verticalAlign:"middle",horizontalAlign:"right",wrap:!1,color:"#65f9ff",text:"00:00",opacity:.5,padding:[0,14,0,0]}),this._timer=setInterval(bind(this,function(){60<=e&&(e=0,i+=1),60<=i&&this.emit("app:end"),this._timeBoard.setText((10>i?"0"+i.toString():i.toString())+":"+(10>e?"0"+e.toString():e.toString())),e+=1}),1e3)}function endGameFlow(i){this._sound.stop("bg_music"),this._gameStart=!1;var e=new ui.ImageView({superview:this,x:this._keyPosition.x,y:this._keyPosition.y,image:"resources/images/big_key.png",anchorX:.5,anchorY:.5,width:1,height:1}),t=this;i?animate(e).now({scale:300,x:GLOBAL.SCREEN_SIZE.width/2,y:GLOBAL.SCREEN_SIZE.width/2},1500).then(function(){e.removeFromSuperview(),resetGame.call(t),t.emit("gamescreen:end",t._timeBoard.getText())}):(t.emit("gamescreen:end",!1),resetGame.call(t))}function resetGame(){clearInterval(this._timer),this._timeBoard.removeFromSuperview();for(var i in this._bubbles)this._bubbles[i].removeFromSuperview();this._bubbles={}}jsio("import ui.View"),jsio("import ui.ImageView"),jsio("import ui.TextView"),jsio("import animate"),jsio("import src.Bullet as Bullet"),jsio("import src.Gun as Gun"),jsio("import src.SoundController as sound"),jsio("import src.Config as config"),jsio("import math.geom.Point as Point"),jsio("import ui.ParticleEngine as ParticleEngine");var Users_tsunami_projects_devkitPoj_BubbleShooter_src_GameScreen=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_src_GameScreen(function(){return this.init&&this.init.apply(this,arguments)},ui.ImageView,function(i){this.init=function(e){e=merge(e,{x:0,y:0,width:GLOBAL.SCREEN_SIZE.width,height:GLOBAL.SCREEN_SIZE.height,image:"resources/images/background_1.jpg"}),i(this,"init",[e]),this._bubbles={},this._sound=sound.getSound(),this._keyPosition=this._timeBoard=this._gun=null,this._gameStart=this._isRemoving=!1,this.build()},this.build=function(){buildGun.call(this),this.on("app:start",startGameFlow.bind(this)),this.on("app:end",endGameFlow.bind(this)),checkEachFrame.call(this),this._perfect=new ui.ImageView({superview:this,x:GLOBAL.SCREEN_SIZE.width/2,y:GLOBAL.SCREEN_SIZE.height/2,image:"resources/images/perfect.png",width:260,height:61,offsetX:-130,offsetY:-30,visible:!1}),this._great=new ui.ImageView(merge({image:"resources/images/great.png",width:198,height:58,offsetX:-99,offsetY:-29},this._perfect._opts)),this._nice=new ui.ImageView(merge({image:"resources/images/nice.png",width:138,height:57,offsetX:-69,offsetY:-28.5},this._perfect._opts))}});',pre:!0},"src/Bullet.js":{path:"src/Bullet.js",friendlyPath:"src.Bullet",directory:"src/",filename:"Bullet.js",src:'jsio("import ui.ImageView"),jsio("import math.geom.Point as Point"),jsio("import animate"),jsio("import src.Config as config"),jsio("import src.SoundController as Sound"),jsio("import ui.ParticleEngine as ParticleEngine");var Users_tsunami_projects_devkitPoj_BubbleShooter_src_Bullet=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_src_Bullet(function(){return this.init&&this.init.apply(this,arguments)},ui.ImageView,function(t){this.init=function(e){e=merge(e,{x:165,y:450,width:2*r,height:2*r,offsetX:-r,offsetY:-r,image:types[0],type:0}),t(this,"init",[e]),this._deviceWidth=GLOBAL.SCREEN_SIZE.width,this._magnLength=config.bulletMagnLength,this._delay=config.bulletSpeedDelay,this._sound=Sound.getSound(),this._origin=new Point(this.style.x,this.style.y),this._type=e.type,this._spark=this._shock=this._hit=!1,this._edges=[],this._pEngine=new ParticleEngine({superview:this}),this.build()},this.build=function(){var t,e=this._deviceWidth,i=this._delay;this._animate=animate(this),this.on("bullet:launch",bind(this,function(e){this._isLoaded?(t=this.magnitudeLength(e),this._sound.play("lightning"),this._animate.now({x:t.x,y:t.y},i,animate.linear),this._isLoaded=!1):console.error("Bullet.build : bullet not loaded")})),this.on("bullet:touchLeftWall",bind(this,function(){0>t.x&&(t=this.magnitudeLength(new Point(-t.x,t.y)),this._animate.clear().now({x:t.x,y:t.y},i,animate.linear))})),this.on("bullet:touchRightWall",bind(this,function(){t.x>e&&(t=this.magnitudeLength(new Point(2*e-t.x,t.y)),this._animate.clear().now({x:t.x,y:t.y},i,animate.linear))}))},this.updateParticle=function(){this._shock&&this.bulletParticle(),this._spark&&this.bulletSpark(),this._pEngine.runTick(500)},this.bulletParticle=function(){for(var t=this._pEngine.obtainParticleArray(10),e=0;10>e;e++){var i=t[e];i.dx=10*Math.random(),i.width=33,i.height=33,this._animate.hasFrames()?(i.dy=10*Math.random(),i.image=GLOBAL.BULLET_PARTICLE[this._type]):(i.dy=10*-Math.random(),i.image=GLOBAL.TYPES[this._type])}this._pEngine.emitParticles(t)},this.bulletSpark=function(){for(var t=this._pEngine.obtainParticleArray(5),e=0;5>e;e++){var i=t[e];i.dx=40*Math.random()-20,i.dy=40*Math.random()-20,i.width=40,i.height=40,i.image="resources/images/bomb.png"}this._pEngine.emitParticles(t)},this.updateAsFlyingBullet=function(){0<this.style.y?(this.style.x<=r&&this.emit("bullet:touchLeftWall"),this.style.x+r>=this._deviceWidth&&this.emit("bullet:touchRightWall")):(this._animate.clear(),this.removeFromSuperview())},this.updateAsNormalBubble=function(t){var t=t._bullet,e=new Point(t.style.x,t.style.y),i=new Point(this.style.x,this.style.y);e.subtract(i).getMagnitude()<=2*r&&(t._animate.clear(),this.deployBulletAfterHit(e.getAngle(),t),this._sound.play("attack"),t._hit=!0,this.searchOverlapBubble(t))},this.shock=function(){var t=this;t._shock=!0,setTimeout(function(){t._shock=!1},200)},this.spark=function(){var t=this;t._spark=!0,this._sound.play("bubble_xiaochu"),setTimeout(function(){t._spark=!1},200)},this.searchOverlapBubble=function(t){var e,i=this.getSuperview()._bubbles,s=!1;for(e in i){var n=new Point(t.style.x,t.style.y),a=new Point(i[e].style.x,i[e].style.y);if(n.subtract(a).getMagnitude()<=2*r+config.bias){if(i[e]._type==config.keyType){s=!0;break}t._edges[e]=i[e],i[e]._edges[t.uid]=t,i[e].shock()}}if(i[t.uid]=t,s)setTimeout(bind(this,function(){this.getSuperview().emit("app:end",!0)}),300);else{var h=this.checkRemoveBFS(t);3<=h.length&&setTimeout(bind(this,function(){this.removeBubbles(h,i),setTimeout(bind(this,function(){this.removeSuspendBubble(i)}),400)}),400)}},this.checkRemoveBFS=function(t){var e=[],i=0,s=0,n=[],a=[];for(e.push(t);i<=s;){t=e[i],n[t.uid]=!0,i+=1,a.push(t);for(var r in t._edges){var h=t._edges[r];h._type==t._type&&!n[h.uid]&&(s+=1,e.push(h))}}return a},this.removeSuspendBubble=function(t){var e,i=[];for(e in t)this.canAccessCelling(t[e])||i.push(t[e]);0<i.length&&this.removeBubbles(i,t,!0)},this.removeBubbles=function(t,e,i){var s=t[0].getSuperview();s._isRemoving=!0;for(var n=0;n<t.length;n++){var a,r=t[n];for(a in r._edges)delete r._edges[a]._edges[r.uid];r.spark()}setTimeout(function(){for(var i=0;i<t.length;i++){var n=t[i];n.removeFromSuperview(),delete e[n.uid]}setTimeout(function(){s._isRemoving=!1},200)},300),i||setTimeout(bind(this,function(){var t=admire[Math.floor(3*Math.random())];this._sound.play(t),"perfect"==t?t=s._perfect:"great"==t?t=s._great:"nice"==t&&(t=s._nice),t.show(),setTimeout(function(){t.hide()},500)}),600)},this.canAccessCelling=function(t){var e=[],i=0,s=0,n=[],a=[];if(e.push(t),t.style.y<=r)return!0;for(;i<=s;){t=e[i],n[t.uid]=!0,i+=1,a.push(t);for(var h in t._edges){var o=t._edges[h];if(o.style.y<=r)return!0;n[o.uid]||(s+=1,e.push(o))}}return!1},this.deployBulletAfterHit=function(t,e){for(var i=this.style,s=0;s<Edge.length;s++)if(Hexagon[s].s<t&&t<Hexagon[s].t){e.style.x=i.x+Edge[s].dx,e.style.y=i.y+Edge[s].dy;break}},this.magnitudeLength=function(t){var e=this._origin,t=new Point(t.x,t.y).subtract(e);return t.setMagnitude(this._magnLength),t.x+=e.x,t.y+=e.y,t}});var r=GLOBAL.BUBBLE_RADIUS,r2=GLOBAL.BUBBLE_RADIUS2,types=GLOBAL.TYPES,Hexagon=config.Hexagon,Edge=config.Edge,admire=["perfect","nice","great"];',pre:!0},"src/Config.js":{path:"src/Config.js",friendlyPath:"src.Config",directory:"src/",filename:"Config.js",src:'GLOBAL.TYPES="resources/images/red.png resources/images/blue.png resources/images/purple.png resources/images/green.png resources/images/yellow.png resources/images/key.png".split(" "),GLOBAL.BUBBLE_RADIUS=17,GLOBAL.BUBBLE_RADIUS2=19.63,GLOBAL.SCREEN_SIZE={width:330,height:590},GLOBAL.LOSE_LINE=340,GLOBAL.BULLET_PARTICLE=["resources/images/red_particle.png","resources/images/blue_particle.png","resources/images/purple_particle.png","resources/images/green_particle.png","resources/images/yellow_particle.png"],exports.keyType=5,exports.numberOfColor=5,exports.bias=1,exports.bulletSpeedDelay=1200,exports.bulletMagnLength=1e3,exports.initBubbleAreaHeight=.4,exports.serverUrl="http://scientist2031.com/server.php",exports.Hexagon=[{s:0,t:1.0472},{s:1.0473,t:2.0943},{s:2.0944,t:3.1416},{s:-3.1416,t:-2.0944},{s:-2.0943,t:-1.0473},{s:-1.0472,t:0}],exports.Edge=[{dx:1.5*GLOBAL.BUBBLE_RADIUS2,dy:GLOBAL.BUBBLE_RADIUS},{dx:0,dy:2*GLOBAL.BUBBLE_RADIUS},{dx:-1.5*GLOBAL.BUBBLE_RADIUS2,dy:GLOBAL.BUBBLE_RADIUS},{dx:-1.5*GLOBAL.BUBBLE_RADIUS2,dy:-GLOBAL.BUBBLE_RADIUS},{dx:0,dy:-2*GLOBAL.BUBBLE_RADIUS},{dx:1.5*GLOBAL.BUBBLE_RADIUS2,dy:-GLOBAL.BUBBLE_RADIUS}];',pre:!0},"modules/devkit-core/modules/timestep/src/ui/ParticleEngine.js":{path:"modules/devkit-core/modules/timestep/src/ui/ParticleEngine.js",friendlyPath:"ui.ParticleEngine",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"ParticleEngine.js",src:'jsio("import ui.View as View"),jsio("import ui.resource.Image as Image"),jsio("import ui.ImageView as ImageView"),jsio("import performance");var sin=Math.sin,cos=Math.cos,min=Math.min,max=Math.max,imageCache={},TRANSITION_LINEAR="linear",TRANSITIONS={linear:function(e){return e},easeIn:function(e){return e*e},easeInOut:function(e){return 1>(e*=2)?.5*e*e*e:.5*((e-=2)*e*e+2)},easeOut:function(e){return e*(2-e)}},PARTICLE_DEFAULTS={x:0,y:0,r:0,anchorX:0,anchorY:0,width:1,height:1,scale:1,dscale:0,ddscale:0,scaleX:1,dscaleX:0,ddscaleX:0,scaleY:1,dscaleY:0,ddscaleY:0,dx:0,dy:0,dr:0,danchorX:0,danchorY:0,ddx:0,ddy:0,ddr:0,ddanchorX:0,ddanchorY:0,dwidth:0,dheight:0,ddwidth:0,ddheight:0,opacity:1,dopacity:0,ddopacity:0,ttl:1e3,delay:0,flipX:!1,flipY:!1,visible:!1,polar:!1,ox:0,oy:0,theta:0,radius:0,dtheta:0,dradius:0,ddtheta:0,ddradius:0,elapsed:0,image:"",compositeOperation:null,transition:TRANSITION_LINEAR,onStart:null,onDeath:null,external:!1,triggers:null},PARTICLE_KEYS=Object.keys(PARTICLE_DEFAULTS),Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_ParticleEngine=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_timestep_src_ui_ParticleEngine(function(){return this.init&&this.init.apply(this,arguments)},View,function(){var e=View.prototype;this.init=function(t){t=t||{},t.canHandleEvents=!1,t.blockEvents=!0,e.init.call(this,t),this._ctor=t.ctor||ImageView,this._particleDataArray=[],this._freeParticleObjects=[],this._freeParticles=[],this._activeParticles=[],(t=t.initCount)&&this._initParticlePool(t),this._logViewCreation=0<t},this._initParticlePool=function(e){for(var t=0;t<e;t++)this._freeParticles.push(new this._ctor({superview:this,visible:!1,canHandleEvents:!1})),this._freeParticleObjects.push({x:0,y:0,r:0,anchorX:0,anchorY:0,width:1,height:1,scale:1,dscale:0,ddscale:0,scaleX:1,dscaleX:0,ddscaleX:0,scaleY:1,dscaleY:0,ddscaleY:0,dx:0,dy:0,dr:0,danchorX:0,danchorY:0,ddx:0,ddy:0,ddr:0,ddanchorX:0,ddanchorY:0,dwidth:0,dheight:0,ddwidth:0,ddheight:0,opacity:1,dopacity:0,ddopacity:0,ttl:1e3,delay:0,flipX:!1,flipY:!1,visible:!1,polar:!1,ox:0,oy:0,theta:0,radius:0,dtheta:0,dradius:0,ddtheta:0,ddradius:0,elapsed:0,image:"",compositeOperation:null,transition:TRANSITION_LINEAR,onStart:null,onDeath:null,external:!1,triggers:[]})},this.obtainParticleArray=function(e,t){for(var t=t||{},e=performance.getAdjustedParticleCount(e,t.performanceScore,t.allowReduction),a=0;a<e;a++)this._particleDataArray.push(this._freeParticleObjects.pop()||{x:0,y:0,r:0,anchorX:0,anchorY:0,width:1,height:1,scale:1,dscale:0,ddscale:0,scaleX:1,dscaleX:0,ddscaleX:0,scaleY:1,dscaleY:0,ddscaleY:0,dx:0,dy:0,dr:0,danchorX:0,danchorY:0,ddx:0,ddy:0,ddr:0,ddanchorX:0,ddanchorY:0,dwidth:0,dheight:0,ddwidth:0,ddheight:0,opacity:1,dopacity:0,ddopacity:0,ttl:1e3,delay:0,flipX:!1,flipY:!1,visible:!1,polar:!1,ox:0,oy:0,theta:0,radius:0,dtheta:0,dradius:0,ddtheta:0,ddradius:0,elapsed:0,image:"",compositeOperation:null,transition:TRANSITION_LINEAR,onStart:null,onDeath:null,external:!1,triggers:[]});return this._particleDataArray},this._cleanObject=function(e){for(var t=0,a=PARTICLE_KEYS.length;t<a;t++){var i=PARTICLE_KEYS[t];e[i]=PARTICLE_DEFAULTS[i]}return e.triggers=[],e},this._addExternalParticle=function(e,t){for(var a=this._activeParticles,i=a.indexOf(e);-1!==i;)this._killParticle(e,e.pData,i),i=a.indexOf(e);this._prepareTriggers(t),t.external=!0,e.pData=t,a.push(e)},this.addExternalParticles=function(e,t){for(var a=t.length,i=0;i<a;i++){var r=t.pop(),s=e.pop();s&&r&&this._addExternalParticle(s,r)}},this.emitParticles=function(e){for(var t=e.length,a=this._activeParticles,i=this._freeParticles,r=0;r<t;r++){var s=e.pop(),d=i.pop();d||(d=new this._ctor({superview:this,visible:!1,canHandleEvents:!1}),this._logViewCreation&&logger.WARN&&console.warn("WARN","ui.ParticleEngine",this.getTag(),"created View:",d.getTag()));var l=s.image;if(d.setImage&&d.lastImage!==l){var c=imageCache[l];void 0===c&&(c=imageCache[l]=new Image({url:l})),d.setImage(c),d.lastImage=l}if(l=d.style,l.x=s.x,l.y=s.y,l.r=s.r,l.anchorX=s.anchorX,l.anchorY=s.anchorY,l.width=s.width,l.height=s.height,l.scale=s.scale,l.scaleX=s.scaleX,l.scaleY=s.scaleY,l.opacity=s.opacity,l.flipX=s.flipX,l.flipY=s.flipY,l.compositeOperation=s.compositeOperation,l.visible=s.visible,s.delay){if(0>s.delay)throw Error("Particles cannot have negative delay values!")}else l.visible=!0,s.onStart&&s.onStart(d);if(0>s.ttl)throw Error("Particles cannot have negative time-to-live values!");this._prepareTriggers(s),d.pData=s,a.push(d)}},this._prepareTriggers=function(e){for(var e=e.triggers,t=0,a=e.length;t<a;t++){var i=e[t];i.isStyle=void 0!==i.isStyle?i.isStyle:"d"!==i.property.charAt(0)}},this._killParticle=function(e,t,a){var i=e.style,a=this._activeParticles.splice(a,1);e.pData=null,t&&t.onDeath&&t.onDeath(e,t),t&&t.external?this._freeParticleObjects.push(this._cleanObject(t)):(i.visible=!1,this._freeParticles.push(a[0]),t&&this._freeParticleObjects.push(this._cleanObject(t)))},this.killAllParticles=function(){for(var e=this._activeParticles;e.length;){var t=e[0];this._killParticle(t,t.pData,0)}},this.runTick=function(e){for(var t=0,a=this._activeParticles;t<a.length;){var i=a[t],r=i.style,s=i.pData;if(s){if(0<s.delay){if(s.delay-=e,!(0>=s.delay)){t++;continue}r.visible=!0,s.onStart&&s.onStart(i)}if(s.elapsed+=e,s.elapsed>=s.ttl)this._killParticle(i,s,t);else{var d=e/1e3;if(s.transition!==TRANSITION_LINEAR)var d=TRANSITIONS[s.transition],l=d((s.elapsed-e)/s.ttl),d=(d(s.elapsed/s.ttl)-l)*s.ttl/1e3;for(s.polar?(s.radius+=d*s.dradius,s.theta+=d*s.dtheta,s.dradius+=d*s.ddradius,s.dtheta+=d*s.ddtheta,s.ox+=d*s.dx,s.oy+=d*s.dy,s.dx+=d*s.ddx,s.dy+=d*s.ddy,r.x=s.x=s.ox+s.radius*cos(s.theta),r.y=s.y=s.oy+s.radius*sin(s.theta)):(l=d*s.dx,0!==l&&(r.x=s.x+=l),l=d*s.dy,0!==l&&(r.y=s.y+=l),s.dx+=d*s.ddx,s.dy+=d*s.ddy),l=d*s.danchorX,0!==l&&(r.anchorX=s.anchorX+=l),l=d*s.danchorY,0!==l&&(r.anchorY=s.anchorY+=l),s.danchorX+=d*s.ddanchorX,s.danchorY+=d*s.ddanchorY,l=d*s.dwidth,0!==l&&(r.width=s.width+=l),l=d*s.dheight,0!==l&&(r.height=s.height+=l),s.dwidth+=d*s.ddwidth,s.dheight+=d*s.ddheight,l=d*s.dr,0!==l&&(r.r=s.r+=l),s.dr+=d*s.ddr,l=d*s.dscale,0!==l&&(r.scale=s.scale=max(0,s.scale+l)),l=d*s.dscaleX,0!==l&&(r.scaleX=s.scaleX=max(0,s.scaleX+l)),l=d*s.dscaleY,0!==l&&(r.scaleY=s.scaleY=max(0,s.scaleY+l)),s.dscale+=d*s.ddscale,s.dscaleX+=d*s.ddscaleX,s.dscaleY+=d*s.ddscaleY,l=d*s.dopacity,0!==l&&(r.opacity=s.opacity=max(0,min(1,s.opacity+l))),s.dopacity+=d*s.ddopacity,d=0,l=s.triggers;d<l.length;){var c=l[d],o=c.isStyle?r:s;c.smaller&&o[c.property]<c.value?(c.action(i),c.count&&(c.count-=1,0>=c.count&&(l.splice(d,1),d-=1))):!c.smaller&&o[c.property]>c.value&&(c.action(i),c.count&&(c.count-=1,0>=c.count&&(l.splice(d,1),d-=1))),d+=1}t+=1}}else this._killParticle(i,s,t)}},this.getActiveParticles=function(){return this._activeParticles},this.forEachActiveParticle=function(e,t){for(var a=this._activeParticles,i=a.length-1;0<=i;i--)e.call(t,a[i],i)}});',pre:!0},"modules/devkit-core/modules/timestep/src/performance.js":{path:"modules/devkit-core/modules/timestep/src/performance.js",friendlyPath:"performance",directory:"modules/devkit-core/modules/timestep/src/",filename:"performance.js",baseMod:"performance",basePath:"/Users/tsunami/projects/devkitPoj/BubbleShooter/modules/devkit-core/modules/timestep/src/performance",src:'jsio("import device"),jsio("import userAgent");var DEFAULT_RANK=0,DEFAULT_ALLOW_REDUCTION=!0,DEFAULT_FPS_LOWER_BOUND=10,DEFAULT_FPS_UPPER_BOUND=60,MIN_SCORE=0,MAX_SCORE=100,TICKS_TIL_ADJUST_DPR=500,MIN_DPR_SCORE=20,MAX_DPR_SCORE=60,MIN_DPR=1,TICKS_TIL_CHECK_SCORE=20,START_AVERAGE_DELTA=16,START_AVERAGE_SCORE=100,DELTA_AVERAGE_WEIGHT=.6,DELTA_WEIGHT=.4,SCORE_AVERAGE_WEIGHT=.6,SCORE_WEIGHT=.4,MIN_SCORE_FOR_DPR=40,DPR_DECREASE_VALUE=.5,Performance=__class__,Performance=Performance(function(){return this.init&&this.init.apply(this,arguments)},function(){function e(){if(E){var e=Date.now(),s=e-n;n=e,r=r*DELTA_AVERAGE_WEIGHT+s*DELTA_WEIGHT,++o>=TICKS_TIL_CHECK_SCORE&&(o=0,e=Math.min(1e3/r,DEFAULT_FPS_UPPER_BOUND),e=Math.max(0,MIN_SCORE+(MAX_SCORE-MIN_SCORE)*((e-A)/(i-A))),T=T*SCORE_AVERAGE_WEIGHT+e*SCORE_WEIGHT),_&&++t>=TICKS_TIL_ADJUST_DPR&&(t=0,T<MIN_SCORE_FOR_DPR&&D>MIN_DPR&&(D-=DPR_DECREASE_VALUE,device.setDevicePixelRatio(D),logger.LOG&&console.log("LOG","performance","PERFORMANCE SCORE OF "+T," DETECTED, SETTING DPR TO "+D))),R&&logger.LOG&&console.log("LOG","performance","score ",T)}}var E,_,n,R,t=0,o=0,A=DEFAULT_FPS_LOWER_BOUND,i=DEFAULT_FPS_UPPER_BOUND,r=START_AVERAGE_DELTA,T=START_AVERAGE_SCORE,D=device.screen.defaultDevicePixelRatio;this.init=function(){E=!0,_=R=!1,setTimeout(bind(this,function(){n=Date.now(),jsio("import ui.Engine").get().on("Render",bind(this,e))}),0)},this.showDebugLogs=function(){R=!0},this.hideDebugLogs=function(){R=!1},this.clear=function(){T=START_AVERAGE_SCORE,r=START_AVERAGE_DELTA,o=t=0},this.pause=function(){E=!1},this.resume=function(){n=Date.now(),E=!0},this.setTargetFPSRange=function(e,E){A=e,i=E},this.getPerformanceScore=function(){return T},this.getAdjustedParticleCount=function(e,E,_){var n=e,R=this.getPerformanceScore(),E=E||DEFAULT_RANK,_="undefined"!=typeof _?_:DEFAULT_ALLOW_REDUCTION;return R<E&&(n=_?e*R/E:0),n},this.setDPRScalingEnabled=function(e){"browser"!==userAgent.APP_RUNTIME?logger.WARN&&console.warn("WARN","performance","Auto DPR scaling only supported in browsers!"):"iPhone OS"===userAgent.OS_TYPE?logger.WARN&&console.warn("WARN","performance","Auto DPR not currently supported on iOS."):_=e}});exports=new Performance;',pre:!0},"src/Gun.js":{path:"src/Gun.js",friendlyPath:"src.Gun",directory:"src/",filename:"Gun.js",src:'jsio("import ui.ImageView"),jsio("import math.geom.Point as Point"),jsio("import animate"),jsio("import src.Bullet as Bullet"),jsio("import src.Config as config");var Users_tsunami_projects_devkitPoj_BubbleShooter_src_Gun=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_src_Gun(function(){return this.init&&this.init.apply(this,arguments)},ui.ImageView,function(e){this.init=function(i){i=merge(i,{x:GLOBAL.SCREEN_SIZE.width/2-53,y:420,autoSize:!0,image:"resources/images/gun_base.png"}),e(this,"init",[i]),this._color=Math.floor(5*Math.random()),this.build()},this.build=function(){var e=new ui.ImageView({superview:this,x:-3,y:-70,autoSize:!0,image:"resources/images/gun.png",anchorX:53,anchorY:96}),i=new ui.ImageView({superview:this,x:-100,y:-70,scale:.6,autoSize:!0,image:"resources/images/girl.png"}),t=new ui.ImageView({superview:i,x:80,y:100,width:50,height:50,image:types[this._color]}),o=this,s=o.getSuperview();this.on("gun:setTarget",function(i){i=-1.57079-i.subtract(new Point(145,510)).getAngle(),e.style.r=-i}),this.on("gun:loaded",function(){animate(t).now({x:230,y:140},200,animate.linear).then(function(){var e=new Bullet({type:o._color,image:types[o._color]});s.addSubview(e),o._bullet=e,e._isLoaded=!0,o._color=Math.floor(5*Math.random()),t.updateOpts({x:80,y:100,image:types[o._color]})})}),this.on("gun:fire",function(e){var i=s._isRemoving;s._gameStart&&o._bullet&&o._bullet._isLoaded&&e.y<o._bullet.style.y&&!i&&o._bullet.emit("bullet:launch",e)})}});var types=GLOBAL.TYPES;',pre:!0},"src/GameOverScreen.js":{path:"src/GameOverScreen.js",friendlyPath:"src.GameOverScreen",directory:"src/",filename:"GameOverScreen.js",src:'jsio("import ui.ImageView"),jsio("import ui.TextView"),jsio("import animate"),jsio("import src.Config as config"),jsio("import src.SoundController as Sound"),jsio("import util.ajax as ajax"),jsio("import ui.ParticleEngine as ParticleEngine");var Users_tsunami_projects_devkitPoj_BubbleShooter_src_GameOverScreen=__class__;exports=Users_tsunami_projects_devkitPoj_BubbleShooter_src_GameOverScreen(function(){return this.init&&this.init.apply(this,arguments)},ui.ImageView,function(h){this.init=function(i){i=merge(i,{x:0,y:0,width:GLOBAL.SCREEN_SIZE.width,height:GLOBAL.SCREEN_SIZE.height,image:"resources/images/background_4.jpg"}),h(this,"init",[i]),this._sound=Sound.getSound(),this._spark=!1,this.build()},this.build=function(){var b=new ui.TextView({superview:this,x:0,y:290,width:GLOBAL.SCREEN_SIZE.width,height:190,size:19,fontFamily:"Comic Sans MS",verticalAlign:"middle",horizontalAlign:"center",wrap:!0,color:"#FF9800",opacity:1,autoFontSize:!1}),d=new ui.TextView({superview:this,x:0,y:255,width:GLOBAL.SCREEN_SIZE.width,height:40,size:30,fontFamily:"Comic Sans MS",verticalAlign:"middle",horizontalAlign:"center",color:"#fe546c",opacity:1,autoFontSize:!1}),a=new ui.TextView({superview:this,x:0,y:120,fontFamily:"Comic Sans MS",width:GLOBAL.SCREEN_SIZE.width,height:50,size:35,verticalAlign:"middle",horizontalAlign:"center",wrap:!1,color:"#fffc88",opacity:1,text:"Time: 00:00"}),g=new ui.TextView({superview:this,x:0,fontFamily:"Comic Sans MS",y:50,width:GLOBAL.SCREEN_SIZE.width,height:40,size:25,verticalAlign:"middle",horizontalAlign:"center",wrap:!1,color:"#fffc88",opacity:1,text:"network error"});new ui.TextView({superview:this,x:0,y:460,fontFamily:"Comic Sans MS",width:GLOBAL.SCREEN_SIZE.width,height:50,size:35,verticalAlign:"middle",horizontalAlign:"center",wrap:!1,color:"#fff",opacity:1,text:"Click to Go On"}),this._pEngine=new ParticleEngine({superview:this}),this.on("gameoverscreen:score",function(c){c?(this._sound.play("win"),this._spark=!0,setTimeout(bind(this,function(){this._spark=!1}),1e3),a.setText("Time: "+c),ajax.get({url:config.serverUrl,data:{score:c}},function(a,e){if(a)console.log(a),g.setText("network error");else{e=eval("("+e+")"),g.setText(e.rank.toString()+"th"),d.setText("Best: "+e.scoreList[0]);for(var c="",f=1;f<e.scoreList.length;f++)c+=(f+1).toString()+"th: "+e.scoreList[f]+"\\n";b.setText(c)}})):(this._sound.play("lose"),a.setText("Lose"),g.setText("no rank"),b.setText(""),d.setText(""))}),GC.app.engine.on("Tick",bind(this,function(){this._pEngine.runTick(400),this._spark&&this.spark()}))},this.spark=function(){for(var i=this._pEngine.obtainParticleArray(50),e=0;50>e;e++){var t=i[e];t.dx=400*Math.random(),t.dy=400*Math.random(),t.width=15,t.height=15,t.image="resources/images/spark.png"}this._pEngine.emitParticles(i)}});',pre:!0},"modules/devkit-core/node_modules/jsio/packages/util/ajax.js":{path:"modules/devkit-core/node_modules/jsio/packages/util/ajax.js",friendlyPath:"util.ajax",directory:"modules/devkit-core/node_modules/jsio/packages/util/",filename:"ajax.js",src:'function _sendNext(){if(_inflight<exports.MAX_SIMULTANEOUS){var t=_pending.shift();t&&_send(t)}}function _send(t){++_inflight;var e=exports.createXHR();e.open(t.method,t.url,0!=t.async);var n,i=!1;for(n in t.headers)"content-type"==n.toLowerCase()&&(i=!0),e.setRequestHeader(n,t.headers[n]);e.withCredentials=t.withCredentials,i||e.setRequestHeader("Content-Type","text/plain"),e.onreadystatechange=bind(this,onReadyStateChange,t,e),t.timeout&&(t.timeoutRef=setTimeout(bind(this,cancel,e,t),t.timeout)),t.ts=+new Date,e.send(t.data||null)}function cancel(t,e){if(--_inflight,e.timedOut&&logger.LOG&&console.log("LOG","util.ajax","already timed out?!"),t.onreadystatechange=null,e.timedOut=!0,t.readyState>=t.HEADERS_RECEIVED)try{var n=t.getAllResponseHeaders()}catch(t){}e.cb&&e.cb({timeout:!0},null,n)}function onReadyStateChange(t,e){if(4==e.readyState){if(t.timedOut)throw"Unexpected?!";--_inflight,setTimeout(_sendNext,0);var n=t.cb;if("timeoutRef"in t&&(clearTimeout(t.timeoutRef),t.timeoutRef=null),n&&!t.handled){t.handled=!0;var i=/^application\\/json(;|$)/.test(e.getResponseHeader("Content-Type"))||"json"==t.type,s=e.response||e.responseText,r=s,o=!1;if(i&&s&&"string"==typeof s)try{r=JSON.parse(s)}catch(t){o=!0}200!=e.status&&0!=e.status||o?n({status:e.status,response:r,parseError:o},null,e.getAllResponseHeaders()):n(null,r,e.getAllResponseHeaders())}}}jsio("import std.uri as URI"),exports.MAX_SIMULTANEOUS=4;var _inflight=0,doc;exports.getDoc=function(){if(doc)return doc;try{(doc=window.ActiveXObject&&new ActiveXObject("htmlfile"))&&(doc.open().write("<html></html>"),doc.close(),window.attachEvent("onunload",function(){try{doc.body.innerHTML=""}catch(t){}doc=null}))}catch(t){}return doc||(doc=document),doc};var ctor=function(){var t=window;return exports.getDoc(),new(ctor=t.XMLHttpRequest?t.XMLHttpRequest:function(){return t.ActiveXObject&&new t.ActiveXObject("Msxml2.XMLHTTP")||null})};exports.createXHR=function(){return new ctor},exports.post=function(t,e){return exports.get(merge({method:"POST"},t),e)};var Request=__class__,Request=Request(function(){return this.init&&this.init.apply(this,arguments)},function(){var t=0;this.init=function(e,n){if("string"==typeof e&&(e={url:e}),e&&e.url){if(this.method=(e.method||"GET").toUpperCase(),this.url=e.url,this.type=e.type,this.async=e.async,this.timeout=e.timeout,this.withCredentials=!!e.withCredentials,this.id=++t,this.headers={},this.cb=n,e.headers)for(var i in e.headers)e.headers.hasOwnProperty(i)&&(this.headers[i]=e.headers[i]);i=e.data&&"object"==typeof e.data,"GET"==this.method&&e.data&&(this.url=new URI(this.url).addQuery(i?e.data:URI.parseQuery(e.data)).toString()),e.query&&(this.url=new URI(this.url).addQuery("object"==typeof e.query?e.query:URI.parseQuery(e.query)).toString());try{this.data="GET"!=this.method?i?JSON.stringify(e.data):e.data:null,i&&!this.headers["Content-Type"]&&(this.headers["Content-Type"]="application/json")}catch(t){n&&n({invalidData:!0},null,"")}}else logger.ERROR&&console.error("ERROR","util.ajax","no url provided")}}),_pending=[];exports.get=function(t,e){var n=new Request(t,e);_inflight>=exports.MAX_SIMULTANEOUS?_pending.push(n):_send(n)};',
pre:!0}});;GC_LOADER.onLoadApp("import devkit.browser.launchClient");