;(function() {var w=window;
w.BUILD_TARGET="native-android";
w.BUILD_ENV="native";
w.DEBUG=false;
w.CONFIG={"appID":"79c48285ba024dc58cc4fc9d2500e52b","ios":{},"supportedOrientations":["portrait","landscape"],"shortName":"helloworld","title":"helloworld","disableNativeViews":false,"useDOM":false,"packageName":"com.example.studio.helloworld","bundleID":"com.example.studio.helloworld","target":"native-android","serverName":"production","localServerURL":false,"version":"","sdkVersion":"2.1.1","splash":{"autoHide":true},"useWebGL":false};
})();;CACHE={"spritesheets/map.json":"{}","resources/sound-map.json":"{}"};
// this file is included at the end of the embedded JS

/* globals NATIVE, JSIO_ENV_CTOR: true */

// it's responsible for initializing the js.io environment
var util = {};
var formatRegExp = /%[sdj%]/g;
util.format = function(f) {
  if (!isString(f)) {
    var objects = [];
    for (var i = 0; i < arguments.length; i++) {
      objects.push(inspect(arguments[i]));
    }
    return objects.join(' ');
  }

  var i = 1;
  var args = arguments;
  var len = args.length;
  var str = String(f).replace(formatRegExp, function(x) {
    if (x === '%%') return '%';
    if (i >= len) return x;
    switch (x) {
      case '%s': return String(args[i++]);
      case '%d': return Number(args[i++]);
      case '%j':
        try {
          return JSON.stringify(args[i++]);
        } catch (_) {
          return '[Circular]';
        }
      default:
        return x;
    }
  });
  for (var x = args[i]; i < len; x = args[++i]) {
    if (isNull(x) || !isObject(x)) {
      str += ' ' + x;
    } else {
      str += ' ' + inspect(x);
    }
  }
  return str;
};



var debugs = {};
var debugEnviron;
util.debuglog = function(set) {
  if (isUndefined(debugEnviron))
    debugEnviron = process.env.NODE_DEBUG || '';
  set = set.toUpperCase();
  if (!debugs[set]) {
    if (new RegExp('\\b' + set + '\\b', 'i').test(debugEnviron)) {
      var pid = process.pid;
      debugs[set] = function() {
        var msg = util.format.apply(util, arguments);
        console.error('%s %d: %s', set, pid, msg);
      };
    } else {
      debugs[set] = function() {};
    }
  }
  return debugs[set];
};


/**
 * Echos the value of a value. Trys to print the value out
 * in the best way possible given the different types.
 *
 * @param {Object} obj The object to print out.
 * @param {Object} opts Optional options object that alters the output.
 */
/* legacy: obj, showHidden, depth, colors*/
function inspect(obj, opts) {
  // default options
  var ctx = {
    seen: [],
    stylize: stylizeNoColor
  };
  // legacy...
  if (arguments.length >= 3) ctx.depth = arguments[2];
  if (arguments.length >= 4) ctx.colors = arguments[3];
  if (isBoolean(opts)) {
    // legacy...
    ctx.showHidden = opts;
  } else if (opts) {
    // got an "options" object
    util._extend(ctx, opts);
  }
  // set default options
  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;
  if (isUndefined(ctx.depth)) ctx.depth = 2;
  if (isUndefined(ctx.colors)) ctx.colors = false;
  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;
  if (ctx.colors) ctx.stylize = stylizeWithColor;
  return formatValue(ctx, obj, ctx.depth);
}
util.inspect = inspect;


// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics
inspect.colors = {
  'bold' : [1, 22],
  'italic' : [3, 23],
  'underline' : [4, 24],
  'inverse' : [7, 27],
  'white' : [37, 39],
  'grey' : [90, 39],
  'black' : [30, 39],
  'blue' : [34, 39],
  'cyan' : [36, 39],
  'green' : [32, 39],
  'magenta' : [35, 39],
  'red' : [31, 39],
  'yellow' : [33, 39]
};

// Don't use 'blue' not visible on cmd.exe
inspect.styles = {
  'special': 'cyan',
  'number': 'yellow',
  'boolean': 'yellow',
  'undefined': 'grey',
  'null': 'bold',
  'string': 'green',
  'date': 'magenta',
  // "name": intentionally not styling
  'regexp': 'red'
};


function stylizeWithColor(str, styleType) {
  var style = inspect.styles[styleType];

  if (style) {
    return '\u001b[' + inspect.colors[style][0] + 'm' + str +
           '\u001b[' + inspect.colors[style][1] + 'm';
  } else {
    return str;
  }
}


function stylizeNoColor(str, styleType) {
  return str;
}


function arrayToHash(array) {
  var hash = {};

  array.forEach(function(val, idx) {
    hash[val] = true;
  });

  return hash;
}


function formatValue(ctx, value, recurseTimes) {
  // Provide a hook for user-specified inspect functions.
  // Check that value is an object with an inspect function on it
  if (ctx.customInspect &&
      value &&
      isFunction(value.inspect) &&
      // Filter out the util module, it's inspect function is special
      value.inspect !== util.inspect &&
      // Also filter out any prototype objects using the circular check.
      !(value.constructor && value.constructor.prototype === value)) {
    var ret = value.inspect(recurseTimes, ctx);
    if (!isString(ret)) {
      ret = formatValue(ctx, ret, recurseTimes);
    }
    return ret;
  }

  // Primitive types cannot have properties
  var primitive = formatPrimitive(ctx, value);
  if (primitive) {
    return primitive;
  }

  // Look up the keys of the object.
  var keys = Object.keys(value);
  var visibleKeys = arrayToHash(keys);

  if (ctx.showHidden) {
    keys = Object.getOwnPropertyNames(value);
  }

  // This could be a boxed primitive (new String(), etc.), check valueOf()
  // NOTE: Avoid calling `valueOf` on `Date` instance because it will return
  // a number which, when object has some additional user-stored `keys`,
  // will be printed out.
  var formatted;
  var raw = value;
  try {
    // the .valueOf() call can fail for a multitude of reasons
    if (!isDate(value))
      raw = value.valueOf();
  } catch (e) {
    // ignore...
  }

  if (isString(raw)) {
    // for boxed Strings, we have to remove the 0-n indexed entries,
    // since they just noisey up the output and are redundant
    keys = keys.filter(function(key) {
      return !(key >= 0 && key < raw.length);
    });
  }

  // Some type of object without properties can be shortcutted.
  if (keys.length === 0) {
    if (isFunction(value)) {
      var name = value.name ? ': ' + value.name : '';
      return ctx.stylize('[Function' + name + ']', 'special');
    }
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    }
    if (isDate(value)) {
      return ctx.stylize(Date.prototype.toString.call(value), 'date');
    }
    if (isError(value)) {
      return formatError(value);
    }
    // now check the `raw` value to handle boxed primitives
    if (isString(raw)) {
      formatted = formatPrimitiveNoColor(ctx, raw);
      return ctx.stylize('[String: ' + formatted + ']', 'string');
    }
    if (isNumber(raw)) {
      formatted = formatPrimitiveNoColor(ctx, raw);
      return ctx.stylize('[Number: ' + formatted + ']', 'number');
    }
    if (isBoolean(raw)) {
      formatted = formatPrimitiveNoColor(ctx, raw);
      return ctx.stylize('[Boolean: ' + formatted + ']', 'boolean');
    }
  }

  var base = '', array = false, braces = ['{', '}'];

  // Make Array say that they are Array
  if (isArray(value)) {
    array = true;
    braces = ['[', ']'];
  }

  // Make functions say that they are functions
  if (isFunction(value)) {
    var n = value.name ? ': ' + value.name : '';
    base = ' [Function' + n + ']';
  }

  // Make RegExps say that they are RegExps
  if (isRegExp(value)) {
    base = ' ' + RegExp.prototype.toString.call(value);
  }

  // Make dates with properties first say the date
  if (isDate(value)) {
    base = ' ' + Date.prototype.toUTCString.call(value);
  }

  // Make error with message first say the error
  if (isError(value)) {
    base = ' ' + formatError(value);
  }

  // Make boxed primitive Strings look like such
  if (isString(raw)) {
    formatted = formatPrimitiveNoColor(ctx, raw);
    base = ' ' + '[String: ' + formatted + ']';
  }

  // Make boxed primitive Numbers look like such
  if (isNumber(raw)) {
    formatted = formatPrimitiveNoColor(ctx, raw);
    base = ' ' + '[Number: ' + formatted + ']';
  }

  // Make boxed primitive Booleans look like such
  if (isBoolean(raw)) {
    formatted = formatPrimitiveNoColor(ctx, raw);
    base = ' ' + '[Boolean: ' + formatted + ']';
  }

  if (keys.length === 0 && (!array || value.length == 0)) {
    return braces[0] + base + braces[1];
  }

  if (recurseTimes < 0) {
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    } else {
      return ctx.stylize('[Object]', 'special');
    }
  }

  ctx.seen.push(value);

  var output;
  if (array) {
    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);
  } else {
    output = keys.map(function(key) {
      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
    });
  }

  ctx.seen.pop();

  return reduceToSingleString(output, base, braces);
}


function formatPrimitive(ctx, value) {
  if (isUndefined(value))
    return ctx.stylize('undefined', 'undefined');
  if (isString(value)) {
    var simple = '\'' + JSON.stringify(value).replace(/^"|"$/g, '')
                                             .replace(/'/g, "\\'")
                                             .replace(/\\"/g, '"') + '\'';
    return ctx.stylize(simple, 'string');
  }
  if (isNumber(value)) {
    // Format -0 as '-0'. Strict equality won't distinguish 0 from -0,
    // so instead we use the fact that 1 / -0 < 0 whereas 1 / 0 > 0 .
    if (value === 0 && 1 / value < 0)
      return ctx.stylize('-0', 'number');
    return ctx.stylize('' + value, 'number');
  }
  if (isBoolean(value))
    return ctx.stylize('' + value, 'boolean');
  // For some reason typeof null is "object", so special case here.
  if (isNull(value))
    return ctx.stylize('null', 'null');
}


function formatPrimitiveNoColor(ctx, value) {
  var stylize = ctx.stylize;
  ctx.stylize = stylizeNoColor;
  var str = formatPrimitive(ctx, value);
  ctx.stylize = stylize;
  return str;
}


function formatError(value) {
  return '[' + Error.prototype.toString.call(value) + ']';
}


function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {
  var output = [];
  for (var i = 0, l = value.length; i < l; ++i) {
    if (hasOwnProperty(value, String(i))) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          String(i), true));
    } else {
      output.push('');
    }
  }
  keys.forEach(function(key) {
    if (!key.match(/^\d+$/)) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          key, true));
    }
  });
  return output;
}


function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
  var name, str, desc;
  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };
  if (desc.get) {
    if (desc.set) {
      str = ctx.stylize('[Getter/Setter]', 'special');
    } else {
      str = ctx.stylize('[Getter]', 'special');
    }
  } else {
    if (desc.set) {
      str = ctx.stylize('[Setter]', 'special');
    }
  }
  if (!hasOwnProperty(visibleKeys, key)) {
    name = '[' + key + ']';
  }
  if (!str) {
    if (ctx.seen.indexOf(desc.value) < 0) {
      if (isNull(recurseTimes)) {
        str = formatValue(ctx, desc.value, null);
      } else {
        str = formatValue(ctx, desc.value, recurseTimes - 1);
      }
      if (str.indexOf('\n') > -1) {
        if (array) {
          str = str.split('\n').map(function(line) {
            return '  ' + line;
          }).join('\n').substr(2);
        } else {
          str = '\n' + str.split('\n').map(function(line) {
            return '   ' + line;
          }).join('\n');
        }
      }
    } else {
      str = ctx.stylize('[Circular]', 'special');
    }
  }
  if (isUndefined(name)) {
    if (array && key.match(/^\d+$/)) {
      return str;
    }
    name = JSON.stringify('' + key);
    if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
      name = name.substr(1, name.length - 2);
      name = ctx.stylize(name, 'name');
    } else {
      name = name.replace(/'/g, "\\'")
                 .replace(/\\"/g, '"')
                 .replace(/(^"|"$)/g, "'")
                 .replace(/\\\\/g, '\\');
      name = ctx.stylize(name, 'string');
    }
  }

  return name + ': ' + str;
}


function reduceToSingleString(output, base, braces) {
  var length = output.reduce(function(prev, cur) {
    return prev + cur.replace(/\u001b\[\d\d?m/g, '').length + 1;
  }, 0);

  if (length > 60) {
    return braces[0] +
           (base === '' ? '' : base + '\n ') +
           ' ' +
           output.join(',\n  ') +
           ' ' +
           braces[1];
  }

  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];
}


// NOTE: These type checking functions intentionally don't use `instanceof`
// because it is fragile and can be easily faked with `Object.create()`.
function isArray(ar) {
  return Array.isArray(ar);
}
util.isArray = isArray;

function isBoolean(arg) {
  return typeof arg === 'boolean';
}
util.isBoolean = isBoolean;

function isNull(arg) {
  return arg === null;
}
util.isNull = isNull;

function isNullOrUndefined(arg) {
  return arg == null;
}
util.isNullOrUndefined = isNullOrUndefined;

function isNumber(arg) {
  return typeof arg === 'number';
}
util.isNumber = isNumber;

function isString(arg) {
  return typeof arg === 'string';
}
util.isString = isString;

function isSymbol(arg) {
  return typeof arg === 'symbol';
}
util.isSymbol = isSymbol;

function isUndefined(arg) {
  return arg === void 0;
}
util.isUndefined = isUndefined;

function isRegExp(re) {
  return isObject(re) && objectToString(re) === '[object RegExp]';
}
util.isRegExp = isRegExp;

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}
util.isObject = isObject;

function isDate(d) {
  return isObject(d) && objectToString(d) === '[object Date]';
}
util.isDate = isDate;

function isError(e) {
  return isObject(e) &&
      (objectToString(e) === '[object Error]' || e instanceof Error);
}
util.isError = isError;

function isFunction(arg) {
  return typeof arg === 'function';
}
util.isFunction = isFunction;

function isBuffer(arg) {
  return arg instanceof Buffer;
}
util.isBuffer = isBuffer;

function objectToString(o) {
  return Object.prototype.toString.call(o);
}


function pad(n) {
  return n < 10 ? '0' + n.toString(10) : n.toString(10);
}


var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',
              'Oct', 'Nov', 'Dec'];

// 26 Feb 16:19:34
function timestamp() {
  var d = new Date();
  var time = [pad(d.getHours()),
              pad(d.getMinutes()),
              pad(d.getSeconds())].join(':');
  return [d.getDate(), months[d.getMonth()], time].join(' ');
}

util.getLogger = function(baseLogFn) {
    return function() {
      var args = Array.prototype.slice.call(arguments);
      args.unshift(timestamp());
      baseLogFn(util.format.apply(util, args));
    }
}

util._extend = function(origin, add) {
  // Don't do anything if add isn't an object
  if (!add || !isObject(add)) return origin;

  var keys = Object.keys(add);
  var i = keys.length;
  while (i--) {
    origin[keys[i]] = add[keys[i]];
  }
  return origin;
};

function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}


var uv;
util._errnoException = function(err, syscall, original) {
  if (isUndefined(uv)) uv = process.binding('uv');
  var errname = uv.errname(err);
  var message = syscall + ' ' + errname;
  if (original)
    message += ' ' + original;
  var e = new Error(message);
  e.code = errname;
  e.errno = errname;
  e.syscall = syscall;
  return e;
};

JSIO_ENV_CTOR = function() {
  this.name = /android/i.test(GLOBAL.userAgent) ? 'android' : 'ios';

  this.global = GLOBAL;
  this.log = util.getLogger(NATIVE.console.log);
  this.getCwd = getCwd;

  function getCwd() { return NATIVE.location; }

  this.debugPath = function (path) { return path; };
  this.getPath = function() { return '/'; };
  this.eval = function(code, path) { return NATIVE.eval(code, this.debugPath(path)); };
  this.fetch = function(filePath) { return false; };
};

NATIVE.console.log(NATIVE.location);
;
jsio=function init(m){function s(t){return t+=".js",e.__modules[t]||new v(t)}function v(t){this.friendlyPath=this.path=t,j.splitPath(t,this),this.directory=j.resolve(h.getCwd(),this.directory)}function M(){var e=module.constructor,i=module.parent,s=j.bind(i,i&&i.require||require),n=s("fs"),r=s("path"),o=s("vm");this.requireCache=require.cache,this.main=require.main,this.name="node",this.global=global,this.isWindowsNode="win32"===process.platform;var a=process.cwd();this.setCwd=function(t){a=r.resolve(a,t)},this.getCwd=function(){return a},this.pathSep=r.sep,this.log=function(){var t;try{t=Array.prototype.map.call(arguments,function(t){return t instanceof Error&&t.message?"Error:"+t.message+"\nStack:"+t.stack+"\nArguments:"+t.arguments:"string"==typeof t?t:JSON.stringify(t)}).join(" ")+"\n"}catch(e){t=Array.prototype.join.call(arguments," ")+"\n"}return process.stderr.write(t),t},this.getPath=function(){return __dirname},this.eval=function(t,e){return o.runInThisContext(t,e,!0)},this.fetch=function(t){var e,i,s,t=j.resolve(this.getCwd(),t);try{var o=r.dirname(t);e=r.basename(t),i=e.toLowerCase(),s=n.readdirSync(o)}catch(t){return!1}for(var a,o=0;a=s[o];++o)if(a.toLowerCase()==i&&a!=e)throw"Invalid case when importing ["+t+"].  You probably meant"+a;try{return n.readFileSync(t,"utf8")}catch(t){return!1}};var u=/\((?!module.js)(?:file:\/\/)?(.*?)(:\d+)(:\d+)\)/g;this.loadModule=function(i,n,o,a,c){if(o==E&&!c.initialImport){var h,l=Error().stack;u.lastIndex=0;do h=u.exec(l);while(h&&/jsio\.js$/.test(h[1]));h&&(n=r.dirname(h[1]),o=r.basename(h[1]))}try{return i(null,n,o,a,c)}catch(u){if(u.code!=t)throw u;n=r.join(n,o),i=this.requireCache[n],i||(i=new e(n),i.filename=n,i.paths=e._nodeModulePaths(r.dirname(n))),n=a.original||a.from;try{return{exports:i?i.require(n):s(n),path:a.from}}catch(e){if(e.code==t)throw u;throw e}}}}function B(){var a=window.XMLHttpRequest||function(){return new ActiveXObject("Msxml2.XMLHTTP")},b=null,c=null,d=Array.prototype.join;this.name="browser",this.global=window,this.pathSep="/",this.global.jsio||(this.global.jsio=e),this.log=window.console&&console.log?!console.log.apply||/Android|iPhone|iPad|iPod/.test(navigator.userAgent)?function(){var t=d.call(arguments," ");return console.log(t),t}:function(){return console.log.apply(console,arguments),d.call(arguments," ")}:function(){return d.call(arguments," ")},this.getCwd=function(){if(!b){var t=window.location,e=t.pathname;b=t.protocol+"//"+t.host+e.substring(0,e.lastIndexOf("/")+1)}return b},this.getPath=function(){if(!c){try{for(var t,i=RegExp("(.*?)"+e.__filename+"(\\?.*)?$"),s=document.getElementsByTagName("script"),n=0;t=s[n];++n){var r=t.src.match(i);if(r){c=r[1],/^[A-Za-z]*:\/\//.test(c)&&(c=j.relative(this.getCwd(),c));break}}}catch(t){}c||(c=".")}return c};var f=location.protocol+"//"+location.host+"/",g=location.pathname;this.debugPath=function(t){return j.buildPath(f,"/"!=t[0]&&g,t)};var i="undefined"==typeof eval("(function(){})")?function(t){return new Function("return "+t)()}:function(t,e){return window.eval(t+"\n//# sourceURL="+e)};this.eval=function(t,e,s){try{return i(t,this.debugPath(e))}catch(t){throw t instanceof SyntaxError&&N&&this.checkSyntax&&this.checkSyntax(s,e),t}},this.checkSyntax=function(t,i){try{e("import jsio.util.syntax",{suppressErrors:!0,dontExport:!0})(t,i)}catch(t){}},this.fetch=function(t){var e=new a;try{e.open("GET",t,!1),e.send(null)}catch(t){return h.log("e:",t),!1}return 404!=e.status&&e.status!=-1100&&e.responseText}}function F(){return y.map(function(t,e){var i=0==e?Error().stack:y[e-1].stack,s=i.indexOf(t.path);return 0<=s&&(t.line=":"+parseInt(i.substring(s+t.path.length+1))),e+1+': "'+t.friendlyPath+'" '+t.path+(t.line||"")})}function G(i,s,n,r,o){for(var i=r.from,n=j.resolveModulePath(i,s),a=0;n[a];++a){var u=n[a].path;if(!o.reload&&u in e.__modules)return n[a];u in H&&n.splice(a--,1)}if(!n.length){if(o.suppressErrors)return!1;throw s=Error("Could not import `"+r.from+"`\tImport Stack:\n\t\t"+F().join("\n\t\t")),s.jsioLogged=!0,s.code=t,s}t:{for(var c,a=0;r=n[a];++a){if(u=r.path,c=q[u]){a=u.match(/^(.*\/)[^\\\/]+$/),r.directory=a&&a[1]||"",r.src=c.src,r.pre=!0;break t}if(c=h.fetch(u),!1!==c){r.src=c;break t}H[u]=!0}r=!1}if(!r){if(o.suppressErrors)return!1;for(o=[],a=0;s=n[a];++a)o.push(s.path);throw s=Error("Could not import `"+i+"`\n\tlooked in:\n\t\t"+o.join("\n\t\t")+"\n\tImport Stack:\n\t\t"+F().join("\n\t\t")),s.code=t,s}return r.friendlyPath=i,r.baseMod&&!(r.baseMod in l.cache)&&(l.cache[r.baseMod]=r.basePath),"base"==i||!o.reload&&(o.dontPreprocess||r.pre)||(r.pre=!0,C(s,r,["import","inlineSlice"],o)),o.preprocessors&&C(s,r,o.preprocessors,o),r}function C(t,i,s,n){for(var r=0,o=s.length;r<o;++r){var a;a=s[r];var u=e.__modules["jsio.preprocessors."+a];(a="function"==typeof a?a:u&&u.exports||O("import jsio.preprocessors."+a))&&"function"==typeof a&&a(t,i,n)}}function I(t,e){var i=e.src;delete e.src;var s="(function(_){with(_){delete _;return function $$"+e.friendlyPath.replace(/[\:\\\/.-]/g,"_")+"(){"+i+"\n}}})",n=e.exports=t.exports,i=h.eval(s,e.path,i),i=i(t);i.call(n),e.exports=n!=t.module.exports?t.module.exports:t.exports}function P(t,i,s,n){return t||(t={}),t.exports||(t.exports={}),t.jsio=j.bind(this,z,t,s.directory,s.filename),t.require=function(e,i){return i||(i={}),i.dontExport=!0,t.jsio(e,i)},t.require.main=h.main,t.module={id:i,exports:t.exports},!n&&"jsio.base"!=i&&(t.jsio("from jsio.base import *",{dontPreprocess:!0}),t.logging.__create(i,t)),t.jsio.__jsio=e,t.jsio.__env=e.__env,t.jsio.__dir=s.directory,t.jsio.__filename=s.filename,t.jsio.path=l,t.__dirname=s.directory,t.__filename=j.buildPath(t.__dirname,s.filename),t}function z(t,i,s,n,r){for(var o,r=r||{},i=i||"./",s=s||E,t=r.exportInto||t||h.global,a=r,u=e.__cmds,c=[],l=!1,d=0;(o=u[d])&&!(l=o(t,n,a,c));++d);if(!0!==l)throw new("undefined"!=typeof SyntaxError?SyntaxError:Error)(""+(l||"invalid jsio command: jsio('"+n+"')"));for(a=c.length,u=1<a?{}:null,l=0;l<a;++l){o=c[l];var p,_,f,d=o.from,m=e.__modules;try{_=e.__env.loadModule(G,i,s,o,r)}catch(t){f=t}if(_)p=_.path;else if(!1===_)return!1;if(f){if(r.suppressErrors)return!1;throw f.jsioLogged||(h.log("\nError loading module:\n","    [[",n,"]]\n","    requested by:",i+s,"\n","    current directory:",e.__env.getCwd(),"\n","  "+f.stack.split("\n").join("\n  ")),f.jsioLogged=!0),f}if(_&&y.push({friendlyPath:_.friendlyPath,path:_.path,stack:Error().stack}),p in m||(m[p]=_),!_.exports){if(d=P(r.context,d,_,o.dontAddBase),o.dontUseExports){var g,v=[";(function(){"],w=1;for(g in o.import)d.exports[g]=void 0,v[w++]="if(typeof "+g+'!="undefined"&&exports.'+g+"==undefined)exports."+g+"="+g+";";v[w]="})();",_.src+=v.join("")}I(d,_)}if(y.pop(),d=_.exports,1==a&&(u=d),!r.dontExport)if(o.as){o=o.as.match(/^\.*(.*?)\.*$/)[1];for(var m=o.split("."),v=m.length-1,b=t,w=0;w<v;++w){var x=m[w];x&&(b[x]||(b[x]={}),b=b[x])}b[m[v]]=d,1<a&&(u[o]=d)}else if(o.import)if(o.import["*"])for(w in m[p].exports)t[w]=d[w];else for(w in o.import)t[o.import[w]]=d[w]}return u}var E="<initial file>",t="MODULE_NOT_FOUND",N=!0,J=Array.prototype.slice,h,K=/(\/|\\)$/;v.prototype.setBase=function(t,e){this.baseMod=t,this.basePath=e+"/"+t};var Q=/^([a-z][a-z0-9+\-\.]*:\/\/.*?\/)(.*)$/,L=/^[a-z][a-z0-9+\-\.]*:/,j={bind:function(t,e){var i=J.call(arguments,2);return function(){return e="string"==typeof e?t[e]:e,e.apply(t,i.concat(J.call(arguments,0)))}},addEndSlash:function(t){return K.test(t)?t:t+"/"},removeEndSlash:function(t){return t.replace(K,"")},relative:function(t,e){var i=t.length;if(e.substring(0,i)==t)return e.slice(i+/[\/\\]/.test(e.charAt(i)));for(var i=j.removeEndSlash(e).split(h.pathSep),s=j.removeEndSlash(t).split(h.pathSep),n=0;i[n]==s[n];)++n;if(n)for(e=i.slice(n).join(h.pathSep),i=s.length-n;0<i;--i)e="../"+e;return e},buildPath:function(){for(var t=[],e=0,i=arguments.length;e<i;++e){var s=arguments[e];L.test(s)&&(t.length=0),"."!=s&&"./"!=s&&s&&t.push(s)}return j.resolveRelativePath(t.join("/"))},resolveRelativePath:function(t){var e=t.match(Q);for(e&&(t=e[2]),t=t.replace(/\/+/g,"/").replace(/\/\.\//g,"/");t!=(t=t.replace(/(^|\/)(?!\.?\.\/)([^\/]+)\/\.\.\//g,"$1")););return e?e[1]+t.replace(/^\//,""):t},isAbsolutePath:function(t){return/^\//.test(t)||L.test(t)||h.isWindowsNode&&/^[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+/.test(t)},resolve:function(t,e){return this.isAbsolutePath(e)?j.resolveRelativePath(e):j.buildPath(t,e)},resolveRelativeModule:function(t,e){for(var i=[],s=t.split("."),n=s.length,r=1<n&&!s[0],o=r?0:-1;++o<n;)i.push(s[o]?s[o]:"..");return j.buildPath(r?e:"",i.join("/"))},resolveModulePath:function(t,e){if("."==t.charAt(0))return[s(j.resolveRelativeModule(t,e)),s(j.resolveRelativeModule(t+".index",e))];for(var i=t.split("."),n=i.length;0<n;--n){var r=i.slice(0,n).join("."),o=l.cache[r],r=i.slice(n).join("/");if(o)return[s(j.buildPath(o,r)),s(j.buildPath(o,r+"/index"))]}for(var o=i[0],r=i.join("/"),i=[],a=l.get(),u=a.length,n=0;n<u;++n){var c=a[n],h=j.buildPath(c,r),d=s(h);d.setBase(o,c),i.push(d),d=s(h+"/index"),d.setBase(o,c),i.push(d)}return i},splitPath:function(t,e){e||(e={});var i=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"))+1;return e.directory=t.substring(0,i),e.filename=t.substring(i),e}},e=j.bind(this,z,null,null,null);e.__util=j,e.__init__=init;var q;e.setCache=function(t){q=e.__srcCache=t},e.setCache(m&&m.__srcCache||{}),e.setCachedSrc=function(t,e,i){q[t]&&q[t].locked?console.warn("Cache is ignoring (already present and locked) src "+t):q[t]={path:t,src:e,locked:i}},e.getCachedSrc=function(t){return q[t]},e.__filename="jsio.js",e.__cmds=[],e.__jsio=e,e.__require=z,e.__modules={preprocessors:{}};var l={set:function(t){this.value=[],("string"==typeof t?[t]:t).map(this.add,this)},get:function(){return l.value.slice(0)},add:function(t){if(2==arguments.length){var e=arguments[0],i=j.resolve(h.getCwd(),arguments[1]);this.cache[e]=i}else{for(var t=j.resolve(h.getCwd(),t),e=l.value,i=e.length,s=0;s<i;++s)if(e[s]==t)return;e.push(t)}},remove:function(t){for(var e=l.value,i=e.length,s=0;s<i;++s)e[s]==t&&e.splice(s,1)},value:[],cache:{}};e.path=l,e.addPath=j.bind(l,"add"),e.addCmd=j.bind(e.__cmds,"push"),e.setEnv=function(t){!t&&m?h=new m.__env.constructor(j):("string"==typeof t&&(t={node:M,browser:B}[t]||B),h=new t(j)),this.__env=h,this.__dir=h.getCwd(),h.loadModule||(h.loadModule=G),e.path.cache.jsio=m?m.path.cache.jsio:h.getPath(),t==B&&e.path.set(h.getPath())},m?e.setEnv():"undefined"!=typeof JSIO_ENV_CTOR?e.setEnv(JSIO_ENV_CTOR):"undefined"!=typeof process&&process.version?e.setEnv("node"):("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof ActiveXObject)&&e.setEnv("browser"),e.main=h&&h.main;var D,O=function(t){return D||(D=j.bind(this,z,{},h.getPath(),"jsio.js")),D(t,{dontExport:!0,dontPreprocess:!0})},H={},y=[];e.addCmd(function(t,e,i,s){if(t=e.match(/^\s*(from|external)\s+([\w.\-$]+)\s+(import|grab)\s+(.*)$/))return s.push({from:t[2],dontAddBase:"external"==t[1],dontUseExports:"grab"==t[3]||"external"==t[1],import:{}}),t[4].replace(/\s*([\w.\-$*]+)(?:\s+as\s+([\w.\-$]+))?/g,function(t,e,i){s[0].import[e]=i||e}),!0}),e.addCmd(function(t,e,i,s){if(t=e.match(/^\s*import\s+(.*)$/))return t[1].replace(/\s*([\w.\-$]+)(?:\s+as\s+([\w.\-$]+))?,?/g,function(t,e,i){s.push(i?{from:e,as:i}:{from:e,as:e})}),!0}),e.addCmd(function(t,e,i,s){if(t=e.match(/^\s*[\w.0-9$\/\-:\\]+\s*$/))return t=j.resolveRelativePath(t[0]),i="."==t.charAt(0),t=t.replace(/\.\.\//g,".").replace(/\.\//g,"").replace(/\/+$/g,""),"\\"===h.pathSep&&t.match(/^[a-zA-Z]:.*/)||(t=t.replace(/\//g,".")),s[0]={from:(i?".":"")+t,original:e},!0}),e.install=function(){e("from .base import *"),GLOBAL.logger=logging.get("jsiocore")},e.eval=function(t,e){var e=h.getCwd()||"/",i=new v(e);i.src=t,C(e,i,["import","cls"],{}),I(h.global,i)},e.clone=j.bind(null,init,e);var A=j.resolveModulePath("jsio")[0];return A&&(e.__modules[A.path]=new v(A.path),e.__modules[A.path].exports=e),e}(),jsio.path.set(["modules/devkit-core/node_modules/jsio/packages","","lib","modules/devkit-core/src/clientapi/api","modules/devkit-core/modules/timestep/src"]),jsio.path.cache={jsio:"modules/devkit-core/node_modules/jsio/packages",devkit:"modules/devkit-core/src/clientapi",squill:"modules/devkit-core/modules/squill",Promise:"modules/devkit-core/src/clientapi/api/Promise",platforms:"modules/devkit-core/modules/timestep/src/platforms",std:"modules/devkit-core/node_modules/jsio/packages/std",util:"modules/devkit-core/node_modules/jsio/packages/util",lib:"modules/devkit-core/node_modules/jsio/packages/lib",device:"modules/devkit-core/modules/timestep/src/device",userAgent:"modules/devkit-core/modules/timestep/src/userAgent",event:"modules/devkit-core/modules/timestep/src/event",ui:"modules/devkit-core/modules/timestep/src/ui",animate:"modules/devkit-core/modules/timestep/src/animate",timer:"modules/devkit-core/modules/timestep/src/timer",ObjectPool:"modules/devkit-core/modules/timestep/src/ObjectPool",math:"modules/devkit-core/node_modules/jsio/packages/math",AudioManager:"modules/devkit-core/modules/timestep/src/AudioManager",cache:"modules/devkit-core/modules/timestep/src/cache",src:"src"},jsio.setCache({"modules/devkit-core/node_modules/jsio/packages/base.js":{path:"modules/devkit-core/node_modules/jsio/packages/base.js",friendlyPath:"jsio.base",directory:"modules/devkit-core/node_modules/jsio/packages/",filename:"base.js",src:'exports.log=jsio.__env.log,exports.GLOBAL=jsio.__env.global,Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var r=Array.prototype.slice.call(arguments,1),o=this,n=function(){},e=function(){return o.apply(this instanceof n?this:t,r.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,e.prototype=new n,e});var SLICE=Array.prototype.slice;exports.isArray="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},exports.bind=function(t,r){if(arguments.length>2){var o=SLICE.call(arguments,2);return"string"==typeof r?function(){if(t[r])return t[r].apply(t,o.concat(SLICE.call(arguments,0)));throw logger.error("No method:",r,"for context",t)}:function(){return r.apply(t,o.concat(SLICE.call(arguments,0)))}}return"string"==typeof r?function(){if(t[r])return t[r].apply(t,arguments);throw logger.error("No method:",r,"for context",t)}:function(){return r.apply(t,arguments)}},exports.Class=function(t,r,o){return exports.__class__(function(){return this.init&&this.init.apply(this,arguments)},t,r,o)},exports.__class__=function(t,r,o,n){var e,i=function(){};if("string"!=typeof r&&(n=o,o=r,r=null),r&&(e=exports.logging.get(r)),!o)throw Error("parent or prototype not provided");if(n||(n=o,o=null),o)if(exports.isArray(o)){i.prototype={};for(var s,p=0;s=o[p];++p){s==Error&&ErrorParentClass&&(s=ErrorParentClass);for(var a in s.prototype)a in i.prototype||(i.prototype[a]=s.prototype[a])}o=o[0]}else o==Error&&ErrorParentClass&&(o=ErrorParentClass),i.prototype=o.prototype;return p=o?function(t,r,n){var e=o.prototype[r];if(!e)throw Error("method "+r+" does not exist");return e.apply(t,n||[])}:null,s=t.prototype=new i,s.constructor=t,s.__parentClass__=o,r&&(s.__class__=r),n.call(s,e||p,e&&p),t};var ErrorParentClass=exports.__class__(function(){var t,r=Error.prototype.constructor.apply(this,arguments);for(t in r)r.hasOwnProperty(t)&&(this[t]=r[t])},function(){});exports.Class.defaults=exports.merge=function(t,r){for(var t=t||{},o=1,n=arguments.length;o<n;++o){var e,i=arguments[o];for(e in i)i.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=i[e])}return t},exports.delay=function(t,r){var o,n,e=null,i=function(){t.apply(o,n)};return function(){o=this,n=arguments,e&&clearTimeout(e),e=setTimeout(i,r||0)}},exports.logging=function(){var t={DEBUG:1,LOG:2,INFO:3,WARN:4,ERROR:5,NONE:10},r={},o=!1,n="";t.setPrefix=function(t){n=t+" "},t.setProduction=function(t){o=!!t;for(var n in r)r[n].setProduction(o)},t.get=function(t){return t=t in r?r[t]:r[t]=new e(t),t.setProduction(o),t},t.set=function(t,o){r[t]=o},t.getAll=function(){return r},t.__create=function(r,o){o.logger=t.get(r)};var e=exports.__class__(function(r,n){this._name=r,this._isProduction=o,this.setLevel(n||t.LOG)},function(){function r(r){var o=t[r];return function(){if(!this._isProduction&&o>=this._level){var t=r+" "+n+this._name,e=this._listener||exports.log;return e&&e.apply(this._listener,[t].concat(SLICE.call(arguments)))}return arguments[0]}}this.setProduction=function(r){(this._isProduction=r)&&this.setLevel(t.NONE)},this.setLevel=function(r){this._level=r,this._isProduction&&(r=t.NONE),this.DEBUG=r<=t.DEBUG,this.LOG=r<=t.LOG,this.INFO=r<=t.INFO,this.WARN=r<=t.WARN,this.ERROR=r<=t.ERROR},this.setListener=function(t){this._listener=t},this.debug=r("DEBUG"),this.log=r("LOG"),this.info=r("INFO"),this.warn=r("WARN"),this.error=r("ERROR")});return t}();var logger=exports.logging.get("jsiocore");',pre:!0},"modules/devkit-core/src/clientapi/native/launchClient.js":{path:"modules/devkit-core/src/clientapi/native/launchClient.js",friendlyPath:"devkit.native.launchClient",directory:"modules/devkit-core/src/clientapi/native/",filename:"launchClient.js",src:'function analytics(){var e=GLOBAL.CONFIG,e="appID:"+encodeURIComponent(e.appID||"")+"&bundleID:"+encodeURIComponent(e.bundleID||"")+"&appleID:"+encodeURIComponent(e.appleID||"")+"&version:"+encodeURIComponent(e.version||"")+"&sdkVersion:"+encodeURIComponent(e.sdkVersion||"")+"&isAndroid:"+(device.isAndroid?1:0)+"&isIOS:"+(device.isIOS?1:0),n=new XMLHttpRequest;n.open("GET","http://www.gameclosure.com/analytics?"+e,!0),n.send()}function startApp(){jsio("import devkit"),GLOBAL.GC=new devkit.ClientAPI,analytics(),GLOBAL.GC.buildApp("launchUI")}var env=jsio.__env;env.debugPath=function(e){return"http://"+("android"==env.name?CONFIG.packageName:CONFIG.bundleID)+"/"+e.replace(/^[.\\/\\\\]+/,"")},GLOBAL.console=logging.get("console"),window.self=window,jsio("import Promise"),GLOBAL.Promise=Promise,jsio("import platforms.native.initialize"),jsio("import device"),device.init(),jsio("import .common"),common.install(),startApp();',pre:!0},"modules/devkit-core/src/clientapi/api/Promise.js":{path:"modules/devkit-core/src/clientapi/api/Promise.js",friendlyPath:"Promise",directory:"modules/devkit-core/src/clientapi/api/",filename:"Promise.js",baseMod:"Promise",basePath:"/Users/tsunami/projects/devkitPoj/helloworld/modules/devkit-core/src/clientapi/api/Promise",src:'!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Promise=t()}}(function(){return function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){var c="function"==typeof _dereq_&&_dereq_;if(!a&&c)return c(s,!0);if(o)return o(s,!0);throw c=Error("Cannot find module \'"+s+"\'"),c.code="MODULE_NOT_FOUND",c}c=r[s]={exports:{}},e[s][0].call(c.exports,function(t){var r=e[s][1][t];return i(r?r:t)},c,c.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof _dereq_&&_dereq_,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e){function r(){this._isTickUsed=!1,this._lateQueue=new o(16),this._normalQueue=new o(16);var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=i.isStatic?i(this.drainQueues):i}var n;try{throw Error()}catch(t){n=t}var i=t("./schedule.js"),o=t("./queue.js"),s="undefined"!=typeof process?process:void 0;r.prototype.haveItemsQueued=function(){return 0<this._normalQueue.length()},r.prototype._withDomain=function(t){return void 0!==s&&null!=s.domain&&!t.domain&&(t=s.domain.bind(t)),t},r.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),t=this._withDomain(t),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(t){throw Error("No async scheduler available\\n\\n    See http://goo.gl/m3OTXk\\n")}},r.prototype.invokeLater=function(t,e,r){t=this._withDomain(t),this._lateQueue.push(t,e,r),this._queueTick()},r.prototype.invokeFirst=function(t,e,r){t=this._withDomain(t),this._normalQueue.unshift(t,e,r),this._queueTick()},r.prototype.invoke=function(t,e,r){t=this._withDomain(t),this._normalQueue.push(t,e,r),this._queueTick()},r.prototype.settlePromises=function(t){this._normalQueue._pushOne(t),this._queueTick()},r.prototype._drainQueue=function(t){for(;0<t.length();){var e=t.shift();if("function"!=typeof e)e._settlePromises();else{var r=t.shift(),n=t.shift();e.call(r,n)}}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},e.exports=new r,e.exports.firstLineError=n},{"./queue.js":24,"./schedule.js":26}],2:[function(t,e){e.exports=function(t,e,r){function n(){return this.value}function i(){throw this.reason}function o(t){return this._then(n,null,null,{value:t},void 0)}function s(t){return this._then(i,i,null,{reason:t},void 0)}function a(t){this._setBoundTo(t)}t.prototype.bind=function(e){var n=r(e);if(n instanceof t){if(!n.isFulfilled()){if(n.isRejected())return t.reject(n.reason());var i=this.then(),e=i,i=i._then(o,s,null,n,void 0);return n._then(a,i._reject,null,i,null),i._cancellable()||i._setPendingCancellationParent(e),i}e=n.value()}return i=this.then(),i._setBoundTo(e),i},t.bind=function(e,r){return t.resolve(r).bind(e)},t.prototype._setPendingCancellationParent=function(t){this._settledValue=t},t.prototype._pendingCancellationParent=function(){if(this.isPending()&&void 0!==this._settledValue){var t=this._settledValue;return t.cancellable(),this._settledValue=void 0,t}},t.prototype._setIsMigratingBinding=function(){this._bitField|=8388608},t.prototype._unsetIsMigratingBinding=function(){this._bitField&=-8388609},t.prototype._isMigratingBinding=function(){return 8388608===(8388608&this._bitField)},t.prototype._setBoundTo=function(t){this._boundTo=t},t.prototype._isBound=function(){return void 0!==this._boundTo}}},{}],3:[function(t,e){var r;"undefined"!=typeof Promise&&(r=Promise);var n=t("./promise.js")();n.noConflict=function(){try{Promise===n&&(Promise=r)}catch(t){}return n},e.exports=n},{"./promise.js":20}],4:[function(t,e){e.exports=function(e){var r=t("./errors.js"),n=t("./async.js"),i=r.CancellationError;e.prototype._cancel=function(t){if(!this.isCancellable())return this;for(var e,r=this;void 0!==(e=r._cancellationParent)&&e.isCancellable();)r=e;this._unsetCancellable(),r._target()._rejectCallback(t,!1,!0)},e.prototype.cancel=function(t){return this.isCancellable()?(void 0===t&&(t=new i),n.invokeLater(this._cancel,this,t),this):this},e.prototype.cancellable=function(){return this._cancellable()?this:(this._setCancellable(),this._cancellationParent=this._pendingCancellationParent(),this)},e.prototype.uncancellable=function(){var t=this.then();return t._unsetCancellable(),t},e.prototype.fork=function(t,e,r){return t=this._then(t,e,r,void 0,void 0),t._setCancellable(),t._cancellationParent=void 0,t}}},{"./async.js":1,"./errors.js":11}],5:[function(t,e){e.exports=function(){function e(t){this._parent=t,t=this._length=1+(void 0===t?0:t._length),_(this,e),32<t&&this.uncycle()}function r(t){for(var e=[],r=0;r<t.length;++r){var n=t[r],i=c.test(n)||"    (No stack trace)"===n,o=i&&h(n);i&&!o&&(l&&" "!==n.charAt(0)&&(n="    "+n),e.push(n))}return e}function n(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{if(e=t.toString(),/\\[object [a-zA-Z0-9$_]+\\]/.test(e))try{e=JSON.stringify(t)}catch(t){}0===e.length&&(e="(empty array)")}return t=41>e.length?e:e.substr(0,38)+"...","(<"+t+">, no stack trace)"}function i(t){if(t=t.match(p))return{fileName:t[1],line:parseInt(t[2],10)}}var o=t("./async.js"),s=t("./util.js"),a=/[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](main|debug|zalgo|instrumented)/,c=null,u=null,l=!1;s.inherits(e,Error),e.prototype.uncycle=function(){var t=this._length;if(!(2>t)){for(var e=[],r={},n=0,t=this;void 0!==t;++n)e.push(t),t=t._parent;for(t=this._length=n,n=t-1;0<=n;--n){var i=e[n].stack;void 0===r[i]&&(r[i]=n)}for(n=0;n<t;++n)if(i=r[e[n].stack],void 0!==i&&i!==n){for(0<i&&(e[i-1]._parent=void 0,e[i-1]._length=1),e[n]._parent=void 0,e[n]._length=1,r=0<n?e[n-1]:this,i<t-1?(r._parent=e[i+1],r._parent.uncycle(),r._length=r._parent._length+1):(r._parent=void 0,r._length=1),t=r._length+1,n-=2;0<=n;--n)e[n]._length=t,t++;break}}},e.prototype.parent=function(){return this._parent},e.prototype.hasParent=function(){return void 0!==this._parent},e.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var n=e.parseStackAndMessage(t),i=n.message,n=[n.stack],o=this;void 0!==o;)n.push(r(o.stack.split("\\n"))),o=o._parent;for(var o=n[0],s=1;s<n.length;++s){for(var a=n[s],c=o.length-1,u=o[c],l=-1,h=a.length-1;0<=h;--h)if(a[h]===u){l=h;break}for(h=l;0<=h&&o[c]===a[h];--h)o.pop(),c--;o=a}for(o=0;o<n.length;++o)(0===n[o].length||o+1<n.length&&n[o][0]===n[o+1][0])&&(n.splice(o,1),o--);for(o=0;o<n.length-1;++o)n[o].push("From previous event:"),n[o]=n[o].join("\\n");o<n.length&&(n[o]=n[o].join("\\n")),i=i+"\\n"+n.join("\\n"),t.stack=i,t.__stackCleaned__=!0}},e.parseStackAndMessage=function(t){var e=t.stack,n=t.toString();if("string"==typeof e&&0<e.length){for(t=t.stack.replace(/\\s+$/g,"").split("\\n"),e=0;e<t.length;++e){var i=t[e];if("    (No stack trace)"===i||c.test(i))break}0<e&&(t=t.slice(e))}else t=["    (No stack trace)"];return{message:n,stack:r(t)}},e.formatAndLogError=function(t,e){if("object"==typeof console){var r;r="object"==typeof t||"function"==typeof t?e+u(t.stack,t):e+(""+t),"function"==typeof console.warn||"object"==typeof console.warn?console.warn(r):("function"==typeof console.log||"object"==typeof console.log)&&console.log(r)}},e.unhandledRejection=function(t){e.formatAndLogError(t,"^--- With additional stack trace: ")},e.isSupported=function(){return"function"==typeof _},e.fireRejectionEvent=function(t,r,n,i){var s=!1;try{"function"==typeof r&&(s=!0,"rejectionHandled"===t?r(i):r(n,i))}catch(t){o.throwLater(t)}r=!1;try{r=d(t,n,i)}catch(t){r=!0,o.throwLater(t)}var a=!1;if(f)try{a=f(t.toLowerCase(),{reason:n,promise:i})}catch(t){a=!0,o.throwLater(t)}!r&&!s&&!a&&"unhandledRejection"===t&&e.formatAndLogError(n,"Possibly unhandled ")};var h=function(){return!1},p=/[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;e.setBounds=function(t,r){if(e.isSupported()){for(var n,o,s=t.stack.split("\\n"),c=r.stack.split("\\n"),u=-1,l=-1,p=0;p<s.length;++p){var f=i(s[p]);if(f){n=f.fileName,u=f.line;break}}for(p=0;p<c.length;++p)if(f=i(c[p])){o=f.fileName,l=f.line;break}0>u||0>l||!n||!o||n!==o||u>=l||(h=function(t){return!!a.test(t)||!!((t=i(t))&&t.fileName===n&&u<=t.line&&t.line<=l)})}};var f,_=function(){var t=/^\\s*at\\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():n(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,c=t,u=e;var i=Error.captureStackTrace;return h=function(t){return a.test(t)},function(t,e){Error.stackTraceLimit+=6,i(t,e),Error.stackTraceLimit-=6}}var o=Error();if("string"==typeof o.stack&&0<=o.stack.split("\\n")[0].indexOf("stackDetection@"))return c=/@/,u=e,l=!0,function(t){t.stack=Error().stack};try{throw Error()}catch(t){}return!("stack"in o)&&"stack"in r?(c=t,u=e,function(t){Error.stackTraceLimit+=6;try{throw Error()}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6}):(u=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?n(e):e.toString()},null)}([]),d=function(){if(s.isNode)return function(t,e,r){return"rejectionHandled"===t?process.emit(t,r):process.emit(t,e,r)};var t=!1,e=!0;try{t=new self.CustomEvent("test")instanceof CustomEvent}catch(t){}if(!t)try{var r=document.createEvent("CustomEvent");r.initCustomEvent("testingtheevent",!1,!0,{}),self.dispatchEvent(r)}catch(t){e=!1}e&&(f=function(e,r){var n;return t?n=new self.CustomEvent(e,{detail:r,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!1,!0,r)),!!n&&!self.dispatchEvent(n)});var n={unhandledRejection:"onunhandledrejection",rejectionHandled:"onrejectionhandled"};return function(t,e,r){var i=self[n[t]];return!!i&&("rejectionHandled"===t?i.call(self,r):i.call(self,e,r),!0)}}();return e}},{"./async.js":1,"./util.js":30}],6:[function(t,e){e.exports=function(e){function r(t,e,r){this._instances=t,this._callback=e,this._promise=r}var n=t("./util.js"),i=t("./errors.js"),o=n.tryCatch,s=n.errorObj,a=t("./es5.js").keys,c=i.TypeError;return r.prototype.doFilter=function(t){for(var r=this._callback,n=this._promise._boundTo,i=0,u=this._instances.length;i<u;++i){var l=this._instances[i],h=l===Error||null!=l&&l.prototype instanceof Error;if(h&&t instanceof l)return t=o(r).call(n,t),t===s?(e.e=t.e,e):t;if("function"==typeof l&&!h){var p=t,h={},l=o(l).call(h,p);if(l!==s&&a(h).length&&(s.e=new c("Catch filter must inherit from Error or be a simple predicate function\\n\\n    See http://goo.gl/o84o68\\n"),l=s),l===s){t=s.e;break}if(l)return t=o(r).call(n,t),t===s?(e.e=t.e,e):t}}return e.e=t,e},r}},{"./errors.js":11,"./es5.js":12,"./util.js":30}],7:[function(t,e){e.exports=function(t,e,r){function n(){this._trace=new e(i())}function i(){var t=o.length-1;if(0<=t)return o[t]}var o=[];return n.prototype._pushContext=function(){r()&&void 0!==this._trace&&o.push(this._trace)},n.prototype._popContext=function(){r()&&void 0!==this._trace&&o.pop()},t.prototype._peekContext=i,t.prototype._pushContext=n.prototype._pushContext,t.prototype._popContext=n.prototype._popContext,function(){if(r())return new n}}},{}],8:[function(t,e){e.exports=function(e,r){var n,i,o=t("./async.js"),s=t("./errors.js").Warning,a=t("./util.js"),c=a.canAttachTrace,u=a.isNode&&(!!process.env.BLUEBIRD_DEBUG||"development"===process.env.NODE_ENV);return e.prototype._ensurePossibleRejectionHandled=function(){this._setRejectionIsUnhandled(),o.invokeLater(this._notifyUnhandledRejection,this,void 0)},e.prototype._notifyUnhandledRejectionIsHandled=function(){r.fireRejectionEvent("rejectionHandled",n,void 0,this)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),r.fireRejectionEvent("unhandledRejection",i,t,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField|=524288},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField&=-524289},e.prototype._isUnhandledRejectionNotified=function(){return 0<(524288&this._bitField)},e.prototype._setRejectionIsUnhandled=function(){this._bitField|=2097152},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField&=-2097153,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return 0<(2097152&this._bitField)},e.prototype._setCarriedStackTrace=function(t){this._bitField|=1048576,this._fulfillmentHandler0=t},e.prototype._isCarryingStackTrace=function(){return 0<(1048576&this._bitField)},e.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},e.prototype._captureStackTrace=function(){return u&&(this._trace=new r(this._peekContext())),this},e.prototype._attachExtraTrace=function(t,e){if(u&&c(t)){var n=this._trace;void 0!==n&&e&&(n=n._parent),void 0!==n?n.attachExtraTrace(t):t.__stackCleaned__||(n=r.parseStackAndMessage(t),t.stack=n.stack.join("\\n"),t.__stackCleaned__=!0)}},e.prototype._warn=function(t){var t=new s(t),e=this._peekContext();e?e.attachExtraTrace(t):(e=r.parseStackAndMessage(t),t.stack=e.message+"\\n"+e.stack.join("\\n")),r.formatAndLogError(t,"")},e.onPossiblyUnhandledRejection=function(t){i="function"==typeof t?t:void 0},e.onUnhandledRejectionHandled=function(t){n="function"==typeof t?t:void 0},e.longStackTraces=function(){if(o.haveItemsQueued()&&!1===u)throw Error("cannot enable long stack traces after promises have been created\\n\\n    See http://goo.gl/DT1qyG\\n");u=r.isSupported()},e.hasLongStackTraces=function(){return u&&r.isSupported()},r.isSupported()||(e.longStackTraces=function(){},u=!1),function(){return u}}},{"./async.js":1,"./errors.js":11,"./util.js":30}],9:[function(t,e){var r=t("./util.js"),n=r.isPrimitive,i=r.wrapsPrimitiveReceiver;e.exports=function(t){var e=function(){return this},r=function(){throw this},o=function(t,e){return 1===e?function(){throw t}:2===e?function(){return t}:void 0};t.prototype.return=t.prototype.thenReturn=function(t){return i&&n(t)?this._then(o(t,2),void 0,void 0,void 0,void 0):this._then(e,void 0,void 0,t,void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return i&&n(t)?this._then(o(t,1),void 0,void 0,void 0,void 0):this._then(r,void 0,void 0,t,void 0)}}},{"./util.js":30}],10:[function(t,e){e.exports=function(t,e){var r=t.reduce;t.prototype.each=function(t){return r(this,t,null,e)},t.each=function(t,n){return r(t,n,null,e)}}},{}],11:[function(t,e){function r(t,e){function r(n){return this instanceof r?(u(this,"message","string"==typeof n?n:e),u(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new r(n)}return c(r,Error),r}function n(t){return this instanceof n?(u(this,"name","OperationalError"),u(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(u(this,"message",t.message),u(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new n(t)}var i,o,s=t("./es5.js").freeze,a=t("./util.js"),c=a.inherits,u=a.notEnumerableProp,a=r("Warning","warning"),l=r("CancellationError","cancellation error"),h=r("TimeoutError","timeout error"),p=r("AggregateError","aggregate error");try{i=TypeError,o=RangeError}catch(t){i=r("TypeError","type error"),o=r("RangeError","range error")}for(var f="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<f.length;++_)"function"==typeof Array.prototype[f[_]]&&(p.prototype[f[_]]=Array.prototype[f[_]]);p.prototype.length=0,p.prototype.isOperational=!0;var d=0;p.prototype.toString=function(){var t=Array(4*d+1).join(" "),e="\\n"+t+"AggregateError of:\\n";d++;for(var t=Array(4*d+1).join(" "),r=0;r<this.length;++r){for(var n=this[r]===this?"[Circular AggregateError]":this[r]+"",n=n.split("\\n"),i=0;i<n.length;++i)n[i]=t+n[i];n=n.join("\\n"),e+=n+"\\n"}return d--,e},c(n,Error),f=Error.__BluebirdErrorTypes__,f||(f=s({CancellationError:l,TimeoutError:h,OperationalError:n,RejectionError:n,AggregateError:p}),u(Error,"__BluebirdErrorTypes__",f)),e.exports={Error:Error,TypeError:i,RangeError:o,CancellationError:f.CancellationError,OperationalError:f.OperationalError,TimeoutError:f.TimeoutError,AggregateError:f.AggregateError,Warning:a}},{"./es5.js":12,"./util.js":30}],12:[function(t,e){var r=function(){return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,keys:Object.keys,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var r=Object.getOwnPropertyDescriptor(t,e);return!(r&&!r.writable&&!r.set)}};else{var n={}.hasOwnProperty,i={}.toString,o={}.constructor.prototype;e.exports={isArray:function(t){try{return"[object Array]"===i.call(t)}catch(t){return!1}},keys:function(t){var e,r=[];for(e in t)n.call(t,e)&&r.push(e);return r},defineProperty:function(t,e,r){return t[e]=r.value,t},freeze:function(t){return t},getPrototypeOf:function(t){try{return Object(t).constructor.prototype}catch(t){return o}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],13:[function(t,e){e.exports=function(t,e){var r=t.map;t.prototype.filter=function(t,n){return r(this,t,n,e)},t.filter=function(t,n,i){return r(t,n,i,e)}}},{}],14:[function(t,e){e.exports=function(e,r,n){function i(){return this}function o(){throw this}function s(t){return function(){return t}}function a(t){return function(){throw t}}function c(t,e,r){return r=p&&f(e)?r?s(e):a(e):r?i:o,t._then(r,_,void 0,e,void 0)}function u(t){var i=this.promise,o=this.handler,o=i._isBound()?o.call(i._boundTo):o();return void 0!==o&&(o=n(o,i),o instanceof e)?(o=o._target(),c(o,t,i.isFulfilled())):i.isRejected()?(r.e=t,r):t}function l(t){var r=this.promise,i=this.handler,i=r._isBound()?i.call(r._boundTo,t):i(t);return void 0!==i&&(r=n(i,r),r instanceof e)?(r=r._target(),c(r,t,!0)):t}var h=t("./util.js"),p=h.wrapsPrimitiveReceiver,f=h.isPrimitive,_=h.thrower;e.prototype._passThroughHandler=function(t,e){return"function"!=typeof t?this.then():this._then(e?u:l,e?u:void 0,void 0,{promise:this,handler:t},void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThroughHandler(t,!0)},e.prototype.tap=function(t){return this._passThroughHandler(t,!1)}}},{"./util.js":30}],15:[function(t,e){e.exports=function(e,r){t("./util.js"),e.join=function(){var t;t=arguments.length-1;var e;0<t&&"function"==typeof arguments[t]&&(e=arguments[t]),t=arguments.length;for(var n=Array(t),i=0;i<t;++i)n[i]=arguments[i];return e&&n.pop(),t=new r(n).promise(),void 0!==e?t.spread(e):t}}},{"./util.js":30}],16:[function(t,e){e.exports=function(e,r,n,i,o){function s(t,e,r,n){this.constructor$(t),this._promise._setIsSpreadable(),this._promise._captureStackTrace(),this._callback=e,this._preservedValues=n===o?Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=1<=r?[]:p,this._init$(void 0,-2)}function a(t,e,r,n){return r="object"==typeof r&&null!==r?r.concurrency:0,r="number"==typeof r&&isFinite(r)&&1<=r?r:0,new s(t,e,r,n)}var c=t("./util.js"),u=c.tryCatch,l=c.errorObj,h={},p=[];c.inherits(s,r),s.prototype._init=function(){},s.prototype._promiseFulfilled=function(t,r){var n=this._values,o=this.length(),s=this._preservedValues,a=this._limit;if(n[r]===h){if(n[r]=t,1<=a&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(1<=a&&this._inFlight>=a)return n[r]=t,void this._queue.push(r);null!==s&&(s[r]=t);var c=this._callback,p=this._promise._boundTo;if(this._promise._pushContext(),c=u(c).call(p,t,r,o),this._promise._popContext(),c===l)return this._reject(c.e);if(p=i(c,this._promise),p instanceof e){if(p=p._target(),p._isPending())return 1<=a&&this._inFlight++,n[r]=h,p._proxyPromiseArray(this,r);if(!p._isFulfilled())return this._reject(p._reason());c=p._value()}n[r]=c}++this._totalResolved>=o&&(null!==s?this._filter(n,s):this._resolve(n))},s.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,r=this._values;0<t.length&&this._inFlight<e&&!this._isResolved();){var n=t.pop();this._promiseFulfilled(r[n],n)}},s.prototype._filter=function(t,e){for(var r=e.length,n=Array(r),i=0,o=0;o<r;++o)t[o]&&(n[i++]=e[o]);n.length=i,this._resolve(n)},s.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return"function"!=typeof t?n("fn must be a function\\n\\n    See http://goo.gl/916lJJ\\n"):a(this,t,e,null).promise()},e.map=function(t,e,r,i){return"function"!=typeof e?n("fn must be a function\\n\\n    See http://goo.gl/916lJJ\\n"):a(t,e,r,i).promise()}}},{"./util.js":30}],17:[function(t,e){e.exports=function(e,r,n,i){var o=t("./util.js"),s=o.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("fn must be a function\\n\\n    See http://goo.gl/916lJJ\\n");return function(){var n=new e(r);n._captureStackTrace(),n._pushContext();var i=s(t).apply(this,arguments);return n._popContext(),n._resolveFromSyncValue(i),n}},e.attempt=e.try=function(t,n,a){if("function"!=typeof t)return i("fn must be a function\\n\\n    See http://goo.gl/916lJJ\\n");var c=new e(r);return c._captureStackTrace(),c._pushContext(),t=o.isArray(n)?s(t).apply(a,n):s(t).call(a,n),c._popContext(),c._resolveFromSyncValue(t),c},e.prototype._resolveFromSyncValue=function(t){t===o.errorObj?this._rejectCallback(t.e,!1,!0):this._resolveCallback(t,!0)}}},{"./util.js":30}],18:[function(t,e){e.exports=function(e){function r(t,e){if(!o.isArray(t))return n.call(this,t,e);var r=a(e).apply(this._boundTo,[null].concat(t));r===c&&s.throwLater(r.e)}function n(t,e){var r=this._boundTo,r=void 0===t?a(e).call(r,null):a(e).call(r,null,t);r===c&&s.throwLater(r.e)}function i(t,e){if(!t){var r=this._target()._getCarriedStackTrace();r.cause=t,t=r}r=a(e).call(this._boundTo,t),r===c&&s.throwLater(r.e)}var o=t("./util.js"),s=t("./async.js"),a=o.tryCatch,c=o.errorObj;e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=n;void 0!==e&&Object(e).spread&&(o=r),this._then(o,i,void 0,this,t)}return this}}},{"./async.js":1,"./util.js":30}],19:[function(t,e){e.exports=function(e,r){var n=t("./util.js"),i=t("./async.js"),o=n.tryCatch,s=n.errorObj;e.prototype.progressed=function(t){return this._then(void 0,void 0,t,void 0,void 0)},e.prototype._progress=function(t){this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(t)},e.prototype._progressHandlerAt=function(t){return 0===t?this._progressHandler0:this[(t<<2)+t-5+2]},e.prototype._doProgressWith=function(t){var r=t.value,i=t.promise,a=t.receiver,t=o(t.handler).call(a,r);t===s?null!=t.e&&"StopProgressPropagation"!==t.e.name&&(r=n.canAttachTrace(t.e)?t.e:Error(n.toString(t.e)),i._attachExtraTrace(r),i._progress(t.e)):t instanceof e?t._then(i._progress,null,null,i,void 0):i._progress(t)},e.prototype._progressUnchecked=function(t){for(var n=this._length(),o=this._progress,s=0;s<n;s++){var a=this._progressHandlerAt(s),c=this._promiseAt(s);if(c instanceof e)"function"==typeof a?i.invoke(this._doProgressWith,this,{handler:a,promise:c,receiver:this._receiverAt(s),value:t}):i.invoke(o,c,t);else{var u=this._receiverAt(s);"function"==typeof a?a.call(u,t,c):u instanceof r&&!u._isResolved()&&u._promiseProgressed(t,c)}}}}},{"./async.js":1,"./util.js":30}],20:[function(t,e){e.exports=function(){function e(t){if("function"!=typeof t)throw new c("the promise constructor requires a resolver function\\n\\n    See http://goo.gl/EC22Yn\\n");if(this.constructor!==e)throw new c("the promise constructor cannot be invoked directly\\n\\n    See http://goo.gl/KsIlge\\n");this._bitField=0,this._boundTo=this._settledValue=this._receiver0=this._promise0=this._progressHandler0=this._rejectionHandler0=this._fulfillmentHandler0=void 0,t!==u&&this._resolveFromResolver(t)}var r=function(){return new c("circular promise resolution chain\\n\\n    See http://goo.gl/LhFpo0\\n")},n=function(){return new e.PromiseInspection(this._target())},i=function(t){return e.reject(new c(t))},o=t("./util.js"),s=t("./async.js"),a=t("./errors.js"),c=e.TypeError=a.TypeError;e.RangeError=a.RangeError,e.CancellationError=a.CancellationError,e.TimeoutError=a.TimeoutError,e.OperationalError=a.OperationalError,e.RejectionError=a.OperationalError,e.AggregateError=a.AggregateError;var u=function(){},l={},h={e:null},p=t("./thenables.js")(e,u),f=t("./promise_array.js")(e,u,p,i),_=t("./captured_trace.js")(),d=t("./debuggability.js")(e,_);t("./context.js")(e,_,d);var y=t("./catch_filter.js")(h),v=t("./promise_resolver.js"),g=v._nodebackForPromise,m=o.errorObj,j=o.tryCatch;return e.prototype.toString=function(){return"[object Promise]"},e.prototype.caught=e.prototype.catch=function(t){var r=arguments.length;if(1<r){var n,i=Array(r-1),o=0;for(n=0;n<r-1;++n){var s=arguments[n];if("function"!=typeof s)return e.reject(new c("Catch filter must inherit from Error or be a simple predicate function\\n\\n    See http://goo.gl/o84o68\\n"));i[o++]=s}return i.length=o,t=arguments[n],r=new y(i,t,this),this._then(void 0,r.doFilter,void 0,r,void 0)}return this._then(void 0,t,void 0,void 0,void 0)},e.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)},e.prototype.then=function(t,e,r){if(d()&&0<arguments.length&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+o.classString(t);1<arguments.length&&(n+=", "+o.classString(e)),this._warn(n)}return this._then(t,e,r,void 0,void 0)},e.prototype.done=function(t,e,r){this._then(t,e,r,void 0,void 0)._setIsFinal()},e.prototype.spread=function(t,e){var r=this._target();return(r._isSpreadable()?r===this?this:this.then():this.all())._then(t,e,void 0,l,void 0)},e.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},e.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},e.prototype.all=function(){var t=new f(this).promise();return t._setIsSpreadable(),t},e.prototype.error=function(t){return this.caught(o.originatesFromRejection,t)},e.is=function(t){return t instanceof e},e.fromNode=function(t){var r=new e(u),t=j(t)(g(r));return t===m&&r._rejectCallback(t.e,!0,!0),r},e.all=function(t){return t=new f(t).promise(),t._setIsSpreadable(),t},e.defer=e.pending=function(){var t=new e(u);return new v(t)},e.cast=function(t){if(t=p(t),!(t instanceof e)){var r=t,t=new e(u);t._fulfillUnchecked(r)}return t},e.resolve=e.fulfilled=e.cast,e.reject=e.rejected=function(t){var r=new e(u);return r._captureStackTrace(),r._rejectCallback(t,!0),r},e.setScheduler=function(t){if("function"!=typeof t)throw new c("fn must be a function\\n\\n    See http://goo.gl/916lJJ\\n");var e=s._schedule;return s._schedule=t,e},e.prototype._then=function(t,r,n,i,o){var a=void 0!==o,o=a?o:new e(u);a||(o._propagateFrom(this,5),o._captureStackTrace());var c=this._target();return c!==this&&!a&&(o._setIsMigrated(),void 0===i&&(o._setIsMigratingBinding(),i=this)),t=c._addCallbacks(t,r,n,o,i),c._isResolved()&&!c._isSettlePromisesQueued()&&s.invoke(c._settlePromiseAtPostResolution,c,t),o},e.prototype._settlePromiseAtPostResolution=function(t){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(t)},e.prototype._length=function(){return 131071&this._bitField},e.prototype._isFollowingOrFulfilledOrRejected=function(){return 0<(939524096&this._bitField)},e.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},e.prototype._setLength=function(t){this._bitField=this._bitField&-131072|131071&t},e.prototype._setFulfilled=function(){this._bitField|=268435456},e.prototype._setRejected=function(){this._bitField|=134217728},e.prototype._setFollowing=function(){this._bitField|=536870912},e.prototype._setIsFinal=function(){this._bitField|=33554432},e.prototype._isFinal=function(){return 0<(33554432&this._bitField)},e.prototype._cancellable=function(){return 0<(67108864&this._bitField)},e.prototype._setCancellable=function(){this._bitField|=67108864},e.prototype._unsetCancellable=function(){this._bitField&=-67108865},e.prototype._isSpreadable=function(){return 0<(131072&this._bitField)},e.prototype._setIsSpreadable=function(){this._bitField|=131072},e.prototype._setIsMigrated=function(){this._bitField|=4194304},e.prototype._unsetIsMigrated=function(){this._bitField&=-4194305},e.prototype._isMigrated=function(){return 0<(4194304&this._bitField)},e.prototype._receiverAt=function(t){return t=0===t?this._receiver0:this[5*t-5+4],this._isBound()&&void 0===t?this._boundTo:t},e.prototype._promiseAt=function(t){return 0===t?this._promise0:this[5*t-5+3]},e.prototype._fulfillmentHandlerAt=function(t){return 0===t?this._fulfillmentHandler0:this[5*t-5+0]},e.prototype._rejectionHandlerAt=function(t){return 0===t?this._rejectionHandler0:this[5*t-5+1]},e.prototype._migrateCallbacks=function(t,r){var n=t._fulfillmentHandlerAt(r),i=t._rejectionHandlerAt(r),o=t._progressHandlerAt(r),s=t._promiseAt(r),a=t._receiverAt(r);s instanceof e&&(s._setIsMigrated(),void 0===a&&(a=t,s._setIsMigratingBinding())),this._addCallbacks(n,i,o,s,a)},e.prototype._addCallbacks=function(t,e,r,n,i){var o=this._length();if(131066<=o&&(o=0,this._setLength(0)),0===o)this._promise0=n,void 0!==i&&(this._receiver0=i),"function"==typeof t&&!this._isCarryingStackTrace()&&(this._fulfillmentHandler0=t),"function"==typeof e&&(this._rejectionHandler0=e),"function"==typeof r&&(this._progressHandler0=r);else{var s=5*o-5;this[s+3]=n,this[s+4]=i,"function"==typeof t&&(this[s+0]=t),"function"==typeof e&&(this[s+1]=e),"function"==typeof r&&(this[s+2]=r)}return this._setLength(o+1),o},e.prototype._setProxyHandlers=function(t,e){var r=this._length();if(131066<=r&&(r=0,this._setLength(0)),0===r)this._promise0=e,this._receiver0=t;else{var n=5*r-5;this[n+3]=e,this[n+4]=t}this._setLength(r+1)},e.prototype._proxyPromiseArray=function(t,e){this._setProxyHandlers(t,e)},e.prototype._resolveCallback=function(t,n){if(!this._isFollowingOrFulfilledOrRejected()){if(t===this)return this._rejectCallback(r(),!1,!0);var i=p(t,this);if(!(i instanceof e))return this._fulfill(t);if(this._propagateFrom(i,1|(n?4:0)),i=i._target(),i._isPending()){for(var o=this._length(),s=0;s<o;++s)i._migrateCallbacks(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(i)}else i._isFulfilled()?this._fulfillUnchecked(i._value()):this._rejectUnchecked(i._reason(),i._getCarriedStackTrace())}},e.prototype._rejectCallback=function(t,e,r){r||o.markAsOriginatingFromRejection(t);var r=o.ensureErrorObject(t),n=o.canAttachTrace(t)&&"string"==typeof r.stack&&0<r.stack.length;this._attachExtraTrace(r,!!e&&n),this._reject(t,r===t?void 0:r)},e.prototype._resolveFromResolver=function(t){var e=this;this._captureStackTrace(),this._pushContext();var r=!0,t=j(t)(function(t){null!==e&&(e._resolveCallback(t),e=null)},function(t){null!==e&&(e._rejectCallback(t,r),e=null)}),r=!1;this._popContext(),void 0!==t&&t===m&&null!==e&&(e._rejectCallback(t.e,!0,!0),e=null)},e.prototype._settlePromiseFromHandler=function(t,e,n,i){i._isRejected()||(i._pushContext(),t=e!==l||this._isRejected()?j(t).call(e,n):j(t).apply(this._boundTo,n),i._popContext(),t===m||t===i||t===h?(t=t===i?r():t.e,i._rejectCallback(t,!1,!0)):i._resolveCallback(t))},e.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},e.prototype._followee=function(){return this._rejectionHandler0},e.prototype._setFollowee=function(t){this._rejectionHandler0=t},e.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},e.prototype._propagateFrom=function(t,e){0<(1&e)&&t._cancellable()&&(this._setCancellable(),\nthis._cancellationParent=t),0<(4&e)&&this._setBoundTo(t._boundTo)},e.prototype._fulfill=function(t){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(t)},e.prototype._reject=function(t,e){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(t,e)},e.prototype._settlePromiseAt=function(t){var r=this._promiseAt(t),n=r instanceof e;if(n&&r._isMigrated())return r._unsetIsMigrated(),s.invoke(this._settlePromiseAt,this,t);var i=this._isFulfilled()?this._fulfillmentHandlerAt(t):this._rejectionHandlerAt(t),o=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,a=this._settledValue,c=this._receiverAt(t);n&&r._isMigratingBinding()&&(r._unsetIsMigratingBinding(),c=c._boundTo),this._clearCallbackDataAtIndex(t),"function"==typeof i?n?this._settlePromiseFromHandler(i,c,a,r):i.call(c,a,r):c instanceof f?c._isResolved()||(this._isFulfilled()?c._promiseFulfilled(a,r):c._promiseRejected(a,r)):n&&(this._isFulfilled()?r._fulfill(a):r._reject(a,o)),4<=t&&4===(31&t)&&s.invokeLater(this._setLength,this,0)},e.prototype._clearCallbackDataAtIndex=function(t){0===t?(this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0):(t=5*t-5,this[t+3]=this[t+4]=this[t+0]=this[t+1]=this[t+2]=void 0)},e.prototype._isSettlePromisesQueued=function(){return-1073741824===(this._bitField&-1073741824)},e.prototype._setSettlePromisesQueued=function(){this._bitField|=-1073741824},e.prototype._unsetSettlePromisesQueued=function(){this._bitField&=1073741823},e.prototype._queueSettlePromises=function(){s.settlePromises(this),this._setSettlePromisesQueued()},e.prototype._fulfillUnchecked=function(t){return t===this?(t=r(),this._attachExtraTrace(t),this._rejectUnchecked(t,void 0)):(this._setFulfilled(),this._settledValue=t,this._cleanValues(),void(0<this._length()&&this._queueSettlePromises()))},e.prototype._rejectUncheckedCheckError=function(t){var e=o.ensureErrorObject(t);this._rejectUnchecked(t,e===t?void 0:e)},e.prototype._rejectUnchecked=function(t,e){if(t===this){var n=r();return this._attachExtraTrace(n),this._rejectUnchecked(n)}this._setRejected(),this._settledValue=t,this._cleanValues(),this._isFinal()?s.throwLater(function(t){throw"stack"in t&&s.invokeFirst(_.unhandledRejection,void 0,t),t},void 0===e?t:e):(void 0!==e&&e!==t&&this._setCarriedStackTrace(e),0<this._length()?this._queueSettlePromises():this._ensurePossibleRejectionHandled())},e.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var t=this._length(),e=0;e<t;e++)this._settlePromiseAt(e)},e._makeSelfResolutionError=r,t("./method.js")(e,u,p,i),t("./bind.js")(e,u,p),t("./finally.js")(e,h,p),t("./direct_resolve.js")(e),t("./synchronous_inspection.js")(e),t("./join.js")(e,f,p,u),o.toFastProperties(e),o.toFastProperties(e.prototype),e.Promise=e,_.setBounds(s.firstLineError,o.lastLineError),t("./cancel.js")(e),t("./map.js")(e,f,i,p,u),t("./nodeify.js")(e),t("./progress.js")(e,f),t("./promisify.js")(e,u),t("./reduce.js")(e,f,i,p,u),t("./timers.js")(e,u),t("./each.js")(e,u),t("./filter.js")(e,u),e.prototype=e.prototype,e}},{"./async.js":1,"./bind.js":2,"./cancel.js":4,"./captured_trace.js":5,"./catch_filter.js":6,"./context.js":7,"./debuggability.js":8,"./direct_resolve.js":9,"./each.js":10,"./errors.js":11,"./filter.js":13,"./finally.js":14,"./join.js":15,"./map.js":16,"./method.js":17,"./nodeify.js":18,"./progress.js":19,"./promise_array.js":21,"./promise_resolver.js":22,"./promisify.js":23,"./reduce.js":25,"./synchronous_inspection.js":27,"./thenables.js":28,"./timers.js":29,"./util.js":30}],21:[function(t,e){e.exports=function(e,r,n,i){function o(t){switch(t){case-2:return[];case-3:return{}}}function s(t){var n=this._promise=new e(r);t instanceof e&&n._propagateFrom(t,5),this._values=t,this._totalResolved=this._length=0,this._init(void 0,-2)}var a=t("./util.js").isArray;return s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function t(r,s){var c=n(this._values,this._promise);if(c instanceof e){if(c._setBoundTo(this._promise._boundTo),this._values=c=c._target(),!c._isFulfilled())return void(c._isPending()?c._then(t,this._reject,void 0,this,s):this._reject(c._reason()));if(c=c._value(),!a(c))return void this.__hardReject__(new e.TypeError("expecting an array, a promise or a thenable\\n\\n    See http://goo.gl/s8MMhc\\n"))}else if(!a(c))return void this._promise._reject(i("expecting an array, a promise or a thenable\\n\\n    See http://goo.gl/s8MMhc\\n")._reason());if(0===c.length)-5===s?this._resolveEmptyArray():this._resolve(o(s));else{var u=this.getActualLength(c.length);this._length=u,this._values=this.shouldCopyValues()?Array(u):this._values;for(var l=this._promise,h=0;h<u;++h){var p=this._isResolved(),f=n(c[h],l);f instanceof e?(f=f._target(),p?f._unsetRejectionIsUnhandled():f._isPending()?f._proxyPromiseArray(this,h):f._isFulfilled()?this._promiseFulfilled(f._value(),h):this._promiseRejected(f._reason(),h)):p||this._promiseFulfilled(f,h)}}},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},s.prototype.__hardReject__=s.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1,!0)},s.prototype._promiseProgressed=function(t,e){this._promise._progress({index:e,value:t})},s.prototype._promiseFulfilled=function(t,e){this._values[e]=t,++this._totalResolved>=this._length&&this._resolve(this._values)},s.prototype._promiseRejected=function(t){this._totalResolved++,this._reject(t)},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util.js":30}],22:[function(t,e){function r(t){return function(e,r){if(null!==t){if(e){var n;n=o(e);var s;if(n instanceof Error&&u.getPrototypeOf(n)===Error.prototype){s=new c(n),s.name=n.name,s.message=n.message,s.stack=n.stack;for(var a=u.keys(n),h=0;h<a.length;++h){var p=a[h];l.test(p)||(s[p]=n[p])}n=s}else i.markAsOriginatingFromRejection(n);t._attachExtraTrace(n),t._reject(n)}else if(2<arguments.length){for(n=arguments.length,s=Array(n-1),a=1;a<n;++a)s[a-1]=arguments[a];t._fulfill(s)}else t._fulfill(r);t=null}}}var n,i=t("./util.js"),o=i.maybeWrapAsError,s=t("./errors.js"),a=s.TimeoutError,c=s.OperationalError,s=i.haveGetters,u=t("./es5.js"),l=/^(?:name|message|stack|cause)$/;n=s?function(t){this.promise=t}:function(t){this.promise=t,this.callback=this.asCallback=r(t)},s&&(s={get:function(){return r(this.promise)}},u.defineProperty(n.prototype,"asCallback",s),u.defineProperty(n.prototype,"callback",s)),n._nodebackForPromise=r,n.prototype.toString=function(){return"[object PromiseResolver]"},n.prototype.resolve=n.prototype.fulfill=function(t){if(!(this instanceof n))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\\n\\n    See http://goo.gl/sdkXL9\\n");this.promise._resolveCallback(t)},n.prototype.reject=function(t){if(!(this instanceof n))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\\n\\n    See http://goo.gl/sdkXL9\\n");this.promise._rejectCallback(t)},n.prototype.progress=function(t){if(!(this instanceof n))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\\n\\n    See http://goo.gl/sdkXL9\\n");this.promise._progress(t)},n.prototype.cancel=function(t){this.promise.cancel(t)},n.prototype.timeout=function(){this.reject(new a("timeout"))},n.prototype.isResolved=function(){return this.promise.isResolved()},n.prototype.toJSON=function(){return this.promise.toJSON()},e.exports=n},{"./errors.js":11,"./es5.js":12,"./util.js":30}],23:[function(t,e){e.exports=function(e,r){function n(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function i(t,e,r,i){for(var o=c.inheritedDataKeys(t),s=[],a=0;a<o.length;++a){var u,l=o[a],h=t[l],p=i===_||_(l,h,t);(u="function"==typeof h)&&(u=!n(h))&&(u=c.getDataPropertyOrDefault(t,l+e,d),u=!(u&&n(u))&&i(l,h,t,p)),u&&s.push(l,h)}for(t=0;t<s.length;t+=2)if(i=s[t],r.test(i))for(i=i.replace(r,""),o=0;o<s.length;o+=2)if(s[o]===i)throw new f("Cannot promisify an API that has normal methods with \'%s\'-suffix\\n\\n    See http://goo.gl/iWrZbw\\n".replace("%s",e));return s}function o(t,n){function i(){var i=n;n===a&&(i=this),"string"==typeof t&&(t=i[t]);var o=new e(r);o._captureStackTrace(),o._setIsSpreadable();var s=u(o);try{t.apply(i,l(arguments,s))}catch(t){i=h(t),o._attachExtraTrace(i),o._reject(i)}return o}return i.__isPromisified__=!0,i}function s(t,e,r,n){for(var o=RegExp(e.replace(/([$])/,"\\\\$")+"$"),r=i(t,e,o,r),o=0,s=r.length;o<s;o+=2){var u=r[o],l=r[o+1];t[u+e]=n===y?y(u,a,u,l,e):n(l,function(){return y(u,a,u,l,e)})}return c.toFastProperties(t),t}var a={},c=t("./util.js"),u=t("./promise_resolver.js")._nodebackForPromise,l=c.withAppended,h=c.maybeWrapAsError,p=c.canEvaluate,f=t("./errors").TypeError,_=function(t,e){return c.isIdentifier(t)&&"_"!==t.charAt(0)&&!c.isClass(e)},d={__isPromisified__:!0},y=p?void 0:o;e.promisify=function(t,e){if("function"!=typeof t)throw new f("fn must be a function\\n\\n    See http://goo.gl/916lJJ\\n");return n(t)?t:y(t,2>arguments.length?a:e,void 0,t)},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new f("the target of promisifyAll must be an object or a function\\n\\n    See http://goo.gl/9ITlV0\\n");var e=Object(e),r=e.suffix;"string"!=typeof r&&(r="Async");var n=e.filter;"function"!=typeof n&&(n=_);var i=e.promisifier;if("function"!=typeof i&&(i=y),!c.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\\n\\n    See http://goo.gl/8FZo5V\\n");for(var o=c.inheritedDataKeys(t,{includeHidden:!0}),a=0;a<o.length;++a){var u=t[o[a]];"constructor"!==o[a]&&c.isClass(u)&&(s(u.prototype,r,n,i),s(u,r,n,i))}return s(t,r,n,i)}}},{"./errors":11,"./promise_resolver.js":22,"./util.js":30}],24:[function(t,e){function r(t){this._capacity=t,this._front=this._length=0}r.prototype._willBeOverCapacity=function(t){return this._capacity<t},r.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},r.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1),e=(this._front-1&e-1^e)-e,this[e]=t,this._front=e,this._length=this.length()+1},r.prototype.unshift=function(t,e,r){this._unshiftOne(r),this._unshiftOne(e),this._unshiftOne(t)},r.prototype.push=function(t,e,r){var n=this.length()+3;if(this._willBeOverCapacity(n))this._pushOne(t),this._pushOne(e),this._pushOne(r);else{var i=this._front+n-3;this._checkCapacity(n);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=r,this._length=n}},r.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;for(var t=this._front+this._length&e-1,r=0;r<t;++r)this[r+e]=this[r+0],this[r+0]=void 0},e.exports=r},{}],25:[function(t,e){e.exports=function(e,r,n,i,o){function s(t,r,n,s){this.constructor$(t),this._promise._captureStackTrace(),this._preservedValues=s===o?[]:null,this._zerothIsAccum=void 0===n,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var t=i(n,this._promise),s=!1,a=t instanceof e;a&&(t=t._target(),t._isPending()?t._proxyPromiseArray(this,-1):t._isFulfilled()?(n=t._value(),this._gotAccum=!0):(this._reject(t._reason()),s=!0)),!a&&!this._zerothIsAccum&&(this._gotAccum=!0),this._callback=r,this._accum=n,s||this._init$(void 0,-5)}function a(t,e,r,i){return"function"!=typeof e?n("fn must be a function\\n\\n    See http://goo.gl/916lJJ\\n"):new s(t,e,r,i).promise()}var c=t("./util.js"),u=c.tryCatch,l=c.errorObj;c.inherits(s,r),s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},s.prototype._promiseFulfilled=function(t,r){var n=this._values;n[r]=t;var o,s=this.length(),a=this._preservedValues,c=null!==a,h=this._gotAccum,p=this._valuesPhase;if(!p)for(p=this._valuesPhase=Array(s),o=0;o<s;++o)p[o]=0;if(o=p[r],0===r&&this._zerothIsAccum?(this._accum=t,this._gotAccum=h=!0,p[r]=0===o?1:2):-1===r?(this._accum=t,this._gotAccum=h=!0):0===o?p[r]=1:(p[r]=2,this._accum=t),h){for(var h=this._callback,f=this._promise._boundTo,_=this._reducingIndex;_<s;++_)if(o=p[_],2===o)this._reducingIndex=_+1;else{if(1!==o)return;if(t=n[_],this._promise._pushContext(),c?(a.push(t),o=u(h).call(f,t,_,s)):o=u(h).call(f,this._accum,t,_,s),this._promise._popContext(),o===l)return this._reject(o.e);var d=i(o,this._promise);if(d instanceof e){if(d=d._target(),d._isPending())return p[_]=4,d._proxyPromiseArray(this,_);if(!d._isFulfilled())return this._reject(d._reason());o=d._value()}this._reducingIndex=_+1,this._accum=o}this._resolve(c?a:this._accum)}},e.prototype.reduce=function(t,e){return a(this,t,e,null)},e.reduce=function(t,e,r,n){return a(t,e,r,n)}}},{"./util.js":30}],26:[function(t,e){var r;t("./util.js").isNode?(r=process.version.split(".").map(Number),r=0===r[0]&&10<r[1]||0<r[0]?global.setImmediate:process.nextTick):"undefined"!=typeof MutationObserver?(r=function(t){var e=document.createElement("div");return new MutationObserver(t).observe(e,{attributes:!0}),function(){e.classList.toggle("foo")}},r.isStatic=!0):r="undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw Error("No async scheduler available\\n\\n    See http://goo.gl/m3OTXk\\n")},e.exports=r},{"./util.js":30}],27:[function(t,e){e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValue=t._settledValue):(this._bitField=0,this._settledValue=void 0)}e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\\n\\n    See http://goo.gl/hc1DLj\\n");return this._settledValue},e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\\n\\n    See http://goo.gl/hPuiwB\\n");return this._settledValue},e.prototype.isFulfilled=t.prototype._isFulfilled=function(){return 0<(268435456&this._bitField)},e.prototype.isRejected=t.prototype._isRejected=function(){return 0<(134217728&this._bitField)},e.prototype.isPending=t.prototype._isPending=function(){return 0===(402653184&this._bitField)},e.prototype.isResolved=t.prototype._isResolved=function(){return 0<(402653184&this._bitField)},t.prototype.isPending=function(){return this._target()._isPending()},t.prototype.isRejected=function(){return this._target()._isRejected()},t.prototype.isFulfilled=function(){return this._target()._isFulfilled()},t.prototype.isResolved=function(){return this._target()._isResolved()},t.prototype._value=function(){return this._settledValue},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue},t.prototype.value=function(){var t=this._target();if(!t.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\\n\\n    See http://goo.gl/hc1DLj\\n");return t._settledValue},t.prototype.reason=function(){var t=this._target();if(!t.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\\n\\n    See http://goo.gl/hPuiwB\\n");return t._unsetRejectionIsUnhandled(),t._settledValue},t.PromiseInspection=e}},{}],28:[function(t,e){e.exports=function(e,r){function n(t){return t.then}function i(t,n,i){var a=new e(r),c=a;i&&i._pushContext(),a._captureStackTrace(),i&&i._popContext();var u=!0,n=o.tryCatch(n).call(t,function(r){a&&(t===r?a._rejectCallback(e._makeSelfResolutionError(),!1,!0):a._resolveCallback(r),a=null)},function(t){a&&(a._rejectCallback(t,u,!0),a=null)},function(t){a&&"function"==typeof a._progress&&a._progress(t)}),u=!1;return a&&n===s&&(a._rejectCallback(n.e,!0,!0),a=null),c}var o=t("./util.js"),s=o.errorObj,a=o.isObject,c={}.hasOwnProperty;return function(t,u){if(a(t)){if(t instanceof e)return t;if(c.call(t,"_promise0")){var l=new e(r);return t._then(l._fulfillUnchecked,l._rejectUncheckedCheckError,l._progressUnchecked,l,null),l}if(l=o.tryCatch(n)(t),l===s)return u&&u._pushContext(),l=e.reject(l.e),u&&u._popContext(),l;if("function"==typeof l)return i(t,l,u)}return t}}},{"./util.js":30}],29:[function(t,e){e.exports=function(e,r){function n(t){var e=this;return e instanceof Number&&(e=+e),clearTimeout(e),t}function i(t){var e=this;throw e instanceof Number&&(e=+e),clearTimeout(e),t}var o=t("./util.js"),s=e.TimeoutError,a=function(t){return c(+this).thenReturn(t)},c=e.delay=function(t,n){if(void 0===n){var n=t,t=void 0,i=new e(r);return setTimeout(function(){i._fulfill()},n),i}return e.resolve(t)._then(a,null,null,+n,void 0)};e.prototype.delay=function(t){return c(this,t)},e.prototype.timeout=function(t,e){var t=+t,r=this.then().cancellable();r._cancellationParent=this;var a=setTimeout(function(){var t=e;r.isPending()&&("string"!=typeof t&&(t="operation timed out"),t=new s(t),o.markAsOriginatingFromRejection(t),r._attachExtraTrace(t),r._cancel(t))},t);return r._then(n,i,void 0,a,void 0)}}},{"./util.js":30}],30:[function(t,e){function r(){try{return c.apply(this,arguments)}catch(t){return p.e=t,p}}function n(t){return"string"==typeof t?t:""+t}function i(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function o(t,e,r){return i(t)?t:(u.defineProperty(t,e,{value:r,configurable:!0,enumerable:!1,writable:!0}),t)}function s(t){return t instanceof Error&&u.propertyIsWritable(t,"stack")}function a(t){return{}.toString.call(t)}var c,u=t("./es5.js"),l="undefined"==typeof navigator,h=function(){try{var t={};return u.defineProperty(t,"f",{get:function(){return 3}}),3===t.f}catch(t){return!1}}(),p={e:{}},f=function(){return"string"!==this}.call("string"),_=function(){return u.isES5?function(t,e){for(var r=[],n=Object.create(null),i=Object(e).includeHidden?Object.getOwnPropertyNames:Object.keys;null!=t;){var o;try{o=i(t)}catch(t){break}for(var s=0;s<o.length;++s){var a=o[s];if(!n[a]){n[a]=!0;var c=Object.getOwnPropertyDescriptor(t,a);null!=c&&null==c.get&&null==c.set&&r.push(a)}}t=u.getPrototypeOf(t)}return r}:function(t){var e,r=[];for(e in t)r.push(e);return r}}(),d=/^[a-z$_][a-z$_0-9]*$/i,y=function(){return"stack"in Error()?function(t){return s(t)?t:Error(t+"")}:function(t){if(s(t))return t;try{throw Error(t+"")}catch(t){return t}}}(),l={isClass:function(t){try{if("function"==typeof t){var e=u.keys(t.prototype);return 0<e.length&&!(1===e.length&&"constructor"===e[0])}return!1}catch(t){return!1}},isIdentifier:function(t){return d.test(t)},inheritedDataKeys:_,getDataPropertyOrDefault:function(t,e,r){return u.isES5?(t=Object.getOwnPropertyDescriptor(t,e),null!=t?null==t.get&&null==t.set?t.value:r:void 0):{}.hasOwnProperty.call(t,e)?t[e]:void 0},thrower:function(t){throw t},isArray:u.isArray,haveGetters:h,notEnumerableProp:o,isPrimitive:i,isObject:function(t){return!i(t)},canEvaluate:l,errorObj:p,tryCatch:function(t){return c=t,r},inherits:function(t,e){function r(){this.constructor=t,this.constructor$=e;for(var r in e.prototype)n.call(e.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=e.prototype[r])}var n={}.hasOwnProperty;return r.prototype=e.prototype,t.prototype=new r,t.prototype},withAppended:function(t,e){var r,n=t.length,i=Array(n+1);for(r=0;r<n;++r)i[r]=t[r];return i[r]=e,i},asString:n,maybeWrapAsError:function(t){return i(t)?Error(n(t)):t},wrapsPrimitiveReceiver:f,toFastProperties:function(t){function e(){}return e.prototype=t,e},filledRange:function(t,e,r){for(var n=Array(t),i=0;i<t;++i)n[i]=e+i+r;return n},toString:function(t){return t+""},canAttachTrace:s,ensureErrorObject:y,originatesFromRejection:function(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{o(t,"isOperational",!0)}catch(t){}},classString:a,isNode:"undefined"!=typeof process&&"[object process]"===a(process).toLowerCase()};try{throw Error()}catch(t){l.lastLineError=t}e.exports=l},{"./es5.js":12}]},{},[3])(3)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise);',
pre:!0},"modules/devkit-core/modules/timestep/src/platforms/native/Canvas.js":{path:"modules/devkit-core/modules/timestep/src/platforms/native/Canvas.js",friendlyPath:".Canvas",directory:"modules/devkit-core/modules/timestep/src/platforms/native/",filename:"Canvas.js",src:'jsio("import .Context2D"),jsio("import util.setProperty");var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_platforms_native_Canvas=__class__,Canvas=GLOBAL.HTMLCanvasElement=exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_platforms_native_Canvas(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){t=merge(t,{width:1,height:1,offscreen:!0}),this._width=t.width,this._height=t.height,this._offscreen=t.offscreen,this.style={},this._context2D=null,this.complete=!0},this.getContext=function(t,e){if("2D"==t.toUpperCase())return this.complete=!0,this._context2D||(this._context2D=new Context2D({canvas:this,offscreen:this._offscreen,unloadListener:bind(this,function(){logger.LOG&&console.log("LOG",".Canvas","{canvas-registry} Canvas class reacting to canvas loss by setting context to null"),this._context2D=null,"function"==typeof e&&e()})}))},this.getBoundingClientRect=function(){return{bottom:this._height,height:this._height,left:0,right:this._width,top:this._width,width:0}},this.toDataURL=function(){return NATIVE.gl.toDataURL(this._context2D)},this.destroy=function(){this._context2D&&this._context2D.destroy()},this.resize=function(t,e){this._context2D&&this._context2D.resize(t,e)},util.setProperty(this,"width",{set:function(t){this._width!==t&&(this._width=t,this.resize(t,this._height)),this._context2D&&this._context2D.clear()},get:function(){return this._width}}),util.setProperty(this,"height",{set:function(t){this._height!==t&&(this._height=t,this.resize(this._width,t)),this._context2D&&this._context2D.clear()},get:function(){return this._height}}),util.setProperty(this,"src",{set:function(){},get:function(){return this._src}})});document.__registerCreateElementHandler("CANVAS",function(){return new Canvas});',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/native/Context2D.js":{path:"modules/devkit-core/modules/timestep/src/platforms/native/Context2D.js",friendlyPath:".Context2D",directory:"modules/devkit-core/modules/timestep/src/platforms/native/",filename:"Context2D.js",src:'jsio("import std.uri"),jsio("import lib.Enum as Enum"),jsio("import util.setProperty"),jsio("import .BufferedCanvas"),jsio("import device"),jsio("import .FontRenderer"),jsio("import ui.resource.Font as Font");var _createdOnscreenCanvas=!1,Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_platforms_native_Context2D=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_platforms_native_Context2D(function(){return this.init&&this.init.apply(this,arguments)},BufferedCanvas,function(t){this.updateState=function(t,e){return e.font=t.font,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline,e.fillStyle=t.fillStyle,e.strokeStyle=t.strokeStyle,e},this.init=function(e){t(this,"init",arguments),this._stack=[],this._stackPos=0,e=merge(e,{width:480,height:320,offscreen:!0}),this.unloadListener=e.unloadListener,_createdOnscreenCanvas&&(e.offscreen=!0),this.canvas=e.canvas||{width:e.width,height:e.height},(this._isOffscreen=e.offscreen)||(_createdOnscreenCanvas=!0),this.resize(this.canvas.width,this.canvas.height);for(var i=0;64>i;i++)this._stack[i]=this.updateState(this,{})},this.destroy=function(){this.canvas._src&&(NATIVE.gl.forgetCanvas(this.canvas._src),this._isOffscreen&&(this._ctx=null,NATIVE.gl.deleteTexture(this.canvas._src)))},this.resize=function(t,e){if(this.canvas._width=t,this.canvas._height=e,this._isOffscreen){var i;this._ctx?(i=this._ctx.resize(t,e),this.canvas._src!=i._src&&(NATIVE.gl.updateCanvasURL(this.canvas._src,i._src),this.canvas.__gl_name=i.__gl_name,this.canvas._src=i._src)):(i=NATIVE.gl.makeCanvas(t,e,this.unloadListener),this.canvas.__gl_name=i.__gl_name,this.canvas._src=i._src,this._ctx=new NATIVE.gl.Context2D(this.canvas,this.canvas._src,this.canvas.__gl_name))}else this._ctx||(this.canvas.__gl_name=-1,this.canvas._src="onscreen",this._ctx=new NATIVE.gl.Context2D(this.canvas,this.canvas._src,this.canvas.__gl_name))},this.getNativeCtx=function(){return this._ctx},this.getElement=function(){return this.canvas},this.font="10px "+device.defaultFontFamily,this.textAlign="start",this.textBaseline="alphabetic",this.fillStyle="rgb(255,255,255)",this.strokeStyle="rgb(0,0,0)",this.show=function(){},this.hide=function(){},this.clear=function(){this._ctx.clear()},this.swap=function(){NATIVE.gl.flushImages()},this.loadIdentity=function(){this._ctx.loadIdentity()},this.save=function(){this._stack.length<=this._stackPos&&(logger.LOG&&console.log("LOG",".Context2D","expanding stack"),this._stack.push({})),this.updateState(this,this._stack[this._stackPos++]),this._ctx.save()},this.restore=function(){this._ctx.restore(),this.updateState(this._stack[this._stackPos--],this)},this.clipRect=function(t,e,i,s){this._ctx.enableScissor(t,e,i,s)},this.drawImage=function(t,e,i,s,n,a,h,r,c){if(t&&t.complete){var o=arguments.length;3==o?this._ctx.drawImage(t.__gl_name,t._src,0,0,t.width,t.height,e,i,t.width,t.height):5==o?this._ctx.drawImage(t.__gl_name,t._src,0,0,t.width,t.height,e,i,s,n):this._ctx.drawImage(t.__gl_name,t._src,e,i,s,n,a,h,r,c)}},this.translate=function(t,e){this._ctx.translate(t,e)},this.rotate=function(t){this._ctx.rotate(t)},this.scale=function(t,e){this._ctx.scale(t,e)},this.setFilter=function(t){this._ctx.addFilter(t.getType(),t.get())},this.setFilters=function(t){logger.WARN&&console.warn("WARN",".Context2D","ctx.setFilters is deprecated, use ctx.setFilter instead.");for(var e in t)this._ctx.addFilter(e,t[e].get())},this.clearFilter=function(){this._ctx.clearFilters()},this.clearFilters=function(){logger.WARN&&console.warn("WARN",".Context2D","ctx.clearFilters is deprecated, use ctx.clearFilter instead."),this._ctx.clearFilters()},this.setTransform=function(t,e,i,s,n,a){this._ctx.setTransform(t,e,i,s,n,a)},util.setProperty(this,"globalAlpha",{get:function(){return this._ctx.getGlobalAlpha()},set:function(t){return this._ctx.setGlobalAlpha(t)}});var e=new Enum({"source-atop":1337,"source-in":1338,"source-out":1339,"source-over":1340,"destination-atop":1341,"destination-in":1342,"destination-out":1343,"destination-over":1344,lighter:1345,xor:1346,copy:1347});util.setProperty(this,"globalCompositeOperation",{get:function(){return e[this._ctx.getGlobalCompositeOperation()]},set:function(t){return this._ctx.setGlobalCompositeOperation(e[t.toLowerCase()])}}),this.clearRect=function(t,e,i,s){this._ctx.clearRect(t,e,i,s)},this.fillRect=function(t,e,i,s){if("object"==typeof this.fillStyle){var n,a,h,r,c=this.fillStyle.img,o=c.width,l=c.height;switch(this.fillStyle.repeatPattern){case"repeat":for(h=0;h<i;h+=o)for(n=Math.min(o,i-h),r=e;r<s;r+=l)a=Math.min(l,s-r),this._ctx.drawImage(c.__gl_name,c._src,0,0,n,a,t+h,e+r,n,a);break;case"repeat-x":for(h=0;h<i;h+=o)n=Math.min(o,i-h),this._ctx.drawImage(c.__gl_name,c._src,0,0,n,a,t+h,e,n,a);break;case"repeat-y":for(r=0;r<s;r+=l)a=Math.min(l,s-r),this._ctx.drawImage(c.__gl_name,c._src,0,0,n,a,t,e+r,n,a);break;default:n=Math.min(o,i),a=Math.min(l,s),this._ctx.drawImage(c.__gl_name,c._src,0,0,n,a,t,e,n,a)}}else this._ctx.fillRect(t,e,i,s,this.fillStyle)},this.strokeRect=function(t,e,i,s){this._ctx.strokeRect(t,e,i,s,this.strokeStyle,this.lineWidth||1)},this.createPattern=function(t,e){return{img:t,repeatPattern:e}},this._checkPath=function(){return this._path||(this._path=[]),void 0===this._pathIndex&&(this._pathIndex=0),0<this._pathIndex},this.beginPath=function(){this._pathIndex=0},this.moveTo=this.lineTo=function(t,e){this._checkPath(),this._path[this._pathIndex]={x:t,y:e},this._pathIndex++},this.pointSprite=null,this.pointSpriteStep=2,this.drawPointSprites=function(t,e,i,s){this._ctx.drawPointSprites(this.pointSprite.src,this.lineWidth||5,this.pointSpriteStep||2,this.strokeStyle,t,e,i,s)},this.closePath=function(){},this.fill=function(){this._checkPath()&&this._ctx.fill(this._path,this._pathIndex,this.fillStyle)},this.stroke=function(){this._checkPath()&&this._ctx.stroke(this._path,this._pathIndex,this.strokeStyle)};var i=window.Uint8ClampedArray||window.CanvasPixelArray||window.Uint8Array||window.Array;this.createImageData=function(t,e){return"object"==typeof t&&"width"in t&&(e=t.height,t=t.width),{width:t,height:e,data:new i(t*e)}},this.fillText=FontRenderer.wrapFillText(function(t,e,i,s){var n=Font.parse(this.font),a=n.getName();this._ctx.fillText(t+"",e,i,s||0,this.fillStyle,n.getSize(),a,this.textAlign,this.textBaseline)}),this.fill=function(){},this.stroke=function(){},this.strokeText=FontRenderer.wrapStrokeText(function(t,e,i,s){var n=Font.parse(this.font),a=n.getName();this._ctx.strokeText(t+"",e,i,s||0,this.strokeStyle,n.getSize(),a,this.textAlign,this.textBaseline,this.lineWidth)}),this.measureText=FontRenderer.wrapMeasureText(function(t){var e=Font.parse(this.font),i=e.getName();return this._ctx.measureText(t+"",e.getSize(),e.getWeight()+" "+i)})});',pre:!0},"modules/devkit-core/node_modules/jsio/packages/std/uri.js":{path:"modules/devkit-core/node_modules/jsio/packages/std/uri.js",friendlyPath:"std.uri",directory:"modules/devkit-core/node_modules/jsio/packages/std/",filename:"uri.js",baseMod:"std",basePath:"/Users/tsunami/projects/devkitPoj/helloworld/modules/devkit-core/node_modules/jsio/packages/std",src:'jsio("import util.path");var attrs="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_node_modules_jsio_packages_std_uri=__class__,URI=module.exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_node_modules_jsio_packages_std_uri(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,r){if(t instanceof URI)for(var e,i=0;e=attrs[i];++i)this["_"+e]=t["_"+e];else for(e in this._isStrict=r,i=URI.parse(t,r))this["_"+e]=i[e]};for(var t,r=0;t=attrs[r];++r)(function(t){var r=t.charAt(0).toUpperCase()+t.slice(1);this["get"+r]=function(){return this["_"+t]},this["set"+r]=function(r){return this["_"+t]=r,this}}).call(this,t);this.query=function(t){return URI.parseQuery(this._query)[t]},this.hash=function(t){return URI.parseQuery(this._anchor)[t]},this.addHash=function(t){var r,e=URI.parseQuery(this._anchor);for(r in t)e[r]=t[r];return this._anchor=URI.buildQuery(e),this},this.setPath=function(t){var r=util.path.splitPath(t);return this._file=r.filename,this._directory=r.directory,this._path=t,this},this.setFile=function(t){return this.setPath(util.path.join(this._directory,t))},this.setDirectory=function(t){return this.setPath(util.path.join(t,this._file))},this.push=function(t){return t&&(this._path=(this._path+"/"+t).replace(/\\/\\/+/g,"/")),this},this.addQuery=function(t){var r,e=URI.parseQuery(this._query);for(r in t)e[r]=t[r];return this._query=URI.buildQuery(e),this},this.removeQuery=function(t){var r=URI.parseQuery(this._query);if(Array.isArray(t))for(var e=0,i=t.length;e<i;++e)delete r[t[e]];else delete r[t];return this._query=URI.buildQuery(r),this},this.toJSON=function(){return this.toString(!1)},this.toString=function(t){var r=this._protocol?this._protocol+"://":"",e=this._host?this._host+(80==(this._port||80)?"":":"+this._port):"";return t?r+e:r+e+this._path+(this._query?"?"+this._query:"")+(this._anchor?"#"+this._anchor:"")}});URI.relativeTo=function(t,r){if(t=""+t,r&&!/^http(s?):\\/\\//.test(t))var e=new URI(r).setAnchor("").setQuery("").setFile("").toString("/"==t.charAt(0)),t=URI.resolveRelative(e+t);return new URI(t)},URI.resolveRelative=function(t){for(;t!=(t=t.replace(/(^|\\/)([^\\/]+)\\/\\.\\.\\//g,"/")););return t.replace(/[^.]\\.\\//g,"")},URI.buildQuery=function(t){var r,e=[];for(r in t)e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.join("&")},URI.parseQuery=function(t){for(var t=t.split("&"),r=t.length,e={},i=0;i<r;++i){var s=t[i].split("="),o=decodeURIComponent(s[0]);o&&(e[o]=decodeURIComponent(s[1]))}return e};var strictRegex=/^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,looseRegex=/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/,queryStringRegex=/(?:^|&)([^&=]*)=?([^&]*)/g;URI.parse=function(t,r){for(var e,i={},s=(r?strictRegex:looseRegex).exec(t),o=0;e=attrs[o];++o)i[e]=s[o]||"";var n=i.queryKey={};return i.query.replace(queryStringRegex,function(t,r,e){t&&(n[r]=e)}),i},URI.isSameDomain=function(t,r){var e=URI.parse(t),i=URI.parse(r);return e.port==i.port&&e.host==i.host&&e.protocol==i.protocol};',pre:!0},"modules/devkit-core/node_modules/jsio/packages/util/path.js":{path:"modules/devkit-core/node_modules/jsio/packages/util/path.js",friendlyPath:"util.path",directory:"modules/devkit-core/node_modules/jsio/packages/util/",filename:"path.js",pre:!0,baseMod:"util",basePath:"/Users/tsunami/projects/devkitPoj/helloworld/modules/devkit-core/node_modules/jsio/packages/util",src:'var util=jsio.__jsio.__util;exports.join=util.buildPath,exports.resolveRelativePath=util.resolveRelativePath,exports.splitPath=util.splitPath,exports.relative=util.relative,exports.splitExt=function(e){var e=exports.splitPath(e),t=e.filename.lastIndexOf(".");return-1==t?(e.basename=e.filename,e.ext=""):(e.basename=e.filename.substring(0,t),e.ext=e.filename.substring(t)),e};'},"modules/devkit-core/node_modules/jsio/packages/lib/Enum.js":{path:"modules/devkit-core/node_modules/jsio/packages/lib/Enum.js",friendlyPath:"lib.Enum",directory:"modules/devkit-core/node_modules/jsio/packages/lib/",filename:"Enum.js",baseMod:"lib",basePath:"/Users/tsunami/projects/devkitPoj/helloworld/modules/devkit-core/node_modules/jsio/packages/lib",src:'exports=function(){if(1==arguments.length){if("object"==typeof arguments[0]){var r,t=arguments[0];for(r in t)t[r]in t||(t[t[r]]=r);return t}"string"!=typeof arguments[0]&&(n=arguments[0])}if(!n)var n=arguments;t={},r=0;for(var e=n.length;r<e;++r)n[r]&&(t[n[r]]=r+1),t[r+1]=n[r];return t};',pre:!0},"modules/devkit-core/node_modules/jsio/packages/util/setProperty.js":{path:"modules/devkit-core/node_modules/jsio/packages/util/setProperty.js",friendlyPath:"util.setProperty",directory:"modules/devkit-core/node_modules/jsio/packages/util/",filename:"setProperty.js",src:'function createGetter(e,t){return function(){return this[t]}}function createSetter(e,t,i,n){return void 0!==n&&(e[t]=n),"function"==typeof i?function(e){if(this[t]!==e){var n=this[t];this[t]=e,i.call(this,t,e,n)}}:"string"==typeof i?function(e){if(this[t]!==e){var n=this[t];this[t]=e,this[i](t,e,n)}}:function(e){this[t]=e}}exports=function(e,t,i){!i.get&&!i.set&&!i.cb&&"value"in i?e[t]=i.value:(i.get||(i.get=createGetter(e,"_"+t)),i.set||(i.set=createSetter(e,"_"+t,i.cb,i.value)),"value"in i&&(e["_"+t]=i.value),delete i.value,Object.defineProperty?Object.defineProperty(e,t,i):e.__defineSetter__?(e.__defineSetter__(t,i.set),e.__defineGetter__(t,i.get)):e[t]=i.value)};',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/native/BufferedCanvas.js":{path:"modules/devkit-core/modules/timestep/src/platforms/native/BufferedCanvas.js",friendlyPath:".BufferedCanvas",directory:"modules/devkit-core/modules/timestep/src/platforms/native/",filename:"BufferedCanvas.js",src:'function getter(t){return function(){return this._ctxShim[t]}}function setter(t){return function(e){this._ctxShim[t]=e}}function wrap(){return function(){}}var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_platforms_native_BufferedCanvas=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_platforms_native_BufferedCanvas(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){this._ctxShim={}},this.getViewport=function(t){if(this._viewport){for(var e=new math2D.Rect(this._viewport),i=this._viewport.src,r=t,t=[t];r!=i;){if(r=r._superview,!r)return null;t.push(r)}for(;t.pop(););return e}},this.swap=function(){},this.reset=function(){this._buffer=[]},this.show=this.hide=function(){throw"abstract"},this.drawImage=wrap("drawImage"),this.putImageData=wrap("putImageData"),this.fillRect=wrap("fillRect"),this.fillCircle=function(t,e,i){this._buffer.push(["beginPath"]),this._buffer.push(["arc",[t,e,i,0,2*Math.PI,!0]]),this._buffer.push(["fill"])},this.fillText=wrap("fillText"),this.measureText=wrap("measureText"),this.strokeText=wrap("strokeText"),this.beginPath=wrap("beginPath"),this.moveTo=wrap("moveTo"),this.closePath=wrap("closePath"),this.lineTo=wrap("lineTo"),this.arc=wrap("arc"),this.quadraticCurveTo=wrap("quadraticCurveTo"),this.rect=wrap("rect"),this.fillRect=wrap("fillRect"),this.strokeRect=wrap("strokeRect"),this.save=wrap("save"),this.restore=wrap("restore"),this.clip=wrap("clip"),this.stroke=wrap("stroke"),this.fill=wrap("fill"),this.translate=wrap("translate"),this.rotate=wrap("rotate"),this.scale=wrap("scale")});',pre:!0},"modules/devkit-core/modules/timestep/src/device.js":{path:"modules/devkit-core/modules/timestep/src/device.js",friendlyPath:"device",directory:"modules/devkit-core/modules/timestep/src/",filename:"device.js",baseMod:"device",basePath:"/Users/tsunami/projects/devkitPoj/helloworld/modules/devkit-core/modules/timestep/src/device",src:'jsio("import userAgent"),jsio("import util.setProperty"),jsio("import event.Emitter as Emitter"),"undefined"!=typeof navigator&&navigator.userAgent||(logger.WARN&&console.warn("WARN","device","Timestep was unable to determine your device! Please check that navigator.userAgent is defined."),exports={isUnknown:!0});var ua=navigator.userAgent,_devices={};exports.registerDevice=function(e,t){_devices[e]=t},exports.get=function(e){return"InputPrompt"==e?jsio("import ui.InputPrompt"):jsio("import "+(_devices[exports.name]||"platforms.browser")+"."+e,{dontExport:!0,suppressErrors:!0})},exports.importUI=function(e){return jsio("import ui.backend."+(exports.useDOM?"dom":"canvas")+"."+e,{dontExport:!0,suppressErrors:!0})},exports.isMobileNative=exports.isMobile=/TeaLeaf/.test(ua),logger.LOG&&console.log("LOG","device",exports.isMobile?"on mobile device":"in web browser"),exports.screen=new Emitter;var devicePixelRatio=window.devicePixelRatio||1;if(exports.devicePixelRatio=devicePixelRatio,exports.screen.defaultDevicePixelRatio=devicePixelRatio,exports.screen.devicePixelRatio=devicePixelRatio,exports.screen.width=window.innerWidth*devicePixelRatio,exports.screen.height=window.innerHeight*devicePixelRatio,exports.setDevicePixelRatio=function(e){if("browser"!==userAgent.APP_RUNTIME)logger.WARN&&console.warn("WARN","device","device.setDevicePixelRatio is only supported in browsers!");else{exports.devicePixelRatio=exports.screen.devicePixelRatio=e;var t=Math.floor(window.innerWidth*e),e=Math.floor(window.innerHeight*e);exports.width=exports.screen.width=t,exports.height=exports.screen.height=e,exports.screen.publish("Resize",t,e)}},exports.hideAddressBar=function(){},util.setProperty(exports,"defaultFontFamily",{cb:function(e){jsio("import ui.resource.Font"),ui.resource.Font.setDefaultFontFamily(e)},value:"Helvetica"}),exports.defaultFontWeight="",exports.events="ontouchstart"in window&&!/BlackBerry/.test(ua)?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"},exports.isMobileBrowser=!1,exports.isUIWebView=!1,exports.isSafari=/Safari/.test(ua),exports.isSimulator=GLOBAL.CONFIG&&!!CONFIG.simulator,exports.isSimulator?(exports.isIOSSimulator=/iphone|ipod|ipad/i.test(CONFIG.simulator.deviceType),exports.isAndroidSimulator=!exports.isIOSSimulator,exports.isNativeSimulator=/^native/.test(CONFIG.target)):(exports.isAndroidSimulator=!1,exports.isIOSSimulator=!1,exports.isNativeSimulator=!1),exports.isMobile)exports.name="tealeaf",exports.width=navigator.width,exports.height=navigator.height,exports.isAndroid=/Android/.test(ua),exports.isAndroid?exports.isTablet=600<=navigator.width/devicePixelRatio:(exports.isIPad=exports.isTablet=/iPad/.test(ua),exports.isIPhone=/iPhone/.test(ua),exports.isIOS=!0);else{if(/(iPod|iPhone|iPad)/i.test(ua)){exports.name="browser",exports.isMobileBrowser=!0,exports.isIOS=!0,exports.isIpad=/iPad/i.test(ua),exports.isStandalone=!!window.navigator.standalone;var match=ua.match(/iPhone OS ([0-9]+)/);exports.iosVersion=match&&parseInt(match[1]),exports.isUIWebView=!exports.isSafari,exports.screen.defaultOrientation="portrait",exports.screen.browserChrome={portrait:{top:20*devicePixelRatio,bottom:44*devicePixelRatio},landscape:{top:20*devicePixelRatio,bottom:32*devicePixelRatio}}}else/Mobile Safari/.test(ua)||/Android/.test(ua)||/BlackBerry/.test(ua)?(exports.name="browser",exports.isMobileBrowser=!0,exports.isAndroid=!0,exports.screen.width=window.outerWidth,exports.screen.height=window.outerHeight-1,exports.screen.defaultOrientation="portrait",exports.screen.browserChrome={portrait:{top:0,bottom:0},landscape:{top:0,bottom:0}}):(exports.screen.width=window.innerWidth,exports.screen.height=window.innerHeight,exports.name="browser",exports.canResize=!1);exports.width=exports.screen.width,exports.height=exports.screen.height}exports.useDOM=!1,exports.setUseDOM=function(){console.warn("Attempting to set \'useDom\' property, which is no longer supported.")},exports.getDimensions=function(e){var t=Math.min(exports.width,exports.height),o=Math.max(exports.width,exports.height);return e?{height:t,width:o}:{height:o,width:t}},exports.init=function(){jsio("import ui.init"),exports.get("initialize").init(),exports.screen.width=exports.width,exports.screen.height=exports.height},exports.setBackButtonHandler=function(e){NATIVE&&(NATIVE.onBackButton=e)},exports.setRotationHandler=function(e){NATIVE&&(NATIVE.onRotation=e)},exports.stayAwake=function(e){NATIVE&&NATIVE.stayAwake&&NATIVE.stayAwake(e)},exports.collectGarbage=function(){logger.LOG&&console.log("LOG","device","collecting garbage"),NATIVE&&NATIVE.gc&&NATIVE.gc.runGC()};',pre:!0},"modules/devkit-core/modules/timestep/src/userAgent.js":{path:"modules/devkit-core/modules/timestep/src/userAgent.js",friendlyPath:"userAgent",directory:"modules/devkit-core/modules/timestep/src/",filename:"userAgent.js",baseMod:"userAgent",basePath:"/Users/tsunami/projects/devkitPoj/helloworld/modules/devkit-core/modules/timestep/src/userAgent",src:'var UserAgent=__class__,UserAgent=UserAgent(function(){return this.init&&this.init.apply(this,arguments)},function(){var t=navigator&&navigator.userAgent,n=/TeaLeaf/.test(t),r=/iPod|iPhone|iPad/i.test(t),i=/Android/.test(t),e=/Mac OS X [0-9_]+/.test(t),s=/iPhone OS/.test(t),o=/Safari/.test(t),a=/Chrome/.test(t),h=/Firefox/.test(t),S=GLOBAL.CONFIG&&!!CONFIG.simulator,g="unknown",c="unknown",m="unknown",_="unknown",d="unknown",O="unknown";n?(g="native",c="mobile"):(g="browser",c=r||i?"mobile":"desktop"),i?(m="Android",osVersionString=t.match(/Android[/\\s][\\d.]+/)[0],_=osVersionString.match(/[\\d.]+/)[0]):s?(m="iPhone OS",osVersionString=t.match(/iPhone OS [0-9_]+/)[0],_=osVersionString.match(/[0-9_]+/)[0].replace(/_/g,".")):e&&(m="Mac OS X",osVersionString=t.match(/Mac OS X [0-9_]+/)[0],_=osVersionString.match(/[0-9_]+/)[0].replace(/_/g,".")),a?(O="Chrome",browserVersionString=t.match(/Chrome[/\\s][\\d.]+/)[0],d=browserVersionString.match(/[\\d.]+/)[0]):o?(O="Safari",browserVersionString=t.match(/Safari[/\\s][\\d.]+/)[0],d=browserVersionString.match(/[\\d.]+/)[0]):h&&(O="Firefox",browserVersionString=t.match(/Firefox[/\\s][\\d.]+/)[0],d=browserVersionString.match(/[\\d.]+/)[0]),this.USER_AGENT=t,this.OS_TYPE=m,this.OS_VERSION=_,this.APP_RUNTIME=g,this.DEVICE_TYPE=c,this.BROWSER_TYPE=O,this.BROWSER_VERSION=d,this.SIMULATED=S});exports=new UserAgent;',pre:!0},"modules/devkit-core/modules/timestep/src/event/Emitter.js":{path:"modules/devkit-core/modules/timestep/src/event/Emitter.js",friendlyPath:"event.Emitter",directory:"modules/devkit-core/modules/timestep/src/event/",filename:"Emitter.js",baseMod:"event",basePath:"/Users/tsunami/projects/devkitPoj/helloworld/modules/devkit-core/modules/timestep/src/event",src:'jsio("import lib.PubSub as exports");',pre:!0},"modules/devkit-core/node_modules/jsio/packages/lib/PubSub.js":{path:"modules/devkit-core/node_modules/jsio/packages/lib/PubSub.js",friendlyPath:"lib.PubSub",directory:"modules/devkit-core/node_modules/jsio/packages/lib/",filename:"PubSub.js",src:'jsio("from ..std.uuid import uuid");var ctx=jsio.__env.global,SLICE=Array.prototype.slice,Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_node_modules_jsio_packages_lib_PubSub=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_node_modules_jsio_packages_lib_PubSub(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){},this.publish=function(s){if(this._subscribers){var i=SLICE.call(arguments,1);if(this._subscribers.__any)for(var t,e=[s].concat(i),r=this._subscribers.__any.slice(0),n=0;t=r[n];++n)t.apply(ctx,e);if(!this._subscribers[s])return this;for(r=this._subscribers[s].slice(0),n=0;t=r[n];++n)t.apply(ctx,i)}return this},this.subscribe=function(s,i,t){var e;2==arguments.length?e=i:(e=bind.apply(GLOBAL,SLICE.call(arguments,1)),e._ctx=i,e._method=t);var r=this._subscribers||(this._subscribers={});return(r[s]||(r[s]=[])).push(e),this},this.subscribeOnce=function(s,i,t){var e=arguments,r=bind(this,function(){this.unsubscribe(s,r),2==e.length?i.apply(GLOBAL,arguments):bind.apply(GLOBAL,SLICE.call(e,1)).apply(GLOBAL,arguments)});return 3<=e.length&&(r._ctx=i,r._method=t),this.subscribe(s,r)},this.unsubscribe=function(s,i,t){if(!this._subscribers||!this._subscribers[s])return this;for(var e,s=this._subscribers[s],r=0;e=s[r];++r)(e==i||e._ctx==i&&(!t||e._method==t))&&s.splice(r--,1);return this},this.listeners=function(s){return this._subscribers=this._subscribers?this._subscribers:{},this.hasOwnProperty.call(this._subscribers,s)?this._subscribers[s]:this._subscribers[s]=[]},this.addListener=this.on=function(s,i){return this.listeners(s).length+1>this._maxListeners&&0!==this._maxListeners&&"undefined"!=typeof console&&console.warn("Possible EventEmitter memory leak detected. "+this._subscribers[s].length+" listeners added. Use emitter.setMaxListeners() to increase limit."),this.emit("newListener",s,i),this.subscribe(s,this,i)},this.once=function(s,i){return this.subscribeOnce(s,this,i)},this.removeListener=function(s,i){return this.unsubscribe(s,this,i),this},this.removeAllListeners=function(s){if(this._subscribers)for(var i in this._subscribers)(null==s||s==i)&&delete this._subscribers[i];return this},this.emit=function(s){return this.publish.apply(this,arguments),0<this.listeners(s).length},this._maxListeners=10,this.setMaxListeners=function(s){this._maxListeners=s},this.hasListeners=function(s){return this._subscribers&&this._subscribers[s]&&this._subscribers[s].length},this.listenTo=function(s,i,t){var e=this._listeningTo||(this._listeningTo={}),r=s._listenId||(s._listenId=uuid(8,16));return e[r]=s,s.subscribe(i,this,t),this},this.stopListening=function(s,i,t){var e,r,n,h,u,b,c,_,o=this._listeningTo;if(!o)return this;logger.LOG&&console.log("LOG","lib.PubSub",s);var l=!i&&!t;s&&((o={})[s._listenId]=s);for(var a in o){for(s=o[a],r=i?[i]:Object.keys(s._subscribers),h=0,c=r.length;h<c;h++)if(i=r[h],e=s._subscribers[i]){for(s._subscribers[i]=n=[],u=0,b=e.length;u<b;u++)_=e[u],(t&&t!==_._method||this&&this!==_._ctx)&&n.push(_);n.length||delete s._subscribers[i]}l&&delete this._listeningTo[a]}return this}});',pre:!0},"modules/devkit-core/node_modules/jsio/packages/std/uuid.js":{path:"modules/devkit-core/node_modules/jsio/packages/std/uuid.js",friendlyPath:"..std.uuid",directory:"modules/devkit-core/node_modules/jsio/packages/std/",filename:"uuid.js",src:'var CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");exports.uuid=function(r,a){var n=CHARS,o=[],t=Math.random,a=a||n.length;if(r)for(var e=0;e<r;e++)o[e]=n[0|t()*a];else{var i;for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",e=0;36>e;e++)o[e]||(i=0|16*t(),o[e]=n[19==e?3&i|8:15&i])}return o.join("")};',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/native/initialize.js":{path:"modules/devkit-core/modules/timestep/src/platforms/native/initialize.js",friendlyPath:"platforms.native.initialize",directory:"modules/devkit-core/modules/timestep/src/platforms/native/",filename:"initialize.js",baseMod:"platforms",basePath:"/Users/tsunami/projects/devkitPoj/helloworld/modules/devkit-core/modules/timestep/src/platforms",src:'if(jsio("import device"),device.registerDevice("tealeaf","platforms.native"),exports.init=function(){},!NATIVE.gl.initialized&&(NATIVE.gl.initialized=!0,NATIVE.gl.fonts)){var data=NATIVE.gl.fonts,boldRe=/(bold|W6|wide)/i,italicRe=/(italic|oblique)/i,mediumRe=/(medium)/i,lightRe=/(light)/i,fontMap={},family;for(family in data){for(var fonts=data[family],familyMap={},keys=fonts.map(function(i){return i=(i=/[\\-]{1,1}(\\w+)/.exec(i))?i[1]:null,i?boldRe.test(i)?italicRe.test(i)?"bolditalic":"bold":italicRe.test(i)?"italic":mediumRe.test(i)&&data[family].some(function(i){return lightRe.test(i)})?"bold":"normal":"normal"}),i=0,style;style=keys[i];++i)familyMap[style]=fonts[i];fontMap[family]=familyMap}NATIVE.gl.fonts=fontMap}',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/canvas/animate.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/animate.js",friendlyPath:".backend.canvas.animate",directory:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/",filename:"animate.js",src:'function getTransition(t){return"function"==typeof t?t:TRANSITIONS[0|t]}jsio("import event.Emitter as Emitter"),jsio("import animate.transitions as transitions"),jsio("import timer"),jsio("import ObjectPool");var engine=null,groups={},DEFAULT_GROUP_ID="__default_group";exports=function(t,e){if(null===engine&&(jsio("import ui.Engine as Engine"),jsio("import ui.View as View"),jsio("import device"),engine=Engine.get()),device.useDOM&&t instanceof View&&!e)return t.getAnimation();e=e||DEFAULT_GROUP_ID,!groups[e]&&(groups[e]=new Group(e));var i=t.__anims||(t.__anims={}),s=i[e];return s||(s=t instanceof View?new ViewAnimator(t):new Animator(t),s.groupID=e,i[e]=s),s},exports.getSubjectAnimations=function(t){var e,t=t.__anims||{},i=[];for(e in t)i.push(t[e]);return i},exports.clearSubjectAnimations=function(t){for(var t=this.getSubjectAnimations(t),e=0;e<t.length;e++)t[e].clear()},exports.commitSubjectAnimations=function(t){for(var t=this.getSubjectAnimations(t),e=0;e<t.length;e++)t[e].commit()},exports.pauseSubjectAnimations=function(t){for(var t=this.getSubjectAnimations(t),e=0;e<t.length;e++)t[e].pause()},exports.resumeSubjectAnimations=function(t){for(var t=this.getSubjectAnimations(t),e=0;e<t.length;e++)t[e].resume()},exports.clearAllAnimations=function(){for(var t in groups)groups[t].clear()},exports.commitAllAnimations=function(){for(var t in groups)groups[t].commit()},exports.pauseAllAnimations=function(){for(var t in groups)groups[t].pause()},exports.resumeAllAnimations=function(){for(var t in groups)groups[t].resume()},exports.getGroup=function(t){return groups[t||DEFAULT_GROUP_ID]};var Group=__class__,Group=Group(function(){return this.init&&this.init.apply(this,arguments)},Emitter,function(){this.init=function(t){this.groupID=t+"",this.anims=[]},this.add=function(t){-1===this.anims.indexOf(t)&&this.anims.push(t)},this.remove=function(t){t=this.anims.indexOf(t),-1!==t&&(this.anims.splice(t,1),0===this.anims.length&&this.publish("Finish"))},this.isActive=function(){return 0<this.anims.length},this.clear=function(){for(var t=this.anims,e=t.length-1;0<=e;e--)t[e].clear();return this},this.commit=function(){for(var t=this.anims,e=t.length-1;0<=e;e--)t[e].commit();return this},this.pause=function(){for(var t=this.anims,e=t.length-1;0<=e;e--)t[e].pause();return this},this.resume=function(){for(var t=this.anims,e=t.length-1;0<=e;e--)t[e].resume();return this}}),TRANSITIONS=[transitions.easeInOut,transitions.linear,transitions.easeIn,transitions.easeOut,transitions.easeInOut,transitions.easeInQuad,transitions.easeOutQuad,transitions.easeInOutQuad,transitions.easeInCubic,transitions.easeOutCubic,transitions.easeInOutCubic,transitions.easeInQuart,transitions.easeOutQuart,transitions.easeInOutQuart,transitions.easeInQuint,transitions.easeOutQuint,transitions.easeInOutQuint,transitions.easeInSine,transitions.easeOutSine,transitions.easeInOutSine,transitions.easeInExpo,transitions.easeOutExpo,transitions.easeInOutExpo,transitions.easeInCirc,transitions.easeOutCirc,transitions.easeInOutCirc,transitions.easeInElastic,transitions.easeOutElastic,transitions.easeInOutElastic,transitions.easeInBack,transitions.easeOutBack,transitions.easeInOutBack,transitions.easeInBounce,transitions.easeOutBounce,transitions.easeInOutBounce];exports.linear=1,exports.easeIn=2,exports.easeOut=3,exports.easeInOut=4,exports.easeInQuad=5,exports.easeOutQuad=6,exports.easeInOutQuad=7,exports.easeInCubic=8,exports.easeOutCubic=9,exports.easeInOutCubic=10,exports.easeInQuart=11,exports.easeOutQuart=12,exports.easeInOutQuart=13,exports.easeInQuint=14,exports.easeOutQuint=15,exports.easeInOutQuint=16,exports.easeInSine=17,exports.easeOutSine=18,exports.easeInOutSine=19,exports.easeInExpo=20,exports.easeOutExpo=21,exports.easeInOutExpo=22,exports.easeInCirc=23,exports.easeOutCirc=24,exports.easeInOutCirc=25,exports.easeInElastic=26,exports.easeOutElastic=27,exports.easeInOutElastic=28,exports.easeInBack=29,exports.easeOutBack=30,exports.easeInOutBack=31,exports.easeInBounce=32,exports.easeOutBounce=33,exports.easeInOutBounce=34;var Frame=__class__,Frame=Frame(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){this.target=this.subject=null,this.duration=0,this.pool=this._baseStyle=this.base=this.transition=null,this._poolIndex=0,this._obtainedFromPool=!1},this.reset=function(t,e,i,s){if(this.subject=t,this.target=e,this.duration=0===i?0:i||500,this.transition=getTransition(s),this._baseStyle=this.base=null,0>this.duration)throw Error("Animations cannot have negative durations!")},this.recycle=function(){this.pool.release(this)},this.exec=function(){},this.debugLog=function(){}}),CallbackFrame=__class__,CallbackFrame=CallbackFrame(function(){return this.init&&this.init.apply(this,arguments)},Frame,function(){var t=Frame.prototype;this.reset=function(e,i,s,n){t.reset.call(this,e,i,s,n),this.duration=s||0},this.exec=function(t,e,i){this.target.call(this.subject,t,e,i)}}),ObjectFrame=__class__,ObjectFrame=ObjectFrame(function(){return this.init&&this.init.apply(this,arguments)},Frame,function(){this.exec=function(t,e,i){if(!this.base){this.base={};for(var s in this.target)this.base[s]=this.subject[s]}for(s in this.target)e=this.base[s],this.subject[s]=e+t*(this.target[s]-e);i&&this.debugLog(t)},this.debugLog=function(t){var e,i={};for(e in this.target)i[e]=this.subject[e]+" -> "+this.target[e];logger.LOG&&console.log("LOG",".backend.canvas.animate",this.duration,t,JSON.stringify(i))}}),ViewStyleFrame=__class__,ViewStyleFrame=ViewStyleFrame(function(){return this.init&&this.init.apply(this,arguments)},Frame,function(){this.resolveDeltas=function(t){var e,i=this.target;for(e in i){var s=e.substring(1);"d"==e.charAt(0)&&!(e in t)&&s in t&&(i[s]=i[e]+t[s],delete i[e])}},this.exec=function(t,e,i){var e=this._baseStyle,s=this.target,n=this.subject.style;e||(e=this._baseStyle=n.copy(),this.resolveDeltas(e));for(var o in s)if(o in e){var r=e[o];n[o]=r+t*(s[o]-r)}i&&this.debugLog(t)},this.debugLog=function(t){var e,i={},s=this.target,n=this.subject.style;for(e in s)i[e]=n[e]+" -> "+s[e];logger.LOG&&console.log("LOG",".backend.canvas.animate",timer.now,this.duration,t,JSON.stringify(i))}});exports.Animator=__class__;var Animator=exports.Animator=exports.Animator(function(){return this.init&&this.init.apply(this,arguments)},Emitter,function(){this.init=function(t){this.subject=t,this._queue=[],this._elapsed=0,this._debug=this._isScheduled=this._isPaused=!1},this.clear=function(){for(var t=this._queue,e=t.length,i=0;i<e;i++)t[i].recycle();return this._elapsed=t.length=0,this._unschedule(),this._removeFromGroup(),this},this.pause=function(){return this._isPaused||(this._isPaused=!0,this._unschedule()),this},this.resume=function(){return this._isPaused&&(this._isPaused=!1,this._schedule()),this},this._schedule=function(){this._isScheduled||(this._isScheduled=!0,engine.subscribe("Tick",this,"onTick"))},this._unschedule=function(){this._isScheduled&&(this._isScheduled=!1,engine.unsubscribe("Tick",this,"onTick"))},this.isPaused=function(){return this._isPaused},this.hasFrames=function(){return!!this._queue[0]},this.wait=function(t){return this.then(void 0,t)},this.buildFrame=function(t,e,i){var s,n=this.subject;return s=typeof t,"function"===s?(s=callbackFramePool.obtain(),s.pool=callbackFramePool):"object"===s?(s=objectFramePool.obtain(),s.pool=objectFramePool):(s=framePool.obtain(),s.pool=framePool),s.reset(n,t,e,i),s},this.now=function(t,e,i){return this.clear(),this.then(t,e,i)},this.then=function(t,e,i){return this._queue.length||(this._elapsed=0),this._queue.push(this.buildFrame(t,e,i)),this._schedule(),this._addToGroup(),this},this.debug=function(){return this._debug=!0,this},this.commit=function(){this.resume();for(var t,e=this._elapsed=0;t=this._queue[e];++e)this._elapsed+=t.duration;return this.next(),this},this.onTick=function(t){this._isScheduled&&(this._elapsed+=t,this.next())},this.next=function(){for(var t=this._queue[0];t;){var e=t.duration,i=this._elapsed>=e,s=i?1:this._elapsed/e,n=t.transition(s);if(i&&(this._elapsed-=e),t.exec(n,s,this._debug),i&&t===this._queue[0]&&this._queue.shift().recycle(),!i||this._isPaused)return;t=this._queue[0]}this._unschedule(),this._removeFromGroup()},this._addToGroup=function(){var t=groups[this.groupID];t&&t.add(this)},this._removeFromGroup=function(){var t=groups[this.groupID];t&&t.remove(this)}}),ViewAnimator=__class__,ViewAnimator=ViewAnimator(function(){return this.init&&this.init.apply(this,arguments)},Animator,function(){var t=Animator.prototype;this.buildFrame=function(e,i,s){if("object"==typeof e){var n=viewStyleFramePool.obtain();return n.pool=viewStyleFramePool,n.reset(this.subject,e,i,s),n}return t.buildFrame.call(this,e,i,s)}});exports.getViewAnimator=function(){return ViewAnimator},exports.setViewAnimator=function(t){ViewAnimator=t};var framePool=new ObjectPool({ctor:Frame}),objectFramePool=new ObjectPool({ctor:ObjectFrame}),callbackFramePool=new ObjectPool({ctor:CallbackFrame}),viewStyleFramePool=new ObjectPool({ctor:ViewStyleFrame});exports.initializeFrameCount=function(t){for(var t=t-framePool.getTotalCount(),e=0;e<t;e++)framePool.create()},exports.initializeObjectFrameCount=function(t){for(var t=t-objectFramePool.getTotalCount(),e=0;e<t;e++)objectFramePool.create()},exports.initializeCallbackFrameCount=function(t){for(var t=t-callbackFramePool.getTotalCount(),e=0;e<t;e++)callbackFramePool.create()},exports.initializeViewStyleFrameCount=function(t){for(var t=t-viewStyleFramePool.getTotalCount(),e=0;e<t;e++)viewStyleFramePool.create()};',
pre:!0},"modules/devkit-core/modules/timestep/src/animate/transitions.js":{path:"modules/devkit-core/modules/timestep/src/animate/transitions.js",friendlyPath:"animate.transitions",directory:"modules/devkit-core/modules/timestep/src/animate/",filename:"transitions.js",baseMod:"animate",basePath:"/Users/tsunami/projects/devkitPoj/helloworld/modules/devkit-core/modules/timestep/src/animate",src:"exports.linear=function(t){return t},exports.easeIn=exports.easeInQuad=function(t){return t*t},exports.easeOut=exports.easeOutQuad=function(t){return t*(2-t)},exports.easeInOutQuad=function(t){return 1>(t*=2)?.5*t*t:-.5*(--t*(t-2)-1)},exports.easeInCubic=function(t){return t*t*t},exports.easeOutCubic=function(t){return(t-=1)*t*t+1},exports.easeInOut=exports.easeInOutCubic=function(t){return 1>(t*=2)?.5*t*t*t:.5*((t-=2)*t*t+2)},exports.easeInQuart=function(t){return t*t*t*t},exports.easeOutQuart=function(t){return-1*((t-=1)*t*t*t-1)},exports.easeInOutQuart=function(t){return 1>(t*=2)?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},exports.easeInQuint=function(t){return t*t*t*t*t},exports.easeOutQuint=function(t){return(t-=1)*t*t*t*t+1},exports.easeInOutQuint=function(t){return 1>(t*=2)?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},exports.easeInSine=function(t){return 0==t?0:1==t?1:-1*Math.cos(t*(Math.PI/2))+1},exports.easeOutSine=function(t){return 0==t?0:1==t?1:Math.sin(t*(Math.PI/2))},exports.easeInOutSine=function(t){return 0==t?0:1==t?1:-.5*(Math.cos(Math.PI*t)-1)},exports.easeInExpo=function(t){return 0==t?0:1==t?1:0==t?0:Math.pow(2,10*(t-1))},exports.easeOutExpo=function(t){return 0==t?0:1==t?1:1==t?1:-Math.pow(2,-10*t)+1},exports.easeInOutExpo=function(t){return 0==t?0:1==t?1:1>(t*=2)?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},exports.easeInCirc=function(t){return 0==t?0:1==t?1:-1*(Math.sqrt(1-t*t)-1)},exports.easeOutCirc=function(t){return 0==t?0:1==t?1:Math.sqrt(1-(t-=1)*t)},exports.easeInOutCirc=function(t){return 0==t?0:1==t?1:1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},exports.easeInElastic=function(t){return 0==t?0:1==t?1:-(Math.pow(2,10*(t-=1))*Math.sin(2*(t-.075)*Math.PI/.3))},exports.easeOutElastic=function(t){return 0==t?0:1==t?1:Math.pow(2,-10*t)*Math.sin(2*(t-.075)*Math.PI/.3)+1},exports.easeInOutElastic=function(t){return 0==t?0:2==(t*=2)?1:1>t?-.5*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-.1125)*Math.PI/.45):.5*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-.1125)*Math.PI/.45)+1},exports.easeInBack=function(t){return 0==t?0:1==t?1:t*t*(2.70158*t-1.70158)},exports.easeOutBack=function(t){return 0==t?0:1==t?1:(t-=1)*t*(2.70158*t+1.70158)+1},exports.easeInOutBack=function(t){if(0==t)return 0;if(1==t)return 1;var e=1.70158;return 1>(t*=2)?.5*t*t*(((e*=1.525)+1)*t-e):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},exports.easeOutBounce=function(t){return 0==t?0:1==t?1:t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},exports.easeInBounce=function(t){return 1-exports.easeOutBounce(1-t)},exports.easeInOutBounce=function(t){return.5>t?.5*exports.easeInBounce(2*t):.5*exports.easeOutBounce(2*t-1)+.5};",pre:!0},"modules/devkit-core/modules/timestep/src/timer.js":{path:"modules/devkit-core/modules/timestep/src/timer.js",friendlyPath:"timer",directory:"modules/devkit-core/modules/timestep/src/",filename:"timer.js",baseMod:"timer",basePath:"/Users/tsunami/projects/devkitPoj/helloworld/modules/devkit-core/modules/timestep/src/timer",src:'jsio("import device");var Timer=device.get("Timer"),MAX_TICK=1e4;exports.now=0,exports.frames=0,exports.reset=function(){this._last=null},exports.tick=function(e){try{e>MAX_TICK&&(exports.onLargeTick(e,MAX_TICK),e=1),exports.now+=e,exports.frames++,exports.onTick(e),ok=!0}finally{exports.debug&&!ok&&app.stopLoop()}},exports.onLargeTick=function(e,t){logger.WARN&&console.warn("WARN","timer","Dropping large tick: "+e+"; Threshold is set at: "+t)},exports.onTick=function(){},exports.debug=!1,exports.start=function(e){this.reset(),this.isRunning=!0,device.get("Timer").start(exports.tick,e)},exports.stop=function(){this.reset(),this.isRunning=!1,device.get("Timer").stop()},exports.getTickProgress=function(){var e=+new Date;return-(Timer.last||e)+e};',pre:!0},"modules/devkit-core/modules/timestep/src/ObjectPool.js":{path:"modules/devkit-core/modules/timestep/src/ObjectPool.js",friendlyPath:"ObjectPool",directory:"modules/devkit-core/modules/timestep/src/",filename:"ObjectPool.js",baseMod:"ObjectPool",basePath:"/Users/tsunami/projects/devkitPoj/helloworld/modules/devkit-core/modules/timestep/src/ObjectPool",src:'var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ObjectPool=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ObjectPool(function(){return this.init&&this.init.apply(this,arguments)},"ObjectPool",function(){this.init=function(t){this._ctor=t.ctor,this._pool=[],this._freshIndex=0;for(var t=t.initCount||0,o=0;o<t;o++)this.create()},this.create=function(){var t=this._pool,o=new this._ctor;return o._poolIndex=t.length,t.push(o),o},this.obtain=function(){var t;return t=this._pool,t=this._freshIndex<t.length?t[this._freshIndex]:this.create(),t._obtainedFromPool=!0,this._freshIndex++,t},this.release=function(t){var o=this._pool;if(t._obtainedFromPool){t._obtainedFromPool=!1;var e=o[this._freshIndex-1];o[this._freshIndex-1]=t,o[t._poolIndex]=e,o=e._poolIndex,e._poolIndex=t._poolIndex,t._poolIndex=o,this._freshIndex--}},this.forEachActive=function(t,o){for(var e=this._pool,i=this._freshIndex-1;0<=i;i--)t.call(o,e[i],i)},this.getActiveCount=function(){return this._freshIndex},this.getTotalCount=function(){return this._pool.length}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/Engine.js":{path:"modules/devkit-core/modules/timestep/src/ui/Engine.js",friendlyPath:"ui.Engine",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"Engine.js",src:'jsio("import event.Emitter as Emitter"),jsio("import event.input.dispatch as dispatch"),jsio("import timer"),jsio("import ui.backend.ReflowManager as ReflowManager"),jsio("import device");var _timers=[];timer.onTick=function(t){for(var i=_timers.length;i--;)_timers[i](t)};var __instance=null,Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_Engine=__class__,Engine=exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_Engine(function(){return this.init&&this.init.apply(this,arguments)},Emitter,function(){this.init=function(t){__instance||(jsio("import .StackView"),__instance=this);var i=t&&t.canvas;"string"==typeof i&&GLOBAL.document&&document.getElementById&&(i=document.getElementById(i)),this._opts=t=merge(t,{keyListenerEnabled:!0,width:i&&i.width||device.width,height:i&&i.height||device.height,view:null,dtFixed:0,dtMinimum:0,clearEachFrame:!0,alwaysRepaint:!0,repaintOnEvent:!0,mergeMoveEvents:!1,continuousInputCheck:!device.isMobileBrowser&&!device.isMobile,showFPS:!1}),_timers.push(bind(this,this._tick)),this._doubleBuffered=!0,this._countdown=null,this._rootElement=new(device.get("Canvas"))({el:i,useWebGL:!0,width:t.width,height:t.height,offscreen:!1}),i=device.screen.devicePixelRatio,this._rootElement.style.width=t.width/i+"px",this._rootElement.style.height=t.height/i+"px",this._rootElement.id="timestep_onscreen_canvas",this._ctx=this._rootElement.getContext("2d"),this._ctx.font="11px "+device.defaultFontFamily,this._view=t.view||new StackView,this._view.style.update({width:t.width,height:t.height}),this._view.__root=this,this._events=[],dispatch.KeyListener&&(this._keyListener=new dispatch.KeyListener),this._inputListener=new dispatch.InputListener({rootView:this._view,el:this._rootElement,keyListener:this._keyListener,engine:this}),this._reflowMgr=ReflowManager.get(),this._tickBuffer=0,this._onTick=[],"browser"==device.name&&(device.width=t.width,device.height=t.height,device.screen.width=t.width,device.screen.height=t.height,(t=device.get("doc"))&&t.setEngine(this)),this.updateOpts(this._opts)},this.getOpt=function(t){return this._opts[t]},this.updateOpts=function(t){if(this._opts=merge(t,this._opts),this._keyListener&&this._keyListener.setEnabled(this._opts.keyListenerEnabled),this._opts.scaleUI)if(Array.isArray(this._opts.scaleUI)){if(2!=this._opts.scaleUI.length)throw Error("Illegal value for engine option scaleUI: "+this._opts.scaleUI);this.scaleUI(this._opts.scaleUI[0],this._opts.scaleUI[1])}else this.scaleUI(576,1024);this._opts.showFPS?(this._applicationFPS||(jsio("import ui.backend.debug.FPSView as FPSView"),this._applicationFPS=new FPSView({application:this})),this._renderFPS=bind(this._applicationFPS,this._applicationFPS.render),this._tickFPS=bind(this._applicationFPS,this._applicationFPS.tick)):(this._renderFPS=function(){},this._tickFPS=function(){})},this.scaleUI=function(t,i){device.height>device.width?(this._view.baseWidth=t,this._view.baseHeight=device.height*(t/device.width),this._view.scale=device.width/this._view.baseWidth):(this._view.baseWidth=i,this._view.baseHeight=device.height*(i/device.width),this._view.scale=device.height/this._view.baseHeight),this._view.style.scale=this._view.scale},this.supports=function(t){return this._opts[t]},this.getInput=function(){return this._inputListener},this.getKeyListener=function(){return this._keyListener},this.getEvents=function(){return this._events},this.getElement=this.getCanvas=function(){return this._rootElement},this.getViewCtor=function(){return View},this.getView=function(){return this._view},this.setView=function(t){return this._view=t,this},this.show=function(){return this._rootElement.style.display="block",this},this.hide=function(){return this._rootElement.style.display="none",this},this.pause=function(){this.stopLoop(),this._keyListener&&this._keyListener.setEnabled(!1)},this.resume=function(){this.startLoop(),this._keyListener&&this._keyListener.setEnabled(!0)},this.stepFrame=function(t){this.pause(),this._countdown=t||1,this.resume()},this.startLoop=function(t){if(!this._running)return this._running=!0,this.now=0,timer.start(t||this._opts.dtMinimum),this.emit("resume"),this},this.stopLoop=function(){if(this._running)return this._running=!1,timer.stop(),this.emit("pause"),this},this.isRunning=function(){return this._running},this.doOnTick=function(t){1<arguments.length&&(t=bind.apply(this,arguments)),this._onTick.push(t)},this._tick=function(t){if(null!==this._countdown&&(this._countdown--,-1===this._countdown&&(this.pause(),this._countdown=null)),this._ctx){var i=this._ctx.getElement(),e=this._view.style;!i||e.width==i.width/e.scale&&e.height==i.height/e.scale||(e.width=i.width/e.scale,e.height=i.height/e.scale)}for(i=0;e=this._onTick[i];++i)e(t);if(e=this._inputListener.getEvents(),i=e.length,this._events=e,this._opts._mergeMoveEvents)for(var s=!1,i=i-1;0<=i;--i)e[i].type==dispatch.eventTypes.MOVE&&(s?e.splice(i,1):s=!0);for(i=0;s=e[i];++i)s.srcApp=this,dispatch.dispatchEvent(this._view,s);if(device.useDOM||(0<i?this._opts.repaintOnEvent&&this.needsRepaint():this._opts.continuousInputCheck&&(i=dispatch._evtHistory["input:move"])&&dispatch.dispatchEvent(this._view,new dispatch.InputEvent(i.id,i.type,i.srcPt))),this._opts.dtFixed)for(this._tickBuffer+=t;this._tickBuffer>=this._opts.dtFixed;)this._tickBuffer-=this._opts.dtFixed,this.now+=this._opts.dtFixed,this.__tick(this._opts.dtFixed);else this.__tick(t);this._reflowMgr.reflowViews(this._ctx),i=this._opts.alwaysRepaint||this._needsRepaint,!i&&this._doubleBuffered&&0<this._doubleBufferedState?(--this._doubleBufferedState,this.render(t)):i&&(this._doubleBufferedState=3,this.render(t)),this._needsRepaint=!1},this.render=function(t){this._opts.clearEachFrame&&this._ctx&&this._ctx.clear(),this._view.__view.constructor.absScale=1,this._view.__view.wrapRender(this._ctx,{}),this.publish("Render",this._ctx),this._ctx&&(DEBUG&&this._renderFPS(this._ctx,t),this._ctx.swap())},this.needsRepaint=function(){return this._needsRepaint=!0,this},this.__tick=function(t){this._tickFPS(t),this.publish("Tick",t),this._view.__view.wrapTick(t,this)}});exports.get=function(){return __instance};',pre:!0},"modules/devkit-core/modules/timestep/src/event/input/dispatch.js":{path:"modules/devkit-core/modules/timestep/src/event/input/dispatch.js",friendlyPath:"event.input.dispatch",directory:"modules/devkit-core/modules/timestep/src/event/input/",filename:"dispatch.js",src:'jsio("import math.geom.Point as Point"),jsio("import device"),jsio("import lib.Enum"),exports.eventTypes=new lib.Enum("START","MOVE","SELECT","SCROLL","CLEAR"),exports.VERTICAL_AXIS=2,exports.HORIZONTAL_AXIS=1,exports.dispatchEvent=function(t,e){e.root=t,exports.traceEvt(t,e,e.srcPt);var r=e.depth;exports._evtHistory[e.type]=e;for(var n=exports._evtCb[e.type]||exports.getEvtCbName(e.type),o=r-1;0<=o;--o){var i=e.trace[o],p=e.pt[i.uid];if(i.publish(n+"Capture",e,p,0==o),e.cancelled||i.__input.blockEvents)return}for(var s="on"+n,o=0;o<r&&(i=e.trace[o],!i.__input.canHandleEvents||(p=e.pt[i.uid],i[s]&&i[s](e,p,0==o),i.publish(n,e,p,0==o),i._onEventPropagate(e,p,0==o),!e.cancelled));++o);},exports.traceEvt=function(t,e,r){if(r=t.style.localizePoint(new Point(r)),!t.getInput().containsEvent(e,r))return!1;var n=t.getInput().canHandleEvents;n&&(e.depth++,e.trace.unshift(t),e.pt[t.uid]=r);for(var o=t.getSubviews(),i=o.length-1;0<=i;--i)if(o[i].style.visible&&exports.traceEvt(o[i],e,r))return!0;return n?(e.target=t,!0):void 0},exports._evtHistory={},exports._activeInputOver={},exports.clearOverState=function(t){if(t){var e=exports._activeInputOver[t];if(e&&(delete exports._activeInputOver[t],e=e.trace))for(var r,n=0;r=e[n];++n)r.__input.onLeave(t)}else for(t in exports._activeInputOver)exports.clearOverState(t)},exports._isDragging=!1,exports.isDragging=function(){return exports._isDragging},exports._evtCb={},exports.getEvtCbName=function(t){var e=exports.eventTypes[t];return exports._evtCb[t]="Input"+e.charAt(0)+e.substring(1).toLowerCase()},exports.InputListener=device.get("Input"),exports.KeyListener=device.get("KeyListener"),jsio("import .InputEvent as exports.InputEvent");',pre:!0},"modules/devkit-core/node_modules/jsio/packages/math/geom/Point.js":{path:"modules/devkit-core/node_modules/jsio/packages/math/geom/Point.js",friendlyPath:"math.geom.Point",directory:"modules/devkit-core/node_modules/jsio/packages/math/geom/",filename:"Point.js",baseMod:"math",basePath:"/Users/tsunami/projects/devkitPoj/helloworld/modules/devkit-core/node_modules/jsio/packages/math",src:'var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_node_modules_jsio_packages_math_geom_Point=__class__,Point=exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_node_modules_jsio_packages_math_geom_Point(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,n){switch(arguments.length){case 0:this.y=this.x=0;break;case 1:this.x=t.x||0,this.y=t.y||0;break;case 2:this.x=t||0,this.y=n||0}},this.rotate=function(t){var n=this.x,i=this.y,e=Math.cos(t),t=Math.sin(t);return this.x=n*e-i*t,this.y=n*t+i*e,this},this.translate=this.add=function(t,n){return"number"==typeof t?(this.x+=t,this.y+=n):(this.x+=t.x,this.y+=t.y),this},this.subtract=function(t,n){return"number"==typeof t?(this.x-=t,this.y-=n):(this.x-=t.x,this.y-=t.y),this},this.scale=function(t,n){return void 0===n&&(n=t),this.x*=t,this.y*=n,this},this.setMagnitude=function(t){var n=this.getAngle();return this.x=t*Math.cos(n),this.y=t*Math.sin(n),this},this.normalize=function(){var t=this.getMagnitude();return this.x/=t,this.y/=t,this},this.addMagnitude=function(t){return this.setMagnitude(this.getMagnitude()+t)},this.getMagnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},this.getSquaredMagnitude=function(){return this.x*this.x+this.y*this.y},this.getDirection=this.getAngle=function(){return Math.atan2(this.y,this.x)}});Point.getPolarR=function(){throw"notImplemented"},Point.getPolarTheta=function(t,n){var i=Math.atan2(n,t)+2*Math.PI;return i>2*Math.PI?i%(2*Math.PI):i},Point.add=Point.translate=function(t,n,i,e){switch(arguments.length){case 2:return new Point(t).add(n);case 3:return new Point(t).add(n,i);case 4:return new Point(t,n).add(i,e)}},Point.subtract=function(t,n,i,e){switch(arguments.length){case 2:return new Point(t).subtract(n);case 3:return new Point(t).subtract(n,i);case 4:return new Point(t,n).subtract(i,e)}},Point.scale=function(t,n,i){switch(arguments.length){case 2:return new Point(t).scale(n);case 3:return new Point(t,n).scale(i)}},Point.setMagnitude=function(t,n,i){switch(arguments.length){case 2:return new Point(t).setMagnitude(i);case 3:return new Point(t,n).setMagnitude(i)}},Point.addMagnitude=function(t,n,i){switch(arguments.length){case 2:pt=new Point(t);break;case 3:pt=new Point(t,n),n=i}return pt.addMagnitude(n)},Point.getMagnitude=function(t,n){return new Point(t,n).getMagnitude()},Point.rotate=function(t,n,i){switch(arguments.length){case 2:return new Point(t).rotate(n);case 3:return new Point(t,n).rotate(i)}},Point.project=function(t,n){var i=new Point(n).normalize();return i.scale(i.x*t.x+i.y*t.y)};',pre:!0},"modules/devkit-core/modules/timestep/src/event/input/InputEvent.js":{path:"modules/devkit-core/modules/timestep/src/event/input/InputEvent.js",friendlyPath:".InputEvent",directory:"modules/devkit-core/modules/timestep/src/event/input/",filename:"InputEvent.js",src:'jsio("import math.geom.Point as Point"),jsio("import timer");var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_event_input_InputEvent=__class__,InputEvent=exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_event_input_InputEvent(function(){return this.init&&this.init.apply(this,arguments)},function(){this.cancelled=!1,this.depth=0,this.init=function(t,i,s,e,n,o){this.id=t,this.type=i,this.point=this.pt={},this.srcPoint=this.srcPt=new Point(s,e),this.trace=[],this.root=n||null,this.when=timer.now,this.target=o||null},this.cancel=function(){this.cancelled=!0},this.clone=function(){return new InputEvent(this.id,this.type,this.srcPt.x,this.srcPt.y,this.root,this.target)}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/ReflowManager.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/ReflowManager.js",friendlyPath:"ui.backend.ReflowManager",directory:"modules/devkit-core/modules/timestep/src/ui/backend/",filename:"ReflowManager.js",src:'var DEBUG_REFLOW=!1,DEBUG_TIME=!1;if(DEBUG_REFLOW||DEBUG_TIME){var _debug={space:"",stepIn:function(){return this.space+=" ",!0},stepOut:function(){return this.space=this.space.slice(0,this.space.length-1),!0},log:function(){return logger.log.apply(logger,[this.space].concat(Array.prototype.slice.call(arguments,0))),!0}};logger.LOG&&console.log("LOG","ui.backend.ReflowManager","===== CREATING REFLOW MANAGER")}var MAX_REFLOW_THRESHOLD=20,_pool=new(Class(function(){this._pool=[],this.recycle=function(e){e.view=null,this._pool.push(e)},this.get=function(e){var t=this._pool.pop()||{};return t.view=e,t.count=0,t.needsReflow=!1,t}})),Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_ReflowManager=__class__,ReflowManager=exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_ReflowManager(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){this._pending={},this._pendingCount=this._iter=0},this.add=function(e){if(e.style.layout){var t=e.uid,t=this._pending[t]||(this._pending[t]=_pool.get(e));t.needsReflow||(++this._pendingCount,t.needsReflow=!0,DEBUG_REFLOW&&_debug.log("adding "+e+" ("+e.uid+")"+(" "+e.style.layout||"")+":",(void 0===e.style.width?"?":e.style.width)+"x"+(void 0===e.style.height?"?":e.style.height))),t.iter!=this._iter&&(t.iter=this._iter)}},this.reflow=function(e){void 0===e.style.__cachedWidth&&(e.style.__cachedWidth=e.style.width),void 0===e.style.__cachedHeight&&(e.style.__cachedHeight=e.style.height);var t=this._pending[e.uid];if(t&&t.needsReflow&&(t.needsReflow=!1,--this._pendingCount),e.__layout&&e.__layout.reflow(),e.reflow&&e.reflow(),e.__layout&&(t=e.style,t.__cachedWidth!=t.width||t.__cachedHeight!=t.height))for(var e=e.getSubviews(),t=0,i=e.length;t<i;++t)this.add(e[t])},this.reflowViews=function(){if(this._pendingCount){this._iter=0;var e,t;if(DEBUG_REFLOW&&_debug.stepIn(),DEBUG_TIME)var i=Date.now();for(;this._pendingCount;){for(;this._pendingCount;){++this._iter,e=0;for(t in this._pending){DEBUG_REFLOW&&0==e&&1==this._iter&&console.log(" == beginning reflow == ");var n=this._pending[t];if(n.count>MAX_REFLOW_THRESHOLD){logger.WARN&&console.warn("WARN","ui.backend.ReflowManager","reflow loop detected for view",n.view.uid),this.cleanUp();break}n.needsReflow&&(++n.count,DEBUG_REFLOW&&_debug.log("-- reflow view",n.view.uid,"("+n.count+" times)")&&_debug.stepIn(),this.reflow(n.view),DEBUG_REFLOW&&_debug.stepOut(),++e)}DEBUG_REFLOW&&e&&_debug.log("***** iteration",this._iter,"reflowed",e,"views")}for(t in this._pending)if(e=this._pending[t].view,e.hasListeners("resize")){var n=e.style,_=n.width,o=n.height;n.__cachedWidth==_&&n.__cachedHeight==o||(DEBUG_REFLOW&&_debug.log("view",e.uid,"resize event firing",_+"x"+o,"(prev: "+n.__cachedWidth+"x"+n.__cachedHeight+")"),n.__cachedWidth=_,n.__cachedHeight=o,e.emit("resize"))}}this.cleanUp(),DEBUG_REFLOW&&_debug.stepOut(),DEBUG_TIME&&this._iter&&(t=Date.now(),_debug.log("total reflow time:",t-i))}},this.cleanUp=function(){for(var e in this._pending)_pool.recycle(this._pending[e]),delete this._pending[e];this._pendingCount=0}}),_instance=null;exports.get=function(){return _instance||(_instance=new ReflowManager)};',pre:!0},"modules/devkit-core/modules/timestep/src/ui/StackView.js":{path:"modules/devkit-core/modules/timestep/src/ui/StackView.js",friendlyPath:".StackView",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"StackView.js",src:'jsio("import ui.View as View"),jsio("import animate");var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_StackView=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_StackView(function(){return this.init&&this.init.apply(this,arguments)},View,function(t){this.init=function(i){i=merge(i,{layout:"box"}),t(this,"init",[i]),this.stack=[]},this.getStack=function(){return this.stack},this.getCurrentView=function(){return this.stack.length?this.stack[this.stack.length-1]:null},this.push=function(t,i,s){!this.stack[0]&&!1!==i&&(i=!0);var e=this.getCurrentView();return e&&this._hide(e,i),t.style.y=0,t.style.width=this.style.width/t.style.scale,t.style.height=this.style.height/t.style.scale,this.stack.push(t),this._show(t,i,s),t},this._hide=function(t,i,s){t.publish("ViewWillDisappear"),i?(this.removeSubview(t),t.publish("ViewDidDisappear")):(this.getInput().blockEvents=!0,animate(t).then({x:(s?1:-1)*this.style.width}).then(bind(this,function(){this.removeSubview(t),t.publish("ViewDidDisappear"),this.getInput().blockEvents=!1})))},this._show=function(t,i,s){t.publish("ViewWillAppear"),t.style.visible=!0,i?(this.addSubview(t),t.style.x=0,t.publish("ViewDidAppear")):(t.style.x=(s?-1:1)*this.style.width,this.addSubview(t),animate(t).then({x:0}).then(bind(t,"publish","ViewDidAppear")))},this.hasView=function(t){return 0<=this.stack.indexOf(t)},this.remove=function(t){t=this.stack.indexOf(t),0<=t&&this.stack.splice(t,1)},this.pop=function(t,i){if(!this.stack.length)return!1;var s=this.stack.pop();return this._hide(s,t,!1!==i),this.stack.length&&this._show(this.stack[this.stack.length-1],t,!0),s},this.popAll=function(t){for(;this.stack[1];)this.pop(t)}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/View.js":{path:"modules/devkit-core/modules/timestep/src/ui/View.js",friendlyPath:"ui.View",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"View.js",src:'jsio("import device"),jsio("import event.Emitter as Emitter"),jsio("import math.geom.Point as Point"),jsio("import math.geom.Rect as Rect"),jsio("import .backend.canvas.ViewBacking"),jsio("import ui.backend.ReflowManager as ReflowManager");var _reflowMgr=ReflowManager.get();jsio("import event.input.dispatch as dispatch"),jsio("import event.input.InputHandler as InputHandler"),jsio("import animate"),jsio("import util.setProperty");var EventScheduler=__class__,EventScheduler=EventScheduler(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){this._queue=[]},this.add=function(t){if(this._queue.push(t),!this._running){for(this._running=!0;t=this._queue.shift();)t();this._running=!1}}}),scheduler=new EventScheduler,FocusMgr=new(Class(function(){this.init=function(){this._target=null,this._canChange=!0},this.focus=function(t){this._target!=t&&this._canChange&&(this._target&&this._target.onBlur&&this._target.onBlur(this),(this._target=t)&&t.onFocus&&this._target.onFocus(this))},this.blur=function(t){t.onBlur&&t.onBlur(this),this._target=!1},this.get=function(){return this}})),UID=0,_BackingCtor=null,Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_View=__class__,View=exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_View(function(){return this.init&&this.init.apply(this,arguments)},Emitter,function(){this.init=function(t){t||(t={}),this.uid=++UID,this.__rightSibling=this.__leftSibling=this.__children=this.__parent=null,this.__input=new InputHandler(this,t),this.__view=this.style=new(t.Backing||_BackingCtor)(this,t),this._filter=null,this.__view._view=this,this.updateOpts(t)},this.updateOpts=function(t){if(t=t||{},this._opts)for(var i in t)this._opts[i]=t[i];else this._opts=t;return t.tag&&(this.tag=t.tag),t.filter&&(this._filter=t.filter),t.infinite&&(this._infinite=t.infinite),this.style.update(t),this.__input.update(t),t.centerAnchor&&(this.style.anchorX=(this.style.width||0)/2,this.style.anchorY=(this.style.height||0)/2),t.superview&&t.superview.addSubview(this),t.parent&&t.parent.addSubview(this),t},this.getFilters=function(){logger.WARN&&console.warn("WARN","ui.View","View.getFilters() is deprecated! Use View.getFilter() instead.");var t={};return this._filter&&(t[this._filter.getType()]=this._filter),t},this.getFilter=function(){return this._filter},this.addFilter=function(t){logger.WARN&&console.warn("WARN","ui.View","View.addFilter() is deprecated! Use View.setFilter() instead."),this.setFilter(t)},this.setFilter=function(t){this._filter=t},this.removeFilter=function(){this._filter=null},util.setProperty(this,"render",{value:void 0,cb:function(){this.__view&&(this.__view.hasJSRender=!0)}}),util.setProperty(this,"tick",{value:void 0,cb:function(){this.__view&&(this.__view.hasJSTick=!0)}}),this.getAnimation=function(t){return animate(this,t)},this.animate=function(t,i,e){return this.getAnimation().then(t,i,e)},this.focus=function(){return FocusMgr.get().focus(this),this},this.blur=function(){return FocusMgr.get().blur(this),this},this.onFocus=function(){this._isFocused=!0},this.onBlur=function(){this._isFocused=!1},this.isDragging=function(){return this.__input.isDragging()},this.startDrag=function(t){this.__input.startDrag(t)},this.getInput=function(){return this.__input},this.isInputOver=function(){return!!this.__input.overCount},this.getInputOverCount=function(){return this._inputOverCount},this.setHandleEvents=this.canHandleEvents=function(t,i){this.__input.canHandleEvents=t,"boolean"==typeof i&&(this.__input.blockEvents=i)},this.setIsHandlingEvents=function(t){this.__input.canHandleEvents=t},this.isHandlingEvents=function(){return this.__input.canHandleEvents},this.needsRepaint=function(){this._needsRepaint=!0},this.needsReflow=function(){(this.reflow!=t||this.style.layout)&&(_reflowMgr.add(this),this._needsRepaint=!0)},this.reflowSync=function(){_reflowMgr.reflow(this)},this._onEventPropagate=function(t,i,e){if(e){var n,i=t.id;switch(t.type){case dispatch.eventTypes.SELECT:case dispatch.eventTypes.CLEAR:dispatch._evtHistory[dispatch.eventTypes.MOVE]=null,(e=dispatch._activeInputOver[i])&&dispatch.clearOverState(i);break;case dispatch.eventTypes.START:case dispatch.eventTypes.MOVE:var s=t.trace[0],r=null;if((e=dispatch._activeInputOver[i])&&s!=e.trace[0]){var h=e.trace;for(n=0;r=h[n];++n)r.uid in t.pt||r.__input.onLeave(i,s==r)}if(!e||s!=e.trace[0]){for(h=t.trace,n=t.depth-1;0<=n;--n)h[n].__input.onEnter(i,s==r);dispatch._activeInputOver[i]=t}}}},this.localizePoint=function(t){var i=this.getParents(),e=0;for(i.push(this);i[e];)t=i[e++].__view.localizePoint(t);return t},this.getSubview=function(t){return this.__view.getSubviews()[t]},this.getSubviews=function(){return this.__view.getSubviews()},this.getSuperview=function(){return this.__view.getSuperview()},this.connectEvent=function(t,i){this.__subs||(this.__subs=[],this.on("ViewAdded",bind(this,"_connectEvents")),this.on("ViewRemoved",bind(this,"_disconnectEvents")),this.__root&&this._connectEvents());var e=Array.prototype.slice.call(arguments,1);this.__subs.push([t,e]),this.__root&&t.on.apply(t,e)},this.disconnectEvent=function(t,i){if(this.__subs)for(var e,n=Array.prototype.slice.call(arguments,1),s=0;e=this.__subs[s];++s){var r;if(r=e[0]==t)t:{r=0;for(var h=n.length;r<h;++r)if(n[r]!=e[1][r]){r=!1;break t}r=!0}r&&(e[0].removeListener.apply(e[0],e[1]),this.__subs.splice(s--,1))}},this._connectEvents=function(){for(var t,i=0;t=this.__subs[i];++i)t[0].on.apply(t[0],t[1])},this._disconnectEvents=function(){for(var t,i=0;t=this.__subs[i];++i)t[0].removeListener.apply(t[0],t[1])},this.addSubview=function(t){if(this.__view.addSubview(t)&&(t.needsRepaint(),this._linkView(t),t.__input.resetOver(),this.publish("SubviewAdded",t),this.__root)){var i=this.__root;scheduler.add(bind(this,function e(n){n.style.__firstRender||(n.style.__firstRender=!0,n.needsReflow()),n.__root=i,n.emit("ViewAdded",t);for(var s,n=n.getSubviews(),r=0;s=n[r];++r)e(s)},t))}return t},this._linkView=function(t){this._unlinkView(t),this.__children&&(this.__children.__leftSibling=t),t.__leftSibling=null,t.__rightSibling=this.__children,this.__children=t,t.__parent=this},this._unlinkView=function(t){t.__parent&&(t.__leftSibling&&(t.__leftSibling.__rightSibling=t.__rightSibling),t.__rightSibling&&(t.__rightSibling.__leftSibling=t.__leftSibling),t.__parent.__children==t&&(t.__parent.__children=t.__rightSibling),t.__leftSibling=null,t.__rightSibling=null,t.__parent=null)},this.removeSubview=function(t){return this.__view.removeSubview(t)&&(this._unlinkView(t),this.publish("SubviewRemoved",t),t.__root&&scheduler.add(bind(this,function t(i){i.__root=null,i.emit("ViewRemoved",this);for(var e,i=i.getSubviews(),n=0;e=i[n];++n)t(e)},t))),t},this.removeFromSuperview=function(){var t=this.__view.getSuperview();t&&t.removeSubview(this)},this.removeAllSubviews=function(){for(var t=this.getSubviews(),i=t.length;i--;)this.removeSubview(t[i])},util.setProperty(this,"_superview",{get:this.getSuperview,set:function(){}}),util.setProperty(this,"_subviews",{get:this.getSubviews,set:function(){}});var t=function(){};this.reflow=t,this.getEngine=this.getApp=function(){return this.__root},this.getParents=this.getSuperviews=function(){for(var t=[],i=this.getSuperview();i;)t.unshift(i),i=i.getSuperview();return t},this.buildView=function(){},this.containsLocalPoint=function(t){if(this._infinite)return!0;var i=this.style,e=i.width,i=i.height;return 0<e&&0<i?t.x<=e&&t.y<=i&&0<=t.x&&0<=t.y:0<e?t.x<=e&&t.y>=i&&0<=t.x&&0>=t.y:0<i?t.x>=e&&t.y<=i&&0>=t.x&&0<=t.y:t.x>=e&&t.y>=i&&0>=t.x&&0>=t.y},this._boundingShape={},this.getBoundingShape=function(t){if(this._infinite)return!0;var i=this.style,e=i.width,n=i.height;if((!e||!n)&&i.layout){var s=this.getSuperview();s&&(s=s.getBoundingShape(!0),e||(e=s.width,i.layoutWidth&&(e*=parseInt(i.layoutWidth)/100)),!n)&&(n=s.height,i.layoutHeight&&(n*=parseInt(i.layoutHeight)/100))}return t?(this._boundingShape.x=i.x,this._boundingShape.y=i.y,this._boundingShape.width=e*i.scale,this._boundingShape.height=n*i.scale,this._boundingShape):new Rect(i.x,i.y,e*i.scale,n*i.scale)},this.getRelativeRegion=function(t,i){var e=this.getPosition(i||t.src);return new Rect((t.x-e.x)/e.scale,(t.y-e.y)/e.scale,t.width/e.scale,t.height/e.scale)},this.getPosition=function(t){for(var i=new Point,e=this,n=0,s=this.style,r=s.width,s=s.height,h=1;e&&e!=t;){var o=e.style.scale;i.add(-e.style.anchorX,-e.style.anchorY),i.rotate(e.style.r),i.scale(o),i.add(e.style.anchorX+e.style.x+e.style.offsetX,e.style.anchorY+e.style.y+e.style.offsetY),n+=e.style.r,r*=o,s*=o,h*=o,e=e.__view.getSuperview()}return{x:i.x,y:i.y,r:n%(2*Math.PI),width:r,height:s,scale:h,anchorX:this.style.anchorX,anchorY:this.style.anchorY}},this.getBacking=function(){return this.__view},this.show=function(){this.style.visible=!0,this.needsRepaint()},this.hide=function(){this.style.visible=!1,this.needsRepaint()},this.toString=this.getTag=function(){var t="View";return DEBUG&&(this.__tagClassName?t=this.__tagClassName:((t=this.constructor.name)||(t=this.constructor.toString().match(/^function ([^(]*)/)[1]),t&&(t=t.substr(t.lastIndexOf("_")+1)),this.__tagClassName=t||"unknown")),t+this.uid+(this.tag?":"+this.tag:"")}}),_extensions=[];View.addExtension=function(t){t.extend(View.BackingCtor),_extensions.push(t)},View.setDefaultViewBacking=function(t){_BackingCtor=View.BackingCtor=t,_extensions.forEach(function(t){t.extend(_BackingCtor)})},View.setDefaultViewBacking(backend.canvas.ViewBacking);',
pre:!0},"modules/devkit-core/node_modules/jsio/packages/math/geom/Rect.js":{path:"modules/devkit-core/node_modules/jsio/packages/math/geom/Rect.js",friendlyPath:"math.geom.Rect",directory:"modules/devkit-core/node_modules/jsio/packages/math/geom/",filename:"Rect.js",src:'jsio("import lib.Enum"),jsio("import .Point"),jsio("import .Line"),jsio("import .intersect");var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_node_modules_jsio_packages_math_geom_Rect=__class__,Rect=exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_node_modules_jsio_packages_math_geom_Rect(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,i,h,s){switch(arguments.length){case 0:this.width=this.height=this.x=this.y=0;break;case 1:this.width=t.width,this.height=t.height,this.x=t.x,this.y=t.y;break;case 2:this.x=t.x,this.y=t.y,this.width=i.x,this.height=i.y;break;case 3:this.x=t.x,this.y=t.y,this.width=i,this.height=h;break;case 4:this.x=t,this.y=i,this.width=h,this.height=s}},this.normalize=function(){return 0>this.width&&(this.x-=this.width,this.width=-this.width),0>this.height&&(this.y-=this.height,this.height=-this.height),this},this.intersectRect=function(t){if(intersect.isRectAndRect(this,t)){var i=this.y,h=this.x+this.width,s=this.y+this.height;this.x=Math.max(this.x,t.x),this.y=Math.max(i,t.y),this.width=Math.min(h,t.x+t.width)-this.x,this.height=Math.min(s,t.y+t.height)-this.y}else this.height=this.width=0},this.unionRect=function(t){this.normalize(),t.normalize&&t.normalize();var i=this.x+this.width,h=this.y+this.height,s=t.x+t.width,e=t.y+t.height;this.x=this.x<t.x?this.x:t.x,this.y=this.y<t.y?this.y:t.y,this.width=(i>s?i:s)-this.x,this.height=(h>e?h:e)-this.y},this.getCorner=function(t){switch(t){case CORNERS.TOP_LEFT:return new Point(this.x,this.y);case CORNERS.TOP_RIGHT:return new Point(this.x+this.width,this.y);case CORNERS.BOTTOM_LEFT:return new Point(this.x,this.y+this.height);case CORNERS.BOTTOM_RIGHT:return new Point(this.x+this.width,this.y+this.height)}},this.getSide=function(t){switch(t){case SIDES.TOP:return new Line(this.getCorner(CORNERS.TOP_LEFT),this.getCorner(CORNERS.TOP_RIGHT));case SIDES.RIGHT:return new Line(this.getCorner(CORNERS.TOP_RIGHT),this.getCorner(CORNERS.BOTTOM_RIGHT));case SIDES.BOTTOM:return new Line(this.getCorner(CORNERS.BOTTOM_RIGHT),this.getCorner(CORNERS.BOTTOM_LEFT));case SIDES.LEFT:return new Line(this.getCorner(CORNERS.BOTTOM_LEFT),this.getCorner(CORNERS.TOP_LEFT))}},this.getCenter=function(){return new Point(this.x+this.width/2,this.y+this.height/2)}}),SIDES=Rect.SIDES=lib.Enum("TOP","BOTTOM","LEFT","RIGHT"),CORNERS=Rect.CORNERS=lib.Enum("TOP_LEFT","TOP_RIGHT","BOTTOM_RIGHT","BOTTOM_LEFT");',pre:!0},"modules/devkit-core/node_modules/jsio/packages/math/geom/Line.js":{path:"modules/devkit-core/node_modules/jsio/packages/math/geom/Line.js",friendlyPath:".Line",directory:"modules/devkit-core/node_modules/jsio/packages/math/geom/",filename:"Line.js",src:'jsio("import .Point");var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_node_modules_jsio_packages_math_geom_Line=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_node_modules_jsio_packages_math_geom_Line(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,e,i,s){switch(arguments.length){case 0:this.start=new Point,this.end=new Point;break;case 1:this.start=new Point(t.start),this.end=new Point(t.end);break;case 2:this.start=new Point(t),this.end=new Point(e);break;case 3:this.start=new Point(t),this.end=new Point(e,i);break;default:this.start=new Point(t,e),this.end=new Point(i,s)}},this.getMagnitude=this.getLength=function(){var t=this.end.x-this.start.x,e=this.end.y-this.start.y;return Math.sqrt(t*t+e*e)}});',pre:!0},"modules/devkit-core/node_modules/jsio/packages/math/geom/intersect.js":{path:"modules/devkit-core/node_modules/jsio/packages/math/geom/intersect.js",friendlyPath:".intersect",directory:"modules/devkit-core/node_modules/jsio/packages/math/geom/",filename:"intersect.js",src:'jsio("import .Point"),jsio("import .Line"),jsio("import .Rect");var intersect=exports;intersect.pointAndRect=intersect.ptAndRect=function(t,e){var n=t.x,i=t.y;return n>=e.x&&n<=e.x+e.width&&i>=e.y&&i<=e.y+e.height},intersect.rectAndPoint=intersect.rectAndPt=function(t,e){return intersect.pointAndRect(e,t)},intersect.pointAndCircle=intersect.ptAndCirc=function(t,e){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i<e.radius*e.radius},intersect.circleAndPoint=intersect.circAndPt=function(t,e){return intersect.pointAndCircle(e,t)},intersect.circleAndCircle=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.radius+e.radius;return n*n+i*i<=r*r},intersect.isRectAndRect=function(t,e){return!(t.y+t.height<e.y||e.y+e.height<t.y||t.x+t.width<e.x||e.x+e.width<t.x)},intersect.circleAndRect=function(t,e){return!!intersect.pointAndRect(t,e)||(intersect.lineAndCircle(e.getSide(1),t)||intersect.lineAndCircle(e.getSide(2),t)||intersect.lineAndCircle(e.getSide(3),t)||intersect.lineAndCircle(e.getSide(4),t))},intersect.rectAndCircle=function(t,e){return intersect.circleAndRect(e,t)},intersect.lineAndCircle=function(t,e){return intersect.pointToLine(e,t).getMagnitude()<e.radius},intersect.circleAndLine=function(t,e){return intersect.lineAndCircle(e,t)},intersect.pointToLine=intersect.ptToLine=function(t,e){var n=e.end.x-e.start.x,i=e.end.y-e.start.y,r=((t.x-e.start.x)*n+(t.y-e.start.y)*i)/(n*n+i*i),n=0>r?new Point(e.start):1<r?new Point(e.end):new Point(e.start.x+r*n,e.start.y+r*i);return new Line(n,t)},intersect.rectAndRect=function(t,e){return jsio("import .Rect"),(intersect.rectAndRect=function(t,e){if(!0===t||!0===e)return new Rect(e);if(intersect.isRectAndRect(t,e)){var n=Math.max(t.x,e.x),i=Math.max(t.y,e.y),r=Math.min(t.x+t.width,e.x+e.width),c=Math.min(t.y+t.height,e.y+e.height);return new Rect(n,i,r-n,c-i)}return null})(t,e)};',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/canvas/ViewBacking.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/ViewBacking.js",friendlyPath:".backend.canvas.ViewBacking",directory:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/",filename:"ViewBacking.js",src:'jsio("import ..strPad"),jsio("import ..BaseBacking");var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_canvas_ViewBacking=__class__,ViewBacking=exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_canvas_ViewBacking(function(){return this.init&&this.init.apply(this,arguments)},BaseBacking,function(){var i={a:1,b:0,c:0,d:1,tx:0,ty:0},t=Math.sin,s=Math.cos;this.init=function(i){this._globalTransform={a:1,b:0,c:0,d:1,tx:0,ty:0},this._cachedSin=this._cachedRotation=0,this._globalOpacity=this._cachedCos=1,this._view=i,this._superview=null,this._subviews=[],this._childCount=0},this.getSuperview=function(){return this._superview},this.getSubviews=function(){this._needsSort&&(this._needsSort=!1,this._subviews.sort());for(var i=[],t=this._subviews,s=t.length,e=0;e<s;++e)i[e]=t[e]._view;return i};var e=9e5;this.addSubview=function(i){var t=i.__view,s=t._superview;return s!=this._view&&this!=t&&(s&&s.__view.removeSubview(i),i=this._subviews.length,this._subviews[i]=t,t._superview=this._view,t._setAddedAt(++e),this._childCount++,i&&t.__sortKey<this._subviews[i-1].__sortKey&&(this._needsSort=!0),!0)},this.removeSubview=function(i){var t=this._subviews.indexOf(i.__view);return-1!=t&&(this._subviews.splice(t,1),this._childCount--,i.__view._superview=null,!0)},this.wrapTick=function(i,t){this._view._tick&&this._view._tick(i,t);for(var s=this._subviews,e=0;e<this._childCount;++e)s[e].wrapTick(i,t)},this.updateGlobalTransform=function(){var e,h=this.flipX?-1:1,_=this.flipY?-1:1,r=this._superview&&this._superview.__view;r?(e=r._globalTransform,this._globalOpacity=r._globalOpacity*this.opacity):(e=i,this._globalOpacity=this.opacity);var r=this._globalTransform,o=this.scaleX*this.scale*h,a=this.scaleY*this.scale*_,_=this.flipX?this._width-this.anchorX:this.anchorX,h=this.flipY?this._height-this.anchorY:this.anchorY,n=this.x+this.offsetX+this.anchorX,c=this.y+this.offsetY+this.anchorY;if(0===this.r)n-=_*o,c-=h*a,r.a=e.a*o,r.b=e.b*o,r.c=e.c*a,r.d=e.d*a;else{this.r!==this._cachedRotation&&(this._cachedRotation=this.r,this._cachedSin=t(this.r),this._cachedCos=s(this.r));var d=this._cachedCos*o,o=this._cachedSin*o,l=-this._cachedSin*a,a=this._cachedCos*a;(_||h)&&(n-=d*_+l*h,c-=o*_+a*h),r.a=d*e.a+o*e.c,r.b=d*e.b+o*e.d,r.c=l*e.a+a*e.c,r.d=l*e.b+a*e.d}r.tx=n*e.a+c*e.c+e.tx,r.ty=n*e.b+c*e.d+e.ty},this.wrapRender=function(i,t){if(this.visible){this._needsSort&&(this._needsSort=!1,this._subviews.sort());var s=this._width,e=this._height;if(!(0>s||0>e)){var h=this.clip||this.compositeOperation||!this._view.__parent;h&&i.save(),this.updateGlobalTransform();var _=this._globalTransform;i.setTransform(_.a,_.b,_.c,_.d,_.tx,_.ty),i.globalAlpha=this._globalOpacity,this.clip&&i.clipRect(0,0,s,e),(_=this._view.getFilter())?i.setFilter(_):i.clearFilter(),this.compositeOperation&&(i.globalCompositeOperation=this.compositeOperation),this.backgroundColor&&(i.fillStyle=this.backgroundColor,i.fillRect(0,0,s,e)),s=t.viewport,this._view._render&&this._view._render(i,t),this._renderSubviews(i,t),t.viewport=s,i.clearFilter(),h&&i.restore()}}},this._renderSubviews=function(i,t){for(var s=this._subviews,e=0;e<this._childCount;e++)s[e].wrapRender(i,t)},this._onResize=function(){this._view.needsReflow();var i=this._view.style;i.centerAnchor&&(i.anchorX=(i.width||0)/2,i.anchorY=(i.height||0)/2)},this._sortIndex=strPad.initialValue,this._onZIndex=function(i,t){this._sortIndex=strPad.pad(t),this._setSortKey(),this._view.needsRepaint();var s=this._view.getSuperview();s&&(s.__view._needsSort=!0)},this._setAddedAt=function(i){this._addedAt=i,this._setSortKey()},this._setSortKey=function(){this.__sortKey=this._sortIndex+this._addedAt},this._onOffsetX=function(i){this.offsetX=i*this.width/100},this._onOffsetY=function(i){this.offsetY=i*this.height/100},this.toString=function(){return this.__sortKey}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/strPad.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/strPad.js",friendlyPath:"..strPad",directory:"modules/devkit-core/modules/timestep/src/ui/backend/",filename:"strPad.js",src:'var LEN=8,MAX=99999999,MIN=-99999999,PAD="00000000";exports.initialValue=PAD,exports.pad=function(t){return t=~~t,t<MIN&&(t=MIN),t>MAX&&(t=MAX),0>t?(t*=-1,"-"+PAD.substring(0,LEN-(""+t).length)+t):PAD.substring(0,LEN-(""+t).length)+t};',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/BaseBacking.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/BaseBacking.js",friendlyPath:"..BaseBacking",directory:"modules/devkit-core/modules/timestep/src/ui/backend/",filename:"BaseBacking.js",src:'jsio("import util.setProperty as setProperty");var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_BaseBacking=__class__,BaseBacking=exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_BaseBacking(function(){return this.init&&this.init.apply(this,arguments)},function(){var e=this.constructor.styleKeys={},t={x:{value:0},y:{value:0},offsetX:{value:0},offsetY:{value:0},offsetXPercent:{value:void 0,cb:"_onOffsetX"},offsetYPercent:{value:void 0,cb:"_onOffsetY"},anchorX:{value:0},anchorY:{value:0},centerAnchor:{value:!1},width:{cb:"_onResize"},height:{cb:"_onResize"},r:{value:0},opacity:{value:1},zIndex:{value:0,cb:"_onZIndex"},scale:{value:1},scaleX:{value:1},scaleY:{value:1},flipX:{value:!1},flipY:{value:!1},visible:{value:!0},shadowColor:{value:"black"},clip:{value:!1},backgroundColor:{value:""},compositeOperation:{value:void 0}};this.constructor.addProperty=function(t,o){e[t]=!0,setProperty(this.prototype,t,o)};for(var o in t)this.constructor.addProperty(o,t[o]);this.localizePoint=function(e){return e.x-=this.x+this.anchorX+this.offsetX,e.y-=this.y+this.anchorY+this.offsetY,this.r&&e.rotate(-this.r),e.scale(1/this.scale),e.x+=this.anchorX,e.y+=this.anchorY,e},this.copy=function(){var t,o={};for(t in e)o[t]=this[t];return o},this.update=function(t){for(var o in t)t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&(this[o]=t[o]);return this}});',pre:!0},"modules/devkit-core/modules/timestep/src/event/input/InputHandler.js":{path:"modules/devkit-core/modules/timestep/src/event/input/InputHandler.js",friendlyPath:"event.input.InputHandler",directory:"modules/devkit-core/modules/timestep/src/event/input/",filename:"InputHandler.js",src:'jsio("import math.geom.Point as Point"),jsio("import event.input.dispatch as dispatch");var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_event_input_InputHandler=__class__,InputHandler=exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_event_input_InputHandler(function(){return this.init&&this.init.apply(this,arguments)},function(){this.overCount=this.dragCount=this.startCount=0,this.canHandleEvents=!0,this.blockEvents=!1,this.init=function(t,i){this.view=t,this.view.subscribe("InputStart",this,"onInputStart"),this.update(i)},this.update=function(t){"canHandleEvents"in t&&(this.canHandleEvents=t.canHandleEvents),"blockEvents"in t&&(this.blockEvents=t.blockEvents)},this.containsEvent=function(t,i){return!this.blockEvents&&(!this.view._superview||this.view.containsLocalPoint(i))},this.onEnter=function(t,i){var n=this.view,s=this._over||(this._over={});t in s||(s[t]=!0,this.overCount++,n.onInputOver&&n.onInputOver(s,this.overCount,i),n.publish("InputOver",s,this.overCount,i))},this.onLeave=function(t,i){var n=this.view,s=this._over||(this._over={});t in s&&(delete s[t],--this.overCount,n.onInputOut&&n.onInputOut(s,this.overCount,i),n.publish("InputOut",s,this.overCount,i))},this.resetOver=function(){delete this._over,this.overCount=0},this.startDrag=function(t){var t=t||{},i=this.view,n=t.inputStartEvt||t.inputStartEvent||dispatch._evtHistory[dispatch.eventTypes.START],s=n.id,e=this._isDragging||(this._isDragging={});e[s]||(e[s]=!0,++this.dragCount,++this.startCount,s=n.root,i=new dispatch.InputEvent(n.id,"input:drag",n.srcPt.x,n.srcPt.y,s,i),i.didDrag=!1,i.radius=t.radius*t.radius||0,s.subscribe("InputMoveCapture",this,"onDragStart",i),s.subscribe("InputSelectCapture",this,"onDragStop",i))},this.isDragging=function(){return this.dragCount&&dispatch._isDragging},this.onDragStart=function(t,i){var n=i.srcPt.x-t.srcPt.x,s=i.srcPt.y-t.srcPt.y;n*n+s*s<=t.radius||t.didDrag||(t.didDrag=!0,--this.startCount,n=this.view,0==this.startCount&&t.root.unsubscribe("InputMoveCapture",this,"onDragStart"),t.currPt=t.srcPt,t.localPt=n.localizePoint(new Point(t.currPt)),n.onDragStart&&n.onDragStart(t),n.publish("DragStart",t),t.root.subscribe("InputMoveCapture",this,"onDrag",t),this.onDrag(t,i))},this.onDrag=function(t,i){if(t.id==i.id&&(i.srcPt.x!=t.currPt.x||i.srcPt.y!=t.currPt.y)){var n=this.view;t.prevPt=t.currPt,t.currPt=i.srcPt,t.prevLocalPt=t.localPt,t.localPt=n.localizePoint(new Point(t.currPt));var s=Point.subtract(t.localPt,t.prevLocalPt);dispatch._isDragging=!0,n.onDrag&&n.onDrag(t,i,s),n.publish("Drag",t,i,s)}},this.onDragStop=function(t,i){var n=t.id,s=this._isDragging||(this._isDragging={});s[n]&&t.id==i.id&&(delete s[n],--this.dragCount,this.dragCount||(t.root.unsubscribe("InputMoveCapture",this,"onDragStart"),t.root.unsubscribe("InputMoveCapture",this,"onDrag"),t.root.unsubscribe("InputSelectCapture",this,"onDragStop"),dispatch._isDragging=!1),t.didDrag)&&(n=this.view,i.cancel(),n.onDragStop&&n.onDragStop(t,i),n.publish("DragStop",t,i))},this.onInputStart=function(t){0!==this.view.listeners("InputActivate").length&&(this._isDown=!0,this.view.subscribe("InputSelect",this,"onInputSelect"),t.root.subscribeOnce("InputSelect",this,"onGlobalInputSelect"))},this.onInputSelect=function(t,i){this._isDown&&this.view.publish("InputActivate",t,i),this._isDown=!1,this.view.unsubscribe("InputSelect",this,"onInputSelect")},this.onGlobalInputSelect=function(){this._isDown&&this.view.unsubscribe("InputSelect",this,"onInputSelect"),this._isDown=!1}});',pre:!0},"modules/devkit-core/modules/timestep/src/animate.js":{path:"modules/devkit-core/modules/timestep/src/animate.js",friendlyPath:"animate",directory:"modules/devkit-core/modules/timestep/src/",filename:"animate.js",src:'jsio("import ui.backend.canvas.animate as exports");',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/debug/FPSView.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/debug/FPSView.js",friendlyPath:"ui.backend.debug.FPSView",directory:"modules/devkit-core/modules/timestep/src/ui/backend/debug/",filename:"FPSView.js",src:'function strokeRect(t,i,e){t.fillStyle=e,t.fillRect(i.x,i.y,1,i.height),t.fillRect(i.x,i.y,i.width,1),t.fillRect(i.x+i.width-1,i.y,1,i.height),t.fillRect(i.x,i.y+i.height-1,i.width,1)}function fillRect(t,i,e){t.fillStyle=e,t.fillRect(i.x,i.y,i.width,i.height)}jsio("import device"),jsio("import lib.Enum as Enum"),jsio("import math.geom.Rect as Rect"),jsio("import math.geom.intersect as intersect"),jsio("import event.input.dispatch as dispatch");var viewModes=new Enum("FPS","DT"),Graph=__class__,Graph=Graph(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){var i=device.get("Canvas");this._width=t.width,this._height=t.height,this._maxValue=t.maxValue,this._backgroundColor=t.backgroundColor,this._colors=t.colors,this._axisColor=t.axisColor,this._canvas=new i({width:t.width,height:t.height}),this._ctx=this._canvas.getContext("2d"),this._ctx.fillStyle=t.backgroundColor,this._ctx.fillRect(0,0,t.width,t.height),this._index=this._offset=0},this.addValues=function(t,i){var e,s,h=this._ctx,o=this._width,r=this._height,_=this._maxValue,l=(this._offset+this._index)%o;for(h.fillStyle=this._backgroundColor,h.fillRect(l,0,2,r),s=t.length;s;)e=t[--s],e>_&&(e=_),e=~~(e/_*r),h.fillStyle=this._colors[s],h.fillRect(l,r-e,2,e);h.fillStyle=this._axisColor,i&&h.fillRect(l,0,1,r),h.fillRect(l,25,2,1),h.fillRect(l,50,2,1),h.fillRect(l,75,2,1),this._index<o?this._index+=2:(this._offset+=2,this._offset>=o&&(this._offset=0))},this.render=function(t,i,e){var s=this._offset,h=this._width,o=this._height;0===s?t.drawImage(this._canvas,0,0,h,o,i,e,h,o):(t.drawImage(this._canvas,s,0,h-s,o,i,e,h-s,o),t.drawImage(this._canvas,0,0,s,o,h-s+i,e,s,o))}}),Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_debug_FPSView=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_debug_FPSView(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){this._application=t.application,this._time=+new Date+1e3,this._frames=0,this._fps=20,this._dt=10,this._minimized=!0,this._rectTop=new Rect(1,1,200,16),this._rectMin=new Rect(0,0,24,15),this._rectMax=new Rect(0,0,202,117),this._rect=this._rectMin,this._rectFPS=new Rect(141,1,30,15),this._rectDT=new Rect(171,1,30,15),this._borderColor="rgb(100,100,150)",this._backgroundColor="#17182E",this._textColor="#FFFFFF",this._viewMode=viewModes.DT,this._graphs={},this._graphs[viewModes.FPS]=new Graph({width:200,height:100,maxValue:60,backgroundColor:this._backgroundColor,colors:["rgba(170,170,252,0.3)","rgb(170,170,252)"],axisColor:"#FFFFFF"}),this._graphs[viewModes.DT]=new Graph({width:200,height:100,maxValue:66,backgroundColor:this._backgroundColor,colors:["rgba(255,0,0,0.5)","rgb(254,255,170)"],axisColor:"#FFFFFF"})},this.tick=function(t){var i=+new Date;if(i>this._time?(this._time=i+1e3,this._fps=this._frames,this._frames=1):this._frames++,i=this._application.getEvents(),i.length&&this._handleEvents(i),this._dt=.8*this._dt+.2*t,!this._minimized)switch(this._viewMode){case viewModes.DT:this._graphs[viewModes.DT].addValues([this._dt,t],1===this._frames);break;case viewModes.FPS:this._graphs[viewModes.FPS].addValues([this._fps,1e3/t],1===this._frames)}},this._handleEvents=function(t){for(var i=dispatch.eventTypes,e=t.length;e;){var s=t[--e];switch(s.type){case i.START:intersect.ptAndRect(s.srcPt,this._rect)&&(this._minimized?this._minimized=!1:intersect.ptAndRect(s.srcPt,this._rectFPS)?this._viewMode=viewModes.FPS:intersect.ptAndRect(s.srcPt,this._rectDT)?this._viewMode=viewModes.DT:this._minimized=!0,this._rect=this._minimized?this._rectMin:this._rectMax)}}},this.render=function(t){if(t.save(),t.textBaseline="top",t.textAlign="center",t.font="12px Verdana",this._minimized)fillRect(t,this._rect,this._backgroundColor);else{fillRect(t,this._rectTop,this._backgroundColor),this._graphs[this._viewMode].render(t,1,17),t.fillStyle=this._borderColor,t.fillRect(0,16,this._rect.width,1);var i=this._viewMode===viewModes.FPS,e=this._viewMode===viewModes.DT;fillRect(t,this._rectFPS,i?this._borderColor:this._backgroundColor),t.fillStyle=i?this._textColor:this._borderColor,t.fillText("FPS",this._rectFPS.x+this._rectFPS.width/2,0),fillRect(t,this._rectDT,e?this._borderColor:this._backgroundColor),t.fillStyle=e?this._textColor:this._borderColor,t.fillText("DT",this._rectDT.x+this._rectDT.width/2,0)}strokeRect(t,this._rect,this._borderColor),t.fillStyle=this._textColor,t.fillText(this._fps,12,0),t.restore()},this.getFPS=function(){return this._fps}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/canvas/ImageView.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/ImageView.js",friendlyPath:".backend.canvas.ImageView",directory:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/",filename:"ImageView.js",src:'jsio("import util.path"),jsio("import std.uri as URI"),jsio("import ui.View as View"),jsio("import ui.resource.Image as Image"),jsio("import ui.resource.ImageViewCache as ImageViewCache");var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_canvas_ImageView=__class__,ImageView=exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_canvas_ImageView(function(){return this.init&&this.init.apply(this,arguments)},View,function(i){this.getImage=function(){return this._img},this.getImageFromCache=function(i,t){return ImageViewCache.getImage(i,t)},this.updateOpts=function(t){return t=i(this,"updateOpts",arguments),"autoSize"in t&&(this._autoSize=!!t.autoSize),t.image?this.setImage(t.image):this.needsReflow(),t},this.setImage=function(i,t){var e=t&&t.forceReload;"string"==typeof i?i=ImageViewCache.getImage(i,e):e&&i.reload(),(this._img=i)&&((this._autoSize=t&&"autoSize"in t?t.autoSize:this._autoSize)&&(0<this._img.getWidth()&&0<this._img.getHeight()?this.autoSize():this._img.doOnLoad(this,"autoSize")),this._img.doOnLoad(this,"needsRepaint"))},this.doOnLoad=function(){return 1==arguments.length?this._img.doOnLoad(this,arguments[0]):this._img.doOnLoad.apply(this._img,arguments),this},this.autoSize=function(){this._img&&(this.style.width=this._img.getWidth(),this.style.height=this._img.getHeight(),this.style.fixedAspectRatio&&this.style.enforceAspectRatio(this.style.width,this.style.height))},this.getOrigWidth=this.getOrigW=function(){return this._img.getOrigW()},this.getOrigHeight=this.getOrigH=function(){return this._img.getOrigH()},this.render=function(i){if(this._img){var t=this.style;this._img.render(i,0,0,t.width,t.height)}};var t=window.location.toString(),e=window.location.hostname;this.getTag=function(){var i;if(this._img){var s=this._img.getOriginalURL();if(this._cachedTag&&s==this._cachedTag.url)i=this._cachedTag.tag;else{i=URI.relativeTo(s,t);var a=i.getHost();i=util.path.splitExt(i.getFile()).basename+(a&&a!=e?":"+a:""),this._cachedTag={url:s,tag:i}}}return(i||"")+":ImageView"+this.uid}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/resource/Image.js":{path:"modules/devkit-core/modules/timestep/src/ui/resource/Image.js",friendlyPath:"ui.resource.Image",directory:"modules/devkit-core/modules/timestep/src/ui/resource/",filename:"Image.js",src:'function imageOnLoad(t,i,e){t&&!this.width?3>=e?setTimeout(bind(this,imageOnLoad,t,i,(e||0)+1),0):this.__cb.fire(!1):this.__cb.fire(!t)}jsio("import device"),jsio("import lib.PubSub"),jsio("import event.Callback as Callback"),jsio("import ui.resource.loader as resourceLoader"),jsio("import ui.backend.canvas.filterRenderer as filterRenderer");var ImageCache={},GET_IMAGE_DATA_NOT_SUPPORTED=!GLOBAL.document||!document.createElement;resourceLoader.on(resourceLoader.IMAGE_LOADED,function(t,i){ImageCache[i.resource]=t,t.__cb=new Callback,imageOnLoad.call(t,!0)});var ImageMap=!CONFIG.disableNativeViews&&NATIVE.timestep&&NATIVE.timestep.ImageMap;ImageMap||(ImageMap=__class__,ImageMap=ImageMap(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,i,e,r,s,h,n,a,o,c){this.url=c,this.x=i,this.y=e,this.width=r,this.height=s,this.marginTop=h,this.marginRight=n,this.marginBottom=a,this.marginLeft=o}}));var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_resource_Image=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_resource_Image(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){var t=GLOBAL.NATIVE&&!device.isNativeSimulator,i=device.get("Canvas"),e=null,r=null;this.init=function(t){t||(t={}),this._cb=new Callback,this._map=new ImageMap(this,0,0,-1,-1,0,0,0,0,t.url||""),this._originalURL=t.url||"",this._scale=t.scale||1,this._isError=!1,resourceLoader._updateImageMap(this._map,t.url,t.sourceX,t.sourceY,t.sourceW,t.sourceH),this._setSrcImg(t.srcImage,this._map.url,t.forceReload)},this._setSrcImg=function(t,e,r){if(this._cb.reset(),this._isError=!1,!t&&e&&!r&&ImageCache[e]&&(t=ImageCache[e]),!t&&!r&&Image.get){var s=Image.get(e);"object"==typeof s?t=s:s&&(e=s)}r&&(t&&t.destroy&&t.destroy(),e&&NATIVE.gl&&NATIVE.gl.deleteTexture&&NATIVE.gl.deleteTexture(e)),t||(t=new Image,t.crossOrigin="use-credentials"),this._srcImg=t,t instanceof HTMLCanvasElement||t instanceof i?this._onLoad(!1,t):(t.__cb||(t.__cb=new Callback,t.addEventListener("load",bind(t,imageOnLoad,!0),!1),t.addEventListener("error",bind(t,imageOnLoad,!1),!1),e&&(ImageCache[e]=t),!t.src&&e&&(t.src=this._map.url=e)),t.__cb.run(this,function(i){this._onLoad(i,t)}))},this.getSource=this.getSrcImg=function(){return this._srcImg},this.setSource=this.setSrcImg=function(t){this._setSrcImg(t)},this.reload=function(t){var i=this._srcImg;if(i){t&&t.chain&&(t=t.chain());var e=this._cb.fired();if(i.reload){var r=bind(this,function(){i.removeEventListener("reload",r,!1),e&&this._cb.fire(null,this),t&&t()});i.addEventListener("reload",r,!1),i.reload(),e&&this._cb.reset()}else t&&(this._cb.fired()?setTimeout(t,0):this._cb.run(t))}},this.getURL=function(){return this._map.url},this.getOriginalURL=function(){return this._originalURL},this.getSourceX=function(){return this._map.x},this.getSourceY=function(){return this._map.y},this.getSourceWidth=this.getSourceW=function(){return this._map.width},this.getSourceHeight=this.getSourceH=function(){return this._map.height},this.getOrigWidth=this.getOrigW=function(){return this._srcImg.width},this.getOrigHeight=this.getOrigH=function(){return this._srcImg.height},this.setSourceX=function(t){this._map.x=t},this.setSourceY=function(t){this._map.y=t},this.setSourceWidth=this.setSourceW=function(t){this._map.width=t},this.setSourceHeight=this.setSourceH=function(t){this._map.height=t},this.setMarginTop=function(t){this._map.marginTop=t},this.setMarginRight=function(t){this._map.marginRight=t},this.setMarginBottom=function(t){this._map.marginBottom=t},this.setMarginLeft=function(t){this._map.marginLeft=t},this.setURL=function(t,i){resourceLoader._updateImageMap(this._map,t),this._setSrcImg(null,this._map.url,i)},this.getWidth=function(){var t=this._map;return(t.width==-1?0:t.width+t.marginLeft+t.marginRight)/t.scale},this.getHeight=function(){var t=this._map;return(t.height===-1?0:t.height+t.marginTop+t.marginBottom)/t.scale},this.getMap=this.getBounds=function(){return this._map},this.setMap=this.setBounds=function(t,i,e,r,s,h,n,a){var o=this._map;o.x=t,o.y=i,o.width=e,o.height=r,o.marginTop=s||0,o.marginRight=h||0,o.marginBottom=n||0,o.marginLeft=a||0,this.emit("changeBounds")},this.doOnLoad=function(){return this._cb.forward(arguments),this},this._onLoad=function(t,i){var e=this._map,r=this._srcImg;i&&i!==r||(t?(logger.ERROR&&console.error("ERROR","ui.resource.Image","Image failed to load:",e.url),this._isError=!0,this._cb.fire({NoImage:!0})):(this._isError=!1,0===r.width&&logger.WARN&&console.warn("WARN","ui.resource.Image","Image has no width",this._url),1===this._scale||e.width===-1&&e.height===-1?(e.width===-1&&(e.width=r.width),e.height===-1&&(e.height=r.height)):(e.width===-1&&(e.width=r.width*e.height/r.height),e.height===-1&&(e.height=r.height*e.width/r.width),r.width=e.width,r.height=e.height),e.url=r.src,this._cb.fire(null,this)))},this.isError=function(){return this._isError},this.isLoaded=this.isReady=function(){return!this._isError&&this._cb.fired()},this.render=function(i){if(this._cb.fired()&&!this._isError){var e=arguments.length,r=this._map,s=this._srcImg,h=r.x,n=r.y,a=r.width,o=r.height,c=e>5?arguments[5]:arguments[1]||0,g=e>6?arguments[6]:arguments[2]||0,u=e>7?arguments[7]:arguments[3]||0,m=e>8?arguments[8]:arguments[4]||0;e<9?(u/=r.marginLeft+r.width+r.marginRight,m/=r.marginTop+r.height+r.marginBottom,c+=u*r.marginLeft,g+=m*r.marginTop,u*=r.width,m*=r.height):(h=arguments[1],n=arguments[2],a=arguments[3],o=arguments[4]),!t&&i.filter&&(r=filterRenderer.renderFilter(i,this,h,n,a,o))&&(s=r,n=h=0),i.drawImage(s,h,n,a,o,c,g,u,m)}},this.getImageData=function(t,s,h,n){null===e&&(e=new i,r=e.getContext("2d"));var a=this._map;if(GET_IMAGE_DATA_NOT_SUPPORTED)throw"Not supported";if(!a.width||!a.height)throw"Not loaded";return t=t||0,s=s||0,h=h||a.width,n=n||a.height,e.width=h,e.height=n,r.clear(),this.render(r,t,s,h,n,0,0,h,n),r.getImageData(0,0,h,n)},this.setImageData=function(){},this.destroy=function(){this._srcImg.destroy&&this._srcImg.destroy()}}),exports.__clearCache__=function(){ImageCache={}};',pre:!0},"modules/devkit-core/modules/timestep/src/event/Callback.js":{path:"modules/devkit-core/modules/timestep/src/event/Callback.js",friendlyPath:"event.Callback",directory:"modules/devkit-core/modules/timestep/src/event/",filename:"Callback.js",src:'jsio("import lib.Callback as exports");',pre:!0},"modules/devkit-core/node_modules/jsio/packages/lib/Callback.js":{path:"modules/devkit-core/node_modules/jsio/packages/lib/Callback.js",friendlyPath:"lib.Callback",directory:"modules/devkit-core/node_modules/jsio/packages/lib/",filename:"Callback.js",src:'var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_node_modules_jsio_packages_lib_Callback=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_node_modules_jsio_packages_lib_Callback(function(){return this.init&&this.init.apply(this,arguments)},function(){this._fired=!1,this._id=0,this._pending=null,this.init=function(){this._run=[]},this.hasFired=this.fired=function(){return this._fired},this.reset=function(){this._args=[],this._fired=!1},this.clear=function(){this.reset(),this._run=[],this._stat=this._pending=null},this.forward=function(i){this.run.apply(this,i)},this.run=function(i,t){var s=t?bind.apply(this,arguments):i;return s&&(this._fired?s.apply(this,this._args):this._run.push(s)),this},this.runOrTimeout=function(i,t,s){if(i||t)if(this._fired)i.apply(this,this._args);else{var r=bind(this,function(){clearTimeout(n),i.apply(this,this._args)});this.run(r);var n=setTimeout(bind(this,function(){for(var i=0,s=this._run.length;i<s;++i)if(this._run[i]==r){this._run.splice(i,1);break}t()}),s)}},this.fire=function(){if(!this._fired){this._fired=!0;var i=this._run;this._args=arguments;for(var t=0,s=i.length;t<s;++t)i[t]&&i[t].apply(this,arguments)}},this.chain=function(i){return this._pending||(this._pending={}),void 0===i&&(i=this._id++),this._pending[i]=!0,this.reset(),bind(this,"_deferred",i)},this._deferred=function(i){if(this._stat||(this._stat={}),!this._stat.hasOwnProperty(i)){this._stat[i]=Array.prototype.slice.call(arguments,1);var t=this._pending;delete t[i];for(i in t)if(t.hasOwnProperty(i))return;this.fire(this._stat)}}});',
pre:!0},"modules/devkit-core/modules/timestep/src/ui/resource/loader.js":{path:"modules/devkit-core/modules/timestep/src/ui/resource/loader.js",friendlyPath:"ui.resource.loader",directory:"modules/devkit-core/modules/timestep/src/ui/resource/",filename:"loader.js",src:'jsio("import .i18n"),jsio("import lib.Callback"),jsio("import event.Emitter as Emitter");var _cache={},MIME={".png":"image",".jpg":"image",".bmp":"image",".css":"css",".html":"html",".mp3":"audio",".ogg":"audio",".mp4":"audio",".3gp":"audio",".m4a":"audio",".aac":"audio",".flac":"audio",".mkv":"audio",".wav":"audio"},Loader=__class__,Loader=Loader(function(){return this.init&&this.init.apply(this,arguments)},Emitter,function(){var e=0,r=0;this._map={},this._originalMap={},this._audioMap={},Object.defineProperty(this,"progress",{get:function(){return 0<e?r/e:1}}),this.has=function(e){return this._map[e]},this.restoreMap=function(){this._map=this._originalMap},this.getMap=function(){return this._map},this.setMap=function(e){this.restoreMap(),this._map=e?i18n.applyResourceMap(this._map,e):i18n.localizeResourceMap(this._map)},this.get=function(e){return"resources/images/"+e},this.addSheets=function(e){Object.keys(e).forEach(function(r){e[r].forEach(function(e){this._map[e.f]={sheet:r,x:e.x||0,y:e.y||0,w:e.w||0,h:e.h||0,scale:e.s||1,marginTop:e.t||0,marginRight:e.r||0,marginBottom:e.b||0,marginLeft:e.l||0}},this)},this),this._originalMap=this._map},this.addAudioMap=function(e){Object.keys(e).forEach(function(e){this._audioMap[e]=!0},this)},this.preload=function(e,r,i){if("function"==typeof r&&(i=r,r=void 0),isArray(e)){var o=new lib.Callback;return e.forEach(function(e){e&&this.preload(e,r,o.chain())},this),i&&o.run(i),o}var t,e=e.replace(/^\\//,""),a={},n=this._map;for(t in n)0===t.indexOf(e)&&(a[n[t]&&n[t].sheet||t]=!0);var s=this._audioMap,n={};for(t in s)0===t.indexOf(e)&&(n[t]=!0);return a=Object.keys(a),a=a.concat(Object.keys(n)),0==a.length&&(a=[e]),e=this._loadGroup(merge({resources:a},r)),i&&e.run(i),e};var i=null,o=null;this.getSound=function(e){return i||(jsio("import AudioManager"),i=new AudioManager({preload:!0}),o=i.getAudioLoader()),GLOBAL.NATIVE&&GLOBAL.NATIVE.sound&&GLOBAL.NATIVE.sound.preloadSound?NATIVE.sound.preloadSound(e):(i.addSound(e),{complete:!0,loader:o})},this.getImagePaths=function(e){var r,e=e.replace(/^\\//,""),i=[],o=this._map;for(r in o)0==r.indexOf(e)&&i.push(r);return i},this.getImage=function(e,r){var i=new Image;if(i.crossOrigin="use-credentials",Image.get){var o=Image.get(e);if(o instanceof Image)return o}return o?(i.src=o,Image.set(e,i)):(r||logger.WARN&&console.warn("WARN","ui.resource.loader","Preload Warning:",e,"not properly cached!"),i.src=e),i},this._updateImageMap=function(e,r,i,o,t,a){var i=i||0,o=o||0,t=void 0==t?-1:t,a=void 0==a?-1:a,n=this._map[r];return n&&n.sheet?(r=n.scale||1,e.x=n.x-n.marginLeft,e.y=n.y-n.marginTop,e.width=n.w+n.marginLeft+n.marginRight,e.height=n.h+n.marginTop+n.marginBottom,e.x+=i*r,e.y+=o*r,0<t&&(e.width=t*r),0<a&&(e.height=a*r),e.marginLeft=Math.max(0,n.x-e.x),e.marginTop=Math.max(0,n.y-e.y),e.marginRight=Math.max(0,e.x+e.width-(n.x+n.w)),e.marginBottom=Math.max(0,e.y+e.height-(n.y+n.h)),e.x+=e.marginLeft,e.y+=e.marginTop,e.width-=e.marginLeft+e.marginRight,e.height-=e.marginTop+e.marginBottom,e.scale=r,e.url=n.sheet,e):(e.x=i,e.y=o,e.width=t,e.height=a,e.scale=1,e.url=r,void 0)},this._getRaw=function(e,r,i,o){if(!i&&_cache[r])return _cache[r];switch(i=null,e){case"audio":i=this.getSound(r);break;case"image":i=this.getImage(r,o);break;default:logger.ERROR&&console.error("ERROR","ui.resource.loader","Preload Error: Unknown Type",e)}return _cache[r]=i},this._requestedResources=[],this._loadGroup=function(i,o){for(var t=i.timeout,a=new lib.Callback,n=this,s=i.resources||[],u=s.length||0,h=[],c=0;c<u;++c){for(var l,d=s[c].substring(s[c].lastIndexOf(".")).split("|")[0],d=MIME[d],g=!1,m=0,p=0;p<this._requestedResources.length;p++)if(l=this._requestedResources[p],l.type===d&&l.resource===s[c]){g=!0,m++;break}g||("image"!==d&&"audio"!==d||(l={type:d,resource:s[c]},h.push(l),this._requestedResources.push(l)),"image"==d&&GLOBAL.NATIVE&&NATIVE.gl&&NATIVE.gl.touchTexture(s[c]))}if(!h.length)return m||logger.WARN&&console.warn("WARN","ui.resource.loader","Preload Fail: No Loadable Resources Found"),o&&a.run(o),a.fire(),a;var f=0,_=h.length;e+=_;var L=Math.min(_,i.parallel||5),A=0,M=bind(this,function(){var i,t=f++,s=h[t];if(s){i=this._getRaw(s.type,s.resource,!1,!0);var u=function(t){A>=_||(i.onreload=i.onload=i.onerror=function(){},++A,++r,r===e&&(r=e=0),A>=_?(o&&o(s,t,!0,A,_),E&&clearTimeout(E),logger.LOG&&console.log("LOG","ui.resource.loader","Preload Complete:",s.resource),a.fire()):(o&&o(s,t,!1,A,_),setTimeout(M,0)))};if(i.reload&&i.complete){var c=i.onreload,l=i.onerror;i.onreload=function(){c&&c(),u(!1)},i.onerror=function(){l&&l(),u(!0)},i.reload()}else i.complete?i.loader?i.loader.load([s.resource],u):u(!0===i.failed):(c=i.onload,l=i.onerror,i.onload=function(){c&&c(),i.failed=!1,"image"===s.type&&n.emit(Loader.IMAGE_LOADED,i,s),u(!1)},i.onerror=function(){l&&l(),i.failed=!0,u(!0)})}}),E=null;return setTimeout(function(){for(var e=0;e<L;++e)M();t&&(E=setTimeout(function(){logger.WARN&&console.warn("WARN","ui.resource.loader","Preload Timeout: Something Failed to Load"),a.fire(),A=_},t))},0),a}});Loader.IMAGE_LOADED="imageLoaded",exports=new Loader,exports.IMAGE_LOADED=Loader.IMAGE_LOADED;',pre:!0},"modules/devkit-core/modules/timestep/src/ui/resource/i18n.js":{path:"modules/devkit-core/modules/timestep/src/ui/resource/i18n.js",friendlyPath:".i18n",directory:"modules/devkit-core/modules/timestep/src/ui/resource/",filename:"i18n.js",src:'var LOCALE_CODES=navigator.language&&navigator.language.split("-"),LANGUAGE_CODE=(LOCALE_CODES[0]||"en").toLowerCase(),REGION_CODE=(LOCALE_CODES[1]||"US").toUpperCase(),EU_REGIONS="AD AT BE BL CY DE EE ES EU FI FR GR IE IT LU LV MC ME MT MQ NL PM PT RE SI SK SM VA YT".split(" "),Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_resource_i18n=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_resource_i18n(function(){return this.init&&this.init.apply(this,arguments)},function(){var e={languageCode:LANGUAGE_CODE,regionCode:REGION_CODE,stringsPath:"resources/strings/",defaultStringsFile:"en.json"};this.init=function(s){s=merge(s,e),this._languageCode=s.languageCode,this._regionCode=s.regionCode,this._stringsPath=s.stringsPath,this._defaultStringsFile=s.defaultStringsFile,this._strings={},this.loadStrings(this._stringsPath,this._defaultStringsFile)},this.getLanguageCode=function(){return this._languageCode},this.getRegionCode=function(){return this._regionCode},this.loadStrings=function(e,s){var r=this._languageCode,t=e+r+"-"+this._regionCode+".json",r=e+r+".json",i=e+s,n=CACHE[t]||CACHE[r]||CACHE[i];if(n)try{this._strings=JSON.parse(n)}catch(e){console.error("Error loading strings JSON:"),console.error(e)}else console.error("No JSON found for files:",t,r,i)},this.getString=function(e){var s=this._strings[e];return void 0!==s?s:e}}),exports.localizeResourceMap=function(e){var s,r={},t="resources-"+LANGUAGE_CODE+"-"+REGION_CODE,i="resources-"+LANGUAGE_CODE,n="resources-"+REGION_CODE;for(s in e){var o=s,_=s.indexOf(t),u=s.indexOf(i),g=s.indexOf(n),a=s.indexOf("resources-EU");0===_?o="resources"+s.substring(t.length):0===u?o="resources"+s.substring(i.length):0===g?o="resources"+s.substring(n.length):0===a&&-1!==EU_REGIONS.indexOf(REGION_CODE)&&(o="resources"+s.substring(12)),r[o]=e[s]}return r},exports.applyResourceMap=function(e,s){var r,t={},i="resources-"+s;for(r in e){var n=r;0===r.indexOf(i)?(n="resources"+r.substring(i.length),t[n]=e[r]):0>Object.keys(t).indexOf(n)&&(t[n]=e[r])}return t};',pre:!0},"modules/devkit-core/modules/timestep/src/AudioManager.js":{path:"modules/devkit-core/modules/timestep/src/AudioManager.js",friendlyPath:"AudioManager",directory:"modules/devkit-core/modules/timestep/src/",filename:"AudioManager.js",baseMod:"AudioManager",basePath:"/Users/tsunami/projects/devkitPoj/helloworld/modules/devkit-core/modules/timestep/src/AudioManager",src:'jsio("import device"),jsio("import util.path"),jsio("import event.Emitter as Emitter"),jsio("import ui.backend.sound.AudioLoader as AudioLoader");var AudioContext=window.AudioContext||window.webkitAudioContext,_ctx=null;if(AudioContext)try{_ctx=new AudioContext}catch(t){logger.WARN&&console.warn("WARN","AudioManager","HTML5 AudioContext init failed, falling back to Audio!")}else logger.WARN&&console.warn("WARN","AudioManager","HTML5 AudioContext not supported, falling back to Audio!");var _muteAll=!1,_registeredAudioManagers=[],RawAudio=__class__,RawAudio=RawAudio(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){if("undefined"==typeof Audio)return null;var t,i=new Audio,s=RawAudio.prototype;for(t in s)!i[t]&&s.hasOwnProperty(t)&&(i[t]=s[t]);var e=null;return i.oldPlay=i.play,i.play=function(){4===i.readyState?i.oldPlay():e=setTimeout(i.play,32)},i.oldPause=i.pause,i.pause=function(){null!==e&&(clearTimeout(e),e=null),i.oldPause()},i},this.stop=function(){!this.paused&&this.pause(),void 0!==this.NETWORK_LOADING&&this.networkState===this.NETWORK_LOADING&&this.networkState===this.NETWORK_NO_SOURCE||isNaN(this.duration)||(this.currentTime=0)}}),MultiSound=__class__,MultiSound=MultiSound(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,i,s){s="string"==typeof s?{sources:[s]}:s||{},this._soundManager=t,this._name=i,this._isPaused=!1,this._lastSrc=null,this._sources=[],this._paths=[],this._useAudioContext=!1,this._gainNode=this._loader=null,this.loop=void 0!==s.loop?s.loop:s.background,this.isBackgroundMusic=s.background;var i=s.sources||[i],e=this._sources,u=this._paths,o=t.getPath(),n=t.getExt(),r=RegExp(n+"$","i"),a=this.loop,h=void 0!==s.volume?s.volume:1,d=bind(this,"isPaused"),c=function(t){this.removeEventListener(arguments.callee),d()&&this.pause()};_ctx&&(this._useAudioContext=!0,this._loader=t.getAudioLoader(),this._gainNode=_ctx.createGain(),this._gainNode.connect(_ctx.destination),this._gainNode.gain.value=h);for(var l,_=0;l=i[_];++_)if(l=util.path.join(o,s.path,l),r.test(l)||(l+=n),u.push(l),!this._useAudioContext){var f=new RawAudio;f&&(f.loop=a,f.volume=h,f.isBackgroundMusic=s.background,f.src=l,f.preload=4!==f.readyState||t._preload&&!s.background?"auto":"none",f.addEventListener&&f.addEventListener("playing",c),e.push(f),f.isBackgroundMusic&&NATIVE&&NATIVE.sound&&NATIVE.sound.registerMusic(l,f))}},this.getVolume=function(){if(this._useAudioContext)return this._gainNode.gain.value;var t=this._sources[0];return t&&t.volume||0},this.setVolume=function(t){if(this._useAudioContext)this._gainNode.gain.value=t;else for(var i,s=0;i=this._sources[s];++s)i.volume=t},this.stop=function(){if(this._useAudioContext)this._lastSrc&&this._lastSrc.stop(0),this._lastSrc=null;else for(var t,i=0;t=this._sources[i];++i)t.stop()},this.pause=function(){if(this._isPaused=!0,this._useAudioContext)this.stop();else for(var t,i=0;t=this._sources[i];++i)t.pause()},this.isPaused=function(){return this._isPaused},this.isPlaying=function(){var t=!1;if(!this._useAudioContext&&null!==this._lastSrc){var i=this._lastSrc.currentTime,s=this._lastSrc.duration;(isNaN(s)||i<s)&&(t=!this.isPaused())}return t},this.getDuration=function(){return this._lastSrc&&this._lastSrc.duration||0},this.getTime=function(){return this._lastSrc&&this._lastSrc.currentTime||0},this.setTime=function(t){!this._useAudioContext&&this._lastSrc&&this.isBackgroundMusic&&this._lastSrc.duration&&(this._lastSrc.currentTime=t)},this.play=function(t){var t=t||{},i=t.loop||this.loop,s=t.time||0,e=t.duration?1e3*t.duration:void 0;if(this._useAudioContext){var t=this._loader,u=this._paths[Math.random()*this._paths.length|0],o=t.getBuffer(u);o?this._playFromBuffer(o,i,s,e):t.doOnLoad(u,bind(this,function(t){this._isPaused||this._playFromBuffer(t[0],i,s,e)}))}else t=this._getRandom(),t.play(),t.muted&&(t.muted=!1,t.muted=!0),this.setTime(s),void 0!==e&&setTimeout(bind(this,"pause"),e),this._lastSrc=t;this._isPaused=!1},this._playFromBuffer=function(t,i,s,e){if(t){var u=_ctx.createBufferSource();u.buffer=t,u.loop=i,u.connect(this._gainNode),void 0!==e?u.start(_ctx.currentTime,s,e):u.start(_ctx.currentTime,s),this._lastSrc=u}},this._getRandom=function(){return this._sources[Math.random()*this._sources.length|0]}}),Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_AudioManager=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_AudioManager(function(){return this.init&&this.init.apply(this,arguments)},Emitter,function(t){this.init=function(i){if(i=i||{},t(this,"init",arguments),this._loader=null,this.setPath(i.path),this._map=i.files||i.map,this._preload=i.preload,this._sounds={},this._areEffectsMuted=this._isMusicMuted=!1,this._currentMusic=null,this._key="",this.setMuted(_muteAll),_registeredAudioManagers.push(this),i.persist&&this.persistState(i.persist),_ctx&&this.setAudioContext(),"undefined"!=typeof Audio){var s=new Audio;s.canPlayType("audio/mpeg")?this._ext=".mp3":s.canPlayType("audio/ogg")&&(this._ext=".ogg")}else logger.WARN&&console.warn("WARN","AudioManager","HTML5 Audio not supported!");void 0===this._ext&&(this._ext=".mp3",logger.WARN&&console.warn("WARN","AudioManager","Warning: sound support unclear - defaulting to .mp3"));for(var e in this._map)this.addSound(e,this._map[e]);if(_ctx&&this._preload){var u=[];for(e in this._sounds)s=this._sounds[e],u=u.concat(s._paths);this.preloadSounds(u)}},this.getAudioContext=function(){return _ctx},this.setAudioContext=function(){this._loader?this._loader.setAudioContext(_ctx):this._loader=new AudioLoader({ctx:_ctx})},this.getAudioLoader=function(){return this._loader},this.preloadSounds=function(t){this._loader&&this._loader.load(t)},this.getExt=function(){return this._ext},this.getPath=function(){return this._path},this.setPath=function(t){t&&(t=t.replace(/\\/$/,"")),this._path=t||""},this.addSound=function(t,i){this._sounds[t]=new MultiSound(this,t,i)},this.persistState=function(t){if(this._key=t,t=localStorage.getItem(this._key))try{t=JSON.parse(t)}catch(t){}t&&(logger.LOG&&console.log("LOG","AudioManager","Restoring Audio API state!"),this.setMusicMuted(t.isMusicMuted),this.setEffectsMuted(t.areEffectsMuted))},this._persist=function(){""!==this._key&&localStorage.setItem(this._key,JSON.stringify({isMusicMuted:this._isMusicMuted,areEffectsMuted:this._areEffectsMuted}))},this.getMuted=function(){return this._isMusicMuted&&this._areEffectsMuted},this.getMusicMuted=function(){return this._isMusicMuted},this.getEffectsMuted=function(){return this._areEffectsMuted},this.setMuted=function(t){this.setMusicMuted(t),this.setEffectsMuted(t)},this.setMusicMuted=function(t){_muteAll&&(t=!0),this._isMusicMuted=t,this._persist(),this._currentMusic&&(this._currentMusic.pause(),t||this._currentMusic.play())},this.setEffectsMuted=function(t){if(_muteAll&&(t=!0),this._areEffectsMuted=t,this._persist(),t)for(var i in this._sounds)t=this._sounds[i],t.isBackgroundMusic||t.stop()},this.getSound=function(t){var i=this._sounds[t];return i||logger.WARN&&console.warn("WARN","AudioManager","Warning: no sound named "+t),i},this.setVolume=function(t,i){var s=this.getSound(t);return!!s&&(s.setVolume(i),!0)},this.getVolume=function(t){return(t=this.getSound(t))?t.getVolume():null},this.setTime=function(t,i){var s=this.getSound(t);return!!s&&(s.setTime(i||0),!0)},this.getTime=function(t){return t=this.getSound(t),!!t&&t.getTime()},this.getDuration=function(t){return t=this.getSound(t),!!t&&t.getDuration()},this.play=function(t,i){var s=this.getSound(t);return!!s&&(i=i||{},s.isBackgroundMusic?(this._currentMusic&&this._currentMusic.stop(),this._currentMusic=s,this._isMusicMuted||s.play(i)):this._areEffectsMuted||s.play(i),!0)},this.pause=function(t){return!!(t=this.getSound(t))&&(this._currentMusic===t&&(this._currentMusic=null),t.pause(),!0)},this.stop=function(t){return!!(t=this.getSound(t))&&(this._currentMusic===t&&(this._currentMusic=null),t.stop(),!0)},this.isPaused=function(t){return t=this.getSound(t),!!t&&t.isPaused()},this.isPlaying=function(t){return t=this.getSound(t),!!t&&t.isPlaying()},this.playBackgroundMusic=this.play,this.pauseBackgroundMusic=function(){this._currentMusic&&this._currentMusic.pause()}}),exports.muteAll=function(t){_muteAll=t;for(var i=0,s=_registeredAudioManagers.length;i<s;i++)_registeredAudioManagers[i].setMuted(t)};',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/sound/AudioLoader.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/sound/AudioLoader.js",friendlyPath:"ui.backend.sound.AudioLoader",directory:"modules/devkit-core/modules/timestep/src/ui/backend/sound/",filename:"AudioLoader.js",src:'var _ctx=null,_bufferMap={},_loadingMap={},_onLoadMap={},Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_sound_AudioLoader=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_sound_AudioLoader(function(){return this.init&&this.init.apply(this,arguments)},function(){function o(o,e,n,i){i?(n.buffers[e]=_bufferMap[o]=i,(e=_onLoadMap[o])&&(e([i]),_onLoadMap[o]=null)):logger.ERROR&&console.error("ERROR","ui.backend.sound.AudioLoader","Error decoding audio file data:",o),_loadingMap[o]=!1,++n.loadedCount===n.fileCount&&n.callback(n.buffers)}this.init=function(o){_ctx=o.ctx},this.load=function(o,e){for(var n={fileCount:o.length,loadedCount:0,buffers:[],callback:e||function(){logger.LOG&&console.log("LOG","ui.backend.sound.AudioLoader","Finished loading audio files:",o)}},i=0,t=o.length;i<t;i++)this._loadFile(o[i],i,n)},this._loadFile=function(e,n,i){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){_ctx.decodeAudioData(t.response,function(t){o(e,n,i,t)},function(t){logger.ERROR&&console.error("ERROR","ui.backend.sound.AudioLoader","Error with AudioContext decodeAudioData:",t&&t.err||t),o(e,n,i,null)})},t.onerror=function(){logger.ERROR&&console.error("ERROR","ui.backend.sound.AudioLoader","Error with audio XHR on URL:",e),o(e,n,i,null)},_loadingMap[e]=!0,t.send()},this.getAudioContext=function(){return _ctx},this.setAudioContext=function(o){_ctx=o},this.getBuffer=function(o){return _bufferMap[o]||null},this.isLoading=function(o){return _loadingMap[o]||!1},this.doOnLoad=function(o,e){if(this.isLoading(o))_onLoadMap[o]=e;else{var n=this.getBuffer(o);n?e([n]):this.load([o],e)}}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/canvas/filterRenderer.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/filterRenderer.js",friendlyPath:"ui.backend.canvas.filterRenderer",directory:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/",filename:"filterRenderer.js",src:'jsio("import cache.LRUCache as LRUCache"),jsio("import device");var FilterRenderer=__class__,FilterRenderer=FilterRenderer(function(){return this.init&&this.init.apply(this,arguments)},function(){var e=null,t=null,i=null;this.cache=new LRUCache(1024);var r={},s={},n=0,a=!0;this.initialize=function(){e=device.get("Canvas"),t=new e({useWebGL:CONFIG.useWebGL}),a=!1,this.useCache=!device.isNative&&!CONFIG.useWebGL,this.useWebGL=CONFIG.useWebGL,this.useCache&&jsio("import ui.Engine").get().subscribe("Tick",this,this.onTick)},this.onTick=function(){n++,r=s,s={}},this.renderFilter=function(e,r,s,n,o,h){a&&this.initialize();var c=e.filter,l=c&&c.getType&&c.getType(),u=this.useWebGL&&"NegativeMask"!==l&&"PositiveMask"!==l;if(!c||u||!c.getType)return null;if(this.useCache){var g=this.getCacheKey(r.getURL(),s,n,o,h,c);if(u=this.cache.get(g))return u}var d=this.useCache&&this.testShouldCache(g);switch(d?u=this.getCanvas(o,h):(u=t,u.width=o,u.height=h),l){case"LinearAdd":this.renderColorFilter(e,r,s,n,o,h,c,"lighter",u);break;case"Tint":this.renderColorFilter(e,r,s,n,o,h,c,"source-over",u);break;case"Multiply":this.renderMultiply(e,r,s,n,o,h,c,u);break;case"NegativeMask":this.renderMask(e,r,s,n,o,h,c.getMask(),"source-in",u);break;case"PositiveMask":this.renderMask(e,r,s,n,o,h,c.getMask(),"source-out",u)}return d&&(i=(e=this.cache.put(g,u))?e.value:null),u},this.testShouldCache=function(e){return e=s[e]=r[e]||n,3<n-e},this.renderColorFilter=function(e,t,i,r,s,n,a,o,h){return e=h.getContext("2d"),e.globalCompositeOperation="source-over",t.render(e,i,r,s,n,0,0,s,n),e.globalCompositeOperation=o,e.fillStyle=a.getColorString(),e.fillRect(0,0,s,n),e.globalCompositeOperation="destination-in",t.render(e,i,r,s,n,0,0,s,n),h},this.renderMultiply=function(e,t,i,r,s,n,a,o){for(var a=a.get(),e=o.getContext("2d"),t=t.getImageData(i,r,s,n),i=t.data,n=a.a,r=1+n*(a.r/255-1),s=1+n*(a.g/255-1),a=1+n*(a.b/255-1),n=0,h=i.length;n<h;n+=4)i[n]*=r,i[n+1]*=s,i[n+2]*=a;return e.putImageData(t,0,0),o},this.renderMask=function(e,t,i,r,s,n,a,o,h){var e=h.getContext("2d"),c=a.getSourceX(),l=a.getSourceY(),u=a.getSourceW(),g=a.getSourceH();return e.globalCompositeOperation="source-over",a.render(e,c,l,u,g,0,0,s,n),e.globalCompositeOperation=o,t.render(e,i,r,s,n,0,0,s,n),h},this.clearCache=function(){this.cache.removeAll()},this.getCacheKey=function(e,t,i,r,s,n){var a=n&&n.getType&&n.getType();return"NegativeMask"===a||"PositiveMask"===a?n=n.getMask().getURL():(n=n.get(),n=""+(255*n.a&255)+"|"+n.r+"|"+n.g+"|"+n.b),a+"|"+e+"|"+t+"|"+i+"|"+r+"|"+s+"|"+n},this.getCanvas=function(t,r){var s;return i?(s=i,s.width=t,s.height=r,i=null):s=new e({width:t,height:r}),s}});exports=new FilterRenderer;',pre:!0},"modules/devkit-core/modules/timestep/src/cache/LRUCache.js":{path:"modules/devkit-core/modules/timestep/src/cache/LRUCache.js",friendlyPath:"cache.LRUCache",directory:"modules/devkit-core/modules/timestep/src/cache/",filename:"LRUCache.js",baseMod:"cache",basePath:"/Users/tsunami/projects/devkitPoj/helloworld/modules/devkit-core/modules/timestep/src/cache",src:'var LRUCache=function(e){this.size=0,this.limit=e,this._keymap={}};LRUCache.prototype.put=function(e,t){var i={key:e,value:t};return this._keymap[e]=i,this.tail?(this.tail.newer=i,i.older=this.tail):this.head=i,this.tail=i,this.size===this.limit?this.shift():void this.size++},LRUCache.prototype.shift=function(){var e=this.head;return e&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):this.head=void 0,e.newer=e.older=void 0,delete this._keymap[e.key]),e},LRUCache.prototype.get=function(e,t){var i=this._keymap[e];if(void 0!==i)return i===this.tail?t?i:i.value:(i.newer&&(i===this.head&&(this.head=i.newer),i.newer.older=i.older),i.older&&(i.older.newer=i.newer),i.newer=void 0,(i.older=this.tail)&&(this.tail.newer=i),this.tail=i,t?i:i.value)},LRUCache.prototype.find=function(e){return this._keymap[e]},LRUCache.prototype.set=function(e,t){var i,r=this.get(e,!0);return r?(i=r.value,r.value=t):(i=this.put(e,t))&&(i=i.value),i},LRUCache.prototype.remove=function(e){if(e=this._keymap[e])return delete this._keymap[e.key],e.newer&&e.older?(e.older.newer=e.newer,e.newer.older=e.older):e.newer?(e.newer.older=void 0,this.head=e.newer):e.older?(e.older.newer=void 0,this.tail=e.older):this.head=this.tail=void 0,this.size--,e.value},LRUCache.prototype.removeAll=function(){this.head=this.tail=void 0,this.size=0,this._keymap={}},LRUCache.prototype.keys="function"==typeof Object.keys?function(){return Object.keys(this._keymap)}:function(){var e,t=[];for(e in this._keymap)t.push(e);return t},LRUCache.prototype.forEach=function(e,t,i){if(!0===t?(i=!0,t=void 0):"object"!=typeof t&&(t=this),i)for(i=this.tail;i;)e.call(t,i.key,i.value,this),i=i.older;else for(i=this.head;i;)e.call(t,i.key,i.value,this),i=i.newer},LRUCache.prototype.toJSON=function(){for(var e=[],t=this.head;t;)e.push({key:t.key.toJSON(),value:t.value.toJSON()}),t=t.newer;return e},LRUCache.prototype.toString=function(){for(var e="",t=this.head;t;)e+=""+t.key+":"+t.value,(t=t.newer)&&(e+=" < ");return e},exports=LRUCache;',pre:!0},"modules/devkit-core/modules/timestep/src/ui/resource/ImageViewCache.js":{path:"modules/devkit-core/modules/timestep/src/ui/resource/ImageViewCache.js",friendlyPath:"ui.resource.ImageViewCache",directory:"modules/devkit-core/modules/timestep/src/ui/resource/",filename:"ImageViewCache.js",src:'jsio("import .Image"),exports.cache={},exports.clear=function(){exports.cache={}},exports.getImage=function(e,r){var c;return r||(c=exports.cache[e]),c||(c=exports.cache[e]=new Image({url:e,forceReload:!!r})),c};',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/canvas/TextView.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/TextView.js",friendlyPath:".backend.canvas.TextView",directory:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/",filename:"TextView.js",src:'jsio("import ui.View as View"),jsio("import ui.resource.Image as Image"),jsio("import device"),jsio("import .util.FragmentBuffer as FragmentBuffer"),jsio("import .TextFlow"),jsio("import ...legacySettings as legacySettings");var messageFont=!0,textViewID=1,Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_canvas_TextView=__class__,TextView=exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_canvas_TextView(function(){return this.init&&this.init.apply(this,arguments)},View,function(t){var e={multiline:{replacement:"wrap"},textAlign:{replacement:"horizontalAlign"},lineWidth:{replacement:"strokeWidth"},strokeStyle:{replacement:"strokeColor"},outlineColor:{replacement:"strokeColor"}},i={wrap:!1,autoSize:!1,autoFontSize:!0,lineHeight:1.2,color:"#000000",fontFamily:device.defaultFontFamily,fontWeight:device.defaultFontWeight,size:128,strokeWidth:2,shadowWidth:2,strokeColor:null,shadowColor:null,verticalAlign:"middle",horizontalAlign:"center",buffer:!1,backgroundColor:""},s={width:!0,height:!0,wrap:!0,autoSize:!0,autoFontSize:!0,padding:!0,lineHeight:!0,color:!1,fontFamily:!0,fontWeight:!0,size:!0,strokeWidth:!0,shadowWidth:!0,strokeColor:!1,shadowColor:!1,verticalAlign:!0,horizontalAlign:!0,backgroundColor:!1,text:!0},o=Object.keys(s),h=Object.keys({color:!0,fontFamily:!0,fontWeight:!0,size:!0,strokeWidth:!0,shadowWidth:!0,strokeColor:!1,shadowColor:!1,backgroundColor:!0,text:!0}),a=["width","height","size"],r=new FragmentBuffer;r.onGetHash=function(t){return t.textView.getHash()},this.init=function(e){this._opts={},this._optsLast={},this.updateCache(),this._textFlow=new TextFlow({target:this}),this._textFlow.subscribe("ChangeWidth",this,"onChangeWidth"),this._textFlow.subscribe("ChangeHeight",this,"onChangeHeight"),this._textFlow.subscribe("ChangeSize",this,"onChangeSize"),t(this,"init",[merge(e,i)]),this._id=textViewID++},this.onChangeWidth=function(t){this.updateOpts({width:t},!0)},this.onChangeHeight=function(t){this.updateOpts({height:t},!0)},this.onChangeSize=function(t,e){this.updateOpts({size:t},!0),e&&(e.font=this._opts.fontWeight+" "+this._opts.size+"px "+this._opts.fontFamily)},this._restoreOpts=function(){for(var t,e=this._optsLast,i=a.length;i;)t=a[--i],t in e&&(this._opts[t]=e[t])},this._checkOpts=function(t){var e,h=this._optsLast,a=o.length;for((this._cacheUpdate=this._cacheUpdate||!Object.keys(this._opts).length)&&(this._hash=!1);a;)e=o[--a],e in t&&s[e]&&h[e]!==t[e]&&(this._cacheUpdate=!0),h[e]=e in t?t[e]:e in this._opts?this._opts[e]:i[e]},this._checkDeprecatedOpts=function(t){t.allowVerticalSizing=!legacySettings.disableVerticalAutoSize;for(var i in e)if(i in t){var s=e[i];DEBUG&&!s.hasWarned&&(console.warn("TextView opts."+i+" is deprecated, please use "+s.replacement+"..."),s.hasWarned=!0),t[s.replacement]=t[i]}if(i=t.font){for(DEBUG&&messageFont&&(console.warn("TextView opts.font is deprecated, please use fontFamily and size..."),messageFont=!1);i.length&&" "===i[0];)i=i.substr(1-i.length);s=i.indexOf(" "),-1!==s&&(t.size=parseInt(i.substr(0,s).replace(/[pxtem\\s]/gi,""),10),t.fontFamily=i.substr(s+1-i.length))}},this.updateCache=function(){this._cacheUpdate=!0,this._hash=!1},this.updateOpts=function(e,i){if(e.emoticonData)for(var s in e.emoticonData.data){var o=e.emoticonData.data[s];o.image||(o.image=new Image({url:o.url}))}if(this._opts.buffer&&r.releaseBin(this.getHash()),this.updateCache(),this._checkDeprecatedOpts(e),!i){if(this._restoreOpts(),this._checkOpts(e),!this._cacheUpdate)return void t(this,"updateOpts",arguments);e.hash=!1}return e=t(this,"updateOpts",arguments),"text"in e&&this.setText(e.text),!i&&this._textFlow.setOpts(this._opts),e},this._updateCtx=function(t){var e=this._opts;t.textAlign="left",t.textBaseline="top",t.fillStyle=e.color,t.font=e.fontWeight+" "+e.size+"px "+e.fontFamily,t.lineWidth=this.getStrokeWidth()},this._renderToCtx=function(t,e,i){var s,o,h,a,r=this._opts,n=this._textFlow.getWords(),l=r.autoFontSize?this._textFlow.getAvailableWidth():1e6,p=r.color,c=r.strokeColor,d=r.shadowColor,_=this.getStrokeWidth()/2,u=n.length;for(legacySettings.textViewColor&&this.color&&(p=this.color),this._updateCtx(t);u;){s=n[--u],o=s.word,h=e+s.x,a=i+s.y;var f="("==o[0]&&r.emoticonData&&r.emoticonData.data[o];if(f)f.image&&f.image.render(t,h+_,a+_,r.size,r.size);else{if(d){var f=this._opts.shadowWidth||0,g=this._opts.shadowWidth||0;("shadowDx"in this._opts||"shadowDy"in this._opts)&&(f=0|this._opts.shadowDx,g=0|this._opts.shadowDy);var x="shadowOpacity"in this._opts,w=t.globalAlpha;x&&(t.globalAlpha*=this._opts.shadowOpacity),c?(t.strokeStyle=d,t.strokeText(o,h+_+f,a+_+g,l)):(t.fillStyle=d,t.fillText(o,h+_+f,a+_+g,l)),x&&(t.globalAlpha=w)}c&&(t.strokeStyle=c,t.strokeText(o,h+_,a+_,l)),t.fillStyle=p,t.fillText(o,h+_,a+_,l)}}this._opts.debug&&(t.strokeStyle="black",t.strokeRect(h,a,s.width,this.style.height-2*a),t.strokeStyle="red",t.strokeRect(0,0,this.style.width,this.style.height))},this._renderBuffer=function(t){var e=r.getContext(),i=this._textFlow.getOffsetRect(),s=i.width,o=i.height,h=this._textFlow.getWords();s&&o&&(this._opts.lineCount=h[h.length-1].line,i.text=this._opts.text,i.textView=this,h=r.getPositionForText(i),null!=h?(this._cacheUpdate&&(e.clearRect(h.x,h.y,h.width,h.height),this._renderToCtx(e,h.x-i.x,h.y-i.y)),t.drawImage(r.getCanvas(),h.x,h.y,s,o,i.x,i.y,s,o)):this._opts.buffer=!1)},this.computeSize=function(t){if(this._cacheUpdate){this._updateCtx(t);var e=this._opts;this._textFlow.reflow(t,1+(e.autoFontSize?4:0)+(e.autoSize?2:0)+(e.wrap?1:0))}},this.render=function(t){if(this.computeSize(t),this._textFlow.getWords().length)if(this._opts.buffer)this._renderBuffer(t);else{var e=-this.getStrokeWidth()/2;this._renderToCtx(t,e,e)}this._cacheUpdate=!1},this.clearBuffers=function(){r.clearBuffer()},this.getFontBuffer=function(){return r},this.setText=function(t){var t=void 0!=t?t.toString():"",e=this._opts.emoticonData;if(e)for(var i in e.map)var s=RegExp(i.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,"\\\\$&"),"g"),t=t.replace(s,e.map[i]);this._opts.text!==t&&(this._opts.buffer&&r.releaseBin(this.getHash()),this._restoreOpts(),this._opts.text=t,this.updateCache(),this.needsRepaint())},this.getStrokeWidth=function(){return this._opts.strokeColor?this._opts.strokeWidth:0},this.getText=function(){return this._opts.text},this.getTag=function(){return"TextView"+this.uid+":"+(this.tag||(this._opts.text||"").substring(0,20))},this.getOpts=function(){return this._opts},this.getHash=function(){if(!this._hash){this._hash="";for(var t=this._opts,e=h.length;e;)this._hash+=t[h[--e]]}return this._hash},this.reflow=function(){this._restoreOpts(),this._cacheUpdate=!0}});exports.clearBuffers=TextView.prototype.clearBuffers,exports.getFontBuffer=TextView.prototype.getFontBuffer;',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/canvas/util/FragmentBuffer.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/util/FragmentBuffer.js",friendlyPath:".util.FragmentBuffer",directory:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/util/",
filename:"FragmentBuffer.js",src:'jsio("import device"),jsio("import .FragmentBin"),jsio("import .SortedLinkedList as SortedList");var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_canvas_util_FragmentBuffer=__class__,FragmentBuffer=exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_canvas_util_FragmentBuffer(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){this.opts=merge(t,{}),this._cache={},this._decriptions=[],window.addEventListener("pageshow",bind(this,"clearBuffer"),!1)};var t=function(t,i){return t.size()>i.size()};this._build=function(){this._canvas=new(device.get("Canvas"))({width:1024,height:1024}),this._ctx=this.getCanvas().getContext("2d",bind(this,function(){logger.LOG&&console.log("LOG",".util.FragmentBuffer","{fragment-buffer} Reacting to lost canvas by clearing text buffer"),this._canvas=null,this.clearBuffer()})),this._ctx.clearRect(0,0,1024,1024),this._ctx.textAlign="left",this._ctx.textBaseline="middle",this._ctx.globalCompositeOperation="source-over",this._binList=new SortedList(t),this._binList.insert(new FragmentBin({x:0,y:0,width:1024,height:1024}))},this.getCanvas=function(){return this._canvas||this._build(),this._canvas},this.getContext=function(){return this._ctx||this._build(),this._ctx},this.onGetHash=function(){throw Error("onGetHash should be implemented.")},this._insertText=function(t){for(var i=Math.ceil(t.width)+1,e=Math.ceil(t.height)+1,s=this._binList.iterator(),t=null,n=!1;s.hasNext()&&!n;)t=s.next(),!t.filled&&t.width>=i&&t.height>=e?n=!0:t=null;if(t)for(newBins=t.split(i,e),i=0;i<newBins.length;i++)this._binList.insert(newBins[i]);else logger.LOG&&console.log("LOG",".util.FragmentBuffer","buffer full, further TextViews will not be cached");return t},this.getPositionForText=function(t){var i=this.onGetHash(t),e=Math.ceil(t.width)+1;return!this._cache[i]&&0<e&&(this._cache[i]=this._insertText(t,!1),this._decriptions.push(t)),this._cache[i]},this.releaseBin=function(){},this.clearBuffer=function(){for(this._cache={},this._binList=new SortedList(t),this._binList.insert(new FragmentBin({x:0,y:0,width:1024,height:1024})),this._ctx&&this._ctx.clearRect(0,0,1024,1024);this._decriptions.length;)this._decriptions.pop().textView.updateCache()}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/canvas/util/FragmentBin.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/util/FragmentBin.js",friendlyPath:".FragmentBin",directory:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/util/",filename:"FragmentBin.js",src:'var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_canvas_util_FragmentBin=__class__,FragmentBin=exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_canvas_util_FragmentBin(function(){return this.init&&this.init.apply(this,arguments)},"TextBin",function(){this.init=function(i){this.width=i.width,this.height=i.height,this.x=i.x,this.y=i.y},this.size=function(){return this.width*this.height},this.split=function(i,t){var h=[this];if(10<this.width&&10<this.height){if(10<this.height-t){var s=new FragmentBin({x:this.x,y:this.y+t,width:this.width,height:this.height-t});h.push(s)}10<this.width-i&&(s=new FragmentBin({x:this.x+i,y:this.y,width:this.width-i,height:t}),h.push(s))}return this.width=i,this.height=t,this.filled=!0,h}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/canvas/util/SortedLinkedList.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/util/SortedLinkedList.js",friendlyPath:".SortedLinkedList",directory:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/util/",filename:"SortedLinkedList.js",src:'var Iterator=__class__,Iterator=Iterator(function(){return this.init&&this.init.apply(this,arguments)},"Iterator",function(){this.init=this.update=function(t){this._list=t||this._list,this._current=t.head,this._count=0},this.next=function(){var t=this._current.data;return this._current=this._current.next,this._count++,t},this.current=function(){return this._current.data},this.insertBefore=function(t){this._current.insertBefore(t),this._list.count++},this.insertAfter=function(t){this._current.insertAfter(t),this._list.count++},this.remove=function(){this._current.prev.remove(),this._current.prev==this._current&&(this._list.head=null),this._list.count--},this.hasNext=function(){return this._count<this._list.count},this.atHead=function(){return this._current==this._list.head}}),Item=__class__,Item=Item(function(){return this.init&&this.init.apply(this,arguments)},"Item",function(){this.init=function(t,i,e){this.data=t,this.prev=i||this,this.next=e||this},this.insertBefore=function(t){t=new Item(t,this.prev,this),this.prev=this.prev.next=t},this.insertAfter=function(t){t=new Item(t,this,this.next),this.next=this.next.prev=t},this.remove=function(){this.prev.next=this.next,this.next.prev=this.prev}}),Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_canvas_util_SortedLinkedList=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_canvas_util_SortedLinkedList(function(){return this.init&&this.init.apply(this,arguments)},"SortedLinkedList",function(){this.init=function(t){this.head=null,this._comparator=t,this.count=0},this.append=function(t){this._head.insertAfter(t),this.count++},this.insert=function(t){if(this.head){for(var i=this.iterator(),e=i.current(),s=!1;i.hasNext()&&!s;)s=!this._comparator(t,e),s||(i.next(),e=i.current());i.insertBefore(t),s&&i.atHead()&&(this.head=this.head.prev)}else this.head=new Item(t),this.count++},this.iterator=function(){return new Iterator(this)}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/canvas/TextFlow.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/TextFlow.js",friendlyPath:".TextFlow",directory:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/",filename:"TextFlow.js",src:'jsio("import lib.Enum as Enum"),jsio("import lib.PubSub as PubSub");var textFlowMode=Enum("NONE","WRAP","AUTOSIZE","AUTOSIZE_WRAP","AUTOFONTSIZE","AUTOFONTSIZE_WRAP","AUTOFONTSIZE_AUTOSIZE","AUTOFONTSIZE_WRAP_AUTOSIZE"),Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_canvas_TextFlow=__class__,TextFlow=exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_canvas_TextFlow(function(){return this.init&&this.init.apply(this,arguments)},PubSub,function(t){this.init=function(i){t(this,"init",arguments),this._target=i.target,this._lineWidth=0,this._line=[],this._lines=[],this._words=[],this._heightFound=this._maxHeight=this._maxWidth=this._maxWordWidth=0,this._offsetRect={x:0,y:0,width:0,height:0}},this.measureText=function(t,i){var h=this._opts;return"("==i[0]&&h.emoticonData&&h.emoticonData.data[i]?h.size:t.measureText(i).width},this._lineSplit=function(t){var i=this._opts,h=i.wrapCharacter?0:t.measureText(" ").width,e=i.text||"",s=i.wrapCharacter?e.replace(/\\t/g," ").match(/\\S[\\u3002\\uff0c]?|[\\n]/g)||[]:i.wrap||"justify"===i.horizontalAlign?e.replace(/\\t/g," ").match(/\\S+|[\\n]| +(?= )/g)||[]:e.split("\\n"),a=[];for(d in s){for(var r=s[d],n=-1,o=0,l=0;l<r.length;l++){var _=r[l];"("==_?n=l:")"==_&&-1<n&&(0<n-o&&a.push(r.substring(o,n)),a.push(r.substring(n,l+1)),o=l+1,n=-1)}o<r.length&&a.push(r.substring(o))}if(s=a,a=0,_=s.length,this._line=[],this._maxWordWidth=this._lineWidth=0,r=this.getAvailableWidth(),(i.hardWrap||exports.hardWrap)&&s.length&&this.measureText(t,e)>r){for(var s=[],i="",d=0;d<e.length;)_=e[d++],t.measureText(i+_).width>=r?(s.push(i),i=_):i+=_;""!==i&&s.push(i),_=s.length}for(;a<_;)r={word:s[a],width:this.measureText(t,s[a]),line:1},this._line.push(r),this._lineWidth+=r.width+h,this._maxWordWidth=Math.max(this._maxWordWidth,r.width),a++;this._lineWidth-=h},this._measureWords=function(t){var i=this._opts.wrapCharacter?0:t.measureText(" ").width,h=0,e=this._line.length;for(this._maxWordWidth=this._lineWidth=0;h<e;){var s=this._line[h];s.line=1,s.width=this.measureText(t,s.word),this._lineWidth+=s.width+i,this._maxWordWidth=Math.max(this._maxWordWidth,s.width),h++}this._lineWidth-=i},this._wrap=function(t,i){var h=this._opts.wrapCharacter?0:t.measureText(" ").width,e=0,s=[],a=[];this._lines=s;var r=this._maxWidth=0,n=this._line.length;if("justify"===this._opts.horizontalAlign){for(;r<n;){var o=this._line[r++],e=e+(o.width+h);"\\n"===o.word?(s.push(a),a=[],e=0):e>i?(a.length&&s.push(a),a=[o],e=o.width+h):a.push(o)}a.length&&s.push(a)}else{for(;r<n;)if(o=this._line[r++],"\\n"===o.word)s.push(a),a=[],e=0;else{var l=!a.length,_=l||this._opts.wrapCharacter?0:h;if(e+o.width+_>i)if(o.width>i){for(var o=o.word,d="",g=0,u=o.length;g<u;++g)l&&!d||this.measureText(t,d+o[g])+_+e<=i?d+=o[g]:(e=this.measureText(t,d),a.push({word:d,width:e,line:s.length}),s.push(a),a=[],_=e=0,l=!0,d=o[g]);d&&(e=this.measureText(t,d),a.push({word:d,width:e,line:s.length}))}else!l&&s.push(a),a=[o],e=o.width;else a.push(o),e+=o.width+_}0<a.length&&s.push(a)}},this._getLineSize=function(t){var i=this._opts;return(1>=t?1:i.lineHeight)*i.size},this._wordFlow=function(t){var t=this._opts.wrapCharacter?0:t.measureText(" ").width,i=this._lines;this._words=[];for(var h=this._maxHeight=this._maxWidth=0,e=i.length,s=this._getLineSize(e),a=0;h<e;){for(var r=i[h++],n=0,o=r.length,l=0;n<o;){var _=r[n++];_.x=l,_.y=a,_.line=h,this._words.push(_),l+=_.width+t}a+=s,l-=t,this._maxWidth=Math.max(this._maxWidth,l),this._maxHeight=Math.max(this._maxHeight,a)}},this._checkWidth=function(t,i){if(""===this._opts.text)return!1;var h=this._opts;if(i>this.getAvailableWidth()){var e=h.size*this._target.style.width/i|0;return h.size!==e&&this.publish("ChangeSize",e,t),!0}return!1},this._checkHeight=function(t,i,h,e){if(""!==this._opts.text&&!(2>Math.abs(h-i))){var s=Math.max(i+h>>1,1);if(this.publish("ChangeSize",s,t),e(),1!==s){var a=this._opts;this._lines.length*this._getLineSize(this._lines.length)>this.getAvailableHeight()?this._checkHeight(t,i,s,e):(this._heightFound=a.size,this._checkHeight(t,s,h,e))}}},this._horizontalAlign=function(t){var i=this._words;if(i.length){var h=t=this._opts.wrapCharacter?0:t.measureText(" ").width,e=i[i.length-1].line,s=this.getPaddingLeft(),a={left:-1,center:2,right:1,justify:3}[this._opts.horizontalAlign]||-1,r=this.getAvailableWidth();3===a&&(t=0);for(var n=0,o=i.length;n<o;){for(var l=n,_=i[n].line,d=0;n<o&&_===i[n].line;)d+=i[n].width+t,n++;if(-1===a)for(;l<n;)i[l++].x+=s;else if(3===a)for(_=_<e?(r-d)/(n-l-1):h,d=s;l<n;)i[l].x=d,d+=i[l].width+_,l++;else for(_=(r-d+t)/a+s;l<n;)i[l++].x+=_}}},this._verticalAlign=function(){var t=this._lines.length,i=this._opts.verticalAlign,h=this._words,e=this.getAvailableHeight(),s=h.length;if(s){if("top"==i)t=this.getPaddingTop();else var i="middle"==i?2:1,a=this._getLineSize(t),t=(e-t*a)/i+this.getPaddingTop();for(;s;)h[--s].y+=t;this._offsetRect.y+=t}},this.reflow=function(t,i){var h=this._opts,e=this.getAvailableWidth(),s=this.getAvailableHeight();switch(this._lineSplit(t),i){case textFlowMode.NONE:this._lines=[this._line],this._wordFlow(t);break;case textFlowMode.WRAP:this._wrap(t,e),this._wordFlow(t);break;case textFlowMode.AUTOSIZE:case textFlowMode.AUTOFONTSIZE_AUTOSIZE:this._lines=[this._line],this._wordFlow(t),(this._opts.fitWidth||e<this._maxWidth)&&this.publish("ChangeWidth",this._maxWidth+this.getHorizontalPadding()),(this._opts.fitHeight||s<this._maxHeight)&&this.publish("ChangeHeight",this._maxHeight+this.getVerticalPadding());break;case textFlowMode.AUTOSIZE_WRAP:this._wrap(t,e),this._wordFlow(t),(this._opts.fitWidth||e<this._maxWidth)&&this.publish("ChangeWidth",this._maxWidth+this.getHorizontalPadding()),(this._opts.fitHeight||s<this._maxHeight)&&this.publish("ChangeHeight",this._maxHeight+this.getVerticalPadding());break;case textFlowMode.AUTOFONTSIZE:if(this._checkWidth(t,this._lineWidth)&&this._lineSplit(t),this._lines=[this._line],h.allowVerticalSizing&&h.size>s){var a=bind(this,function(){this._measureWords(t),this._wordFlow(t)});this._checkHeight(t,1,h.size,a),this.publish("ChangeSize",this._heightFound,t),a()}else this._wordFlow(t);break;case textFlowMode.AUTOFONTSIZE_WRAP:this._wrap(t,e),this._wordFlow(t);var r=this._lines.length,a=this._getLineSize(r);h.allowVerticalSizing&&r*a>s&&(a=bind(this,function(){this._measureWords(t),this._wrap(t,e),this._wordFlow(t)}),this._checkHeight(t,1,h.size,a),this.publish("ChangeSize",this._heightFound,t),a());break;case textFlowMode.AUTOFONTSIZE_WRAP_AUTOSIZE:this._wrap(t,e),this._wordFlow(t),s<this._maxHeight&&this.publish("ChangeHeight",this._maxHeight+this.getVerticalPadding())}if(s=this._words,r=s[s.length-1],s.length){var n=this._target.getStrokeWidth(),a=Math.ceil(h.size*h.lineHeight+n);this._offsetRect.x=this.getPaddingLeft(),this._offsetRect.y=this.getPaddingTop(),this._offsetRect.width=e,this._offsetRect.height=r.line*a,this._horizontalAlign(t),this._verticalAlign(),1===r.line&&(this._offsetRect.x=s[0].x,this._offsetRect.width=r.x+r.width-s[0].x),this._offsetRect.width+=n}},this.setOpts=function(t){this._opts=t},this.getWords=function(){return this._words},this.getHorizontalPadding=function(){var t=this._target.style.padding;return t.left+t.right},this.getPaddingLeft=function(){return this._target.style.padding.left},this.getAvailableWidth=function(){return this._target.style.width-this.getHorizontalPadding()},this.getVerticalPadding=function(){var t=this._target.style.padding;return t.top+t.bottom},this.getPaddingTop=function(){return this._target.style.padding.top},this.getAvailableHeight=function(){return this._target.style.height-this.getVerticalPadding()},this.getOffsetRect=function(){return this._offsetRect}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/legacySettings.js":{path:"modules/devkit-core/modules/timestep/src/ui/legacySettings.js",friendlyPath:"...legacySettings",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"legacySettings.js",src:"exports={disableVerticalAutoSize:!1,textViewColor:!1};",pre:!0},"modules/devkit-core/modules/timestep/src/ui/backend/canvas/ViewDebugger.js":{path:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/ViewDebugger.js",friendlyPath:".backend.canvas.ViewDebugger",directory:"modules/devkit-core/modules/timestep/src/ui/backend/canvas/",filename:"ViewDebugger.js",src:'var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_canvas_ViewDebugger=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_backend_canvas_ViewDebugger(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,e){this._target=t,this._opts=e=merge(e,{trackClicks:!1,outline:!1,flash:!1}),this.outline=e.outline,this.trackClicks=e.trackClicks,this.flash=e.flash,this._nextFlash=this._flashState=0},this.preRender=function(t){this._time||(this._time=+new Date);var e=this._time;this._time=+new Date,this._dt=this._time-e,e=this._target.style,this.outline&&(t.save(),t.globalAlpha=.2,t.strokeStyle="black",t.lineWidth=1,t.strokeRect(0,0,e.width,e.height),t.restore())},this.postRender=function(t){var e=this._target;if(this.trackClicks)for(var s=e._clicks.length-1;0<=s;--s){var i=e._clicks[s];t.setFillStyle("rgba(0, 0, 0, "+i.o+")"),i.o-=.4*this._dt/1e3,0<i.o?(t.circle(i.x,i.y,15),t.fill()):e._clicks.splice(s,1)}if(this.flash){switch(this._flashState){case 0:t.setFillStyle("rgba(0, 0, 0, 0.5)");break;case 1:t.setFillStyle("rgba(0, 0, 0, 0)");break;case 2:t.setFillStyle("rgba(255, 255, 255, 0.5)");break;case 3:t.setFillStyle("rgba(0, 0, 0, 0)")}s=+new Date,s>this._nextFlash&&(this._flashState=(this._flashState+1)%4,this._nextFlash=s+300),t.fillRect(0,0,e.style.width,e.style.height)}}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/InputPrompt.js":{path:"modules/devkit-core/modules/timestep/src/ui/InputPrompt.js",friendlyPath:"ui.InputPrompt",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"InputPrompt.js",baseMod:"ui",basePath:"/Users/tsunami/projects/devkitPoj/helloworld/modules/devkit-core/modules/timestep/src/ui",src:'jsio("import device"),jsio("import .debug.deprecated as deprecated");var inputDialog=device.get("inputDialog"),Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_InputPrompt=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_InputPrompt(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){function e(e,s){return void 0!==t[e]?t[e]:s}t=t||{},this._opts=merge({title:e("title",""),value:e("value",""),okText:e("okText","ok"),cancelText:e("cancelText","cancel"),message:e("message",e("prompt","")),autoFocus:!!e("autoFocus",e("autoShowKeyboard",!0)),isPassword:!!e("isPassword",!1),keyboardType:e("keyboardType","default"),defaultBrowserStyles:e("defaultBrowserStyles",!0)},t),this.onChange=this._opts.onChange,this.onSubmit=this._opts.onSubmit,DEBUG&&jsio("import .debug.types").check("InputPrompt",{title:{value:this._opts.title,type:"string",required:!0},"message (prompt)":{value:this._opts.message,type:"string",required:!0},"ok text":{value:this._opts.okText,type:"string",required:!0},"cancel text":{value:this._opts.cancelText,type:"string",required:!0},value:{value:this._opts.value,type:"string",required:!0},"auto-show keyboard":{value:this._opts.autoShowKeyboard,type:"boolean",require:!0},"is password field":{value:this._opts.isPassword,type:"boolean",require:!0},"keyboard type":{value:this._opts.keyboardType,type:"key",dictionary:exports.KeyboardTypes.htmlTypes,toLowerCase:!0,require:!0}})},this.show=function(){this._prompt=inputDialog.show(this,this._opts)},this.getValue=function(){return this._opts.value},this.setValue=function(t){return this._opts.value=t,this},this.setOkButton=function(t){return this._opts.okText=t,this},this.setCancelButton=function(t){return this._opts.cancelText=t,this},this.setKeyboardType=function(t){return this._opts.keyboardType=t,this},this.setMessage=function(t){return this._opts.message=t,this},deprecated.method(this,"requestFocus",function(){return this.show(),this}),deprecated.method(this,"closeEditField"),deprecated.method(this,"refresh"),deprecated.method(this,"setHint")}),jsio("import .keyboardTypes as exports.KeyboardTypes");',pre:!0},"modules/devkit-core/modules/timestep/src/ui/debug/deprecated.js":{path:"modules/devkit-core/modules/timestep/src/ui/debug/deprecated.js",friendlyPath:".debug.deprecated",directory:"modules/devkit-core/modules/timestep/src/ui/debug/",filename:"deprecated.js",src:'exports.method=function(e,o,r){e[o]=DEBUG?function(){if(logger.ERROR&&console.error("ERROR",".debug.deprecated","@deprecated",o,e.constructor.name),r)return r.apply(this,arguments)}:r||function(){}};',pre:!0},"modules/devkit-core/modules/timestep/src/ui/debug/types.js":{path:"modules/devkit-core/modules/timestep/src/ui/debug/types.js",friendlyPath:".debug.types",directory:"modules/devkit-core/modules/timestep/src/ui/debug/",filename:"types.js",src:'if(DEBUG){var isNumber=function(e){return"number"==typeof e&&!isNaN(e)},VALIDATORS={string:function(e){return"string"==typeof e},integer:function(e){return isNumber(e)&&Math.floor(e)==e},number:isNumber,float:isNumber,array:Array.isArray,object:function(e){return"object"==typeof e},key:function(e,r){return r.toLowerCase?(e.toLowerCase&&e.toLowerCase())in lowerCaseKeys(r.dictionary):r.dictionary&&e in r.dictionary}},ERRORS={default:function(e,r,o){return e+\' "\'+r+\'" should be a \'+o.type},key:function(e,r,o){return e+\' "\'+r+\'" should be a key from the set: \'+Object.keys(o.toLowerCase?lowerCaseKeys(o.dictionary):o.dictionary).join(", ")}},lowerCaseKeys=function(e){var r={};if(e)for(var o in e)r[o.toLowerCase()]=!0;return r},getError=function(e,r,o){return e=(ERRORS[o.type]||ERRORS.default)(e,r,o),new TypeError(e)};exports.check=function(e,r){DEBUG&&Object.keys(r).forEach(function(o){var t=r[o];t.required&&void 0===t.value||null===t.value&&!t.allowNull?logger.ERROR&&console.error("ERROR",".debug.types",new TypeError(e+\' "\'+o+\'" required\')):t.type in VALIDATORS&&(VALIDATORS[t.type](t.value,t)||logger.ERROR&&console.error("ERROR",".debug.types",getError(e,o,t)))})}}else exports.check=function(){};',pre:!0},"modules/devkit-core/modules/timestep/src/ui/keyboardTypes.js":{path:"modules/devkit-core/modules/timestep/src/ui/keyboardTypes.js",friendlyPath:".keyboardTypes",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"keyboardTypes.js",src:'jsio("import device"),exports.nativeTypes={Default:0,NumbersAndPunctuation:2,URL:3,NumberPad:4,PhonePad:5,EmailAddress:7,DecimalPad:8,url:3,number:device.isIOS?2:4,tel:5,email:7},exports.htmlTypes={Default:"text",NumbersAndPunctuation:"number",URL:"url",NumberPad:"number",PhonePad:"tel",EmailAddress:"email",DecimalPad:"number",number:"number",url:"url",tel:"tel",email:"email",date:"date",time:"time",datetime:"datetime",month:"month"},exports.types={};for(var type in exports.nativeTypes)exports.types[type.toLowerCase()]=exports.nativeTypes[type];for(type in exports.htmlTypes)exports.htmlTypes[type.toLowerCase()]=exports.htmlTypes[type];exports.has=function(e){return e.toLowerCase()in exports.types},exports.getNativeType=function(e){return exports.types[e.toLowerCase()]||0},exports.getHTMLType=function(e){return exports.htmlTypes[e.toLowerCase()]||e};',pre:!0},"modules/devkit-core/modules/timestep/src/ui/resource/Font.js":{path:"modules/devkit-core/modules/timestep/src/ui/resource/Font.js",friendlyPath:"ui.resource.Font",directory:"modules/devkit-core/modules/timestep/src/ui/resource/",filename:"Font.js",src:'function parseSize(t){if(t=t.match(sizeParser),!t)throw"invalid font size";return{value:parseFloat(t[1]),unit:t[2]}}function toPx(t){return{value:t.value*TO_PX[t.unit],unit:"px"}}function toPt(t){return{value:t.value*TO_PT[t.unit],unit:"pt"}}function parseFont(t){var e=t.match(fontParser);if(!e)throw"invalid font string";return t={},t.weight=e[1]||"normal",t.style=e[2]||"normal",t.size={value:parseFloat(e[3]),unit:e[4]},e=e[5].split(","),t.names=e.map(function(t){return t.replace(/[\\-_]/g," ").replace(/\\s+/g," ").replace(/[\'"]/g,"").replace(/^\\s+|\\s+$/g,"")}),t.name=t.names[0],e=e.map(function(t){return t.replace(/\\s+/g," ").replace(/[\'"]/g,"").replace(/^\\s+|\\s+$/g,"")}),t.origName=e[0],t}var _cache={},weights="normal|bold|bolder|lighter|[1-9]00",styles="normal|italic|oblique",units="px|pt|pc|in|cm|mm|%",name="([\\\\w\\"\'\\\\- ]+(?:,|$))+",fontParser=RegExp("^ *(?:("+weights+") *)?(?:("+styles+") *)?([\\\\d\\\\.]+)("+units+")("+name+")","i"),sizeParser=RegExp("([\\\\d\\\\.]+)("+units+")","i"),TO_PT={pt:1,px:.75,in:72,mm:72/25.4,cm:72/2.54},TO_PX={pt:4/3,px:1,in:96,mm:96/25.4,cm:96/2.54},Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_resource_Font=__class__,Font=exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_resource_Font(function(){return this.init&&this.init.apply(this,arguments)},function(){var t=null;this.constructor.setDefaultFontFamily=function(e){t=e};var e={name:t,size:20,unit:"px",style:"",weight:""};this.init=function(t){"string"==typeof t?(_cache[t]=this,this._string=t,t=parseFont(t)):t=merge(t,e),"string"==typeof t.size&&(t.size=parseSize(t.size)),this._name=t.name,this._origName=t.origName,this._style=t.style,this.size=t.size,this.sizePx=toPx(this.size).value,this.sizePt=toPt(this.size).value,this._weight=t.weight,this._isBold=/bold/i.test(this._weight)},this.getSize=function(){return this.sizePx},this.getName=function(){return this._name},this.getOrigName=function(){return this._origName},this.getWeight=function(){return this._weight}});exports.parse=function(t){return t in _cache?_cache[t]:new Font(t)};',pre:!0},"modules/devkit-core/modules/timestep/src/ui/init.js":{path:"modules/devkit-core/modules/timestep/src/ui/init.js",friendlyPath:"ui.init",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"init.js",src:'jsio("import .View"),jsio("import .layout.BackingExtension"),jsio("import .Engine");',pre:!0},"modules/devkit-core/modules/timestep/src/ui/layout/BackingExtension.js":{path:"modules/devkit-core/modules/timestep/src/ui/layout/BackingExtension.js",friendlyPath:".layout.BackingExtension",directory:"modules/devkit-core/modules/timestep/src/ui/layout/",filename:"BackingExtension.js",src:'jsio("import ..View"),jsio("import ..backend.strPad as strPad"),jsio("import ..backend.BaseBacking"),jsio("import .BoxLayout"),jsio("import .LinearLayout"),jsio("import .Padding"),jsio("import util.setProperty");var layoutProps={layout:{value:!1,cb:"_onSetLayout"},inLayout:{value:!0,cb:"_onInLayout"},order:{value:0,cb:"_onOrder"},direction:{value:"vertical",cb:"_onLayoutChange"},flex:{value:0,cb:"_onLayoutChange"},justifyContent:{value:"start",cb:"_onLayoutChange"},centerX:{value:!1,cb:"_onLayoutChange"},centerY:{value:!1,cb:"_onLayoutChange"},top:{value:void 0,cb:"_onLayoutChange"},right:{value:void 0,cb:"_onLayoutChange"},bottom:{value:void 0,cb:"_onLayoutChange"},left:{value:void 0,cb:"_onLayoutChange"},minWidth:{value:void 0,cb:"_onBoundsChange"},minHeight:{value:void 0,cb:"_onBoundsChange"},maxWidth:{value:void 0,cb:"_onBoundsChange"},maxHeight:{value:void 0,cb:"_onBoundsChange"},layoutWidth:{value:void 0,cb:"_onLayoutWidth"},layoutHeight:{value:void 0,cb:"_onLayoutHeight"},fixedAspectRatio:{value:!1,cb:"_onFixedAspectRatio"},aspectRatio:{value:null,cb:"_onLayoutChange"},margin:{value:null,cb:"_onMarginChange"},padding:{get:function(){return this._padding||(this._padding=new Padding)},set:function(t){this._padding?this._padding.update(t):this._padding=new Padding(t),this._onLayoutChange()}}},key;for(key in layoutProps)backend.BaseBacking.addProperty(key,layoutProps[key]);View.addExtension({extend:function(t){t=t.prototype,t._sortOrder=strPad.initialValue,t._onOrder=function(t,i){this._sortOrder=strPad.pad(i),this._onLayoutChange()},t._onMarginChange=function(t,i){this._cachedMargin?this._cachedMargin.update(i):this._cachedMargin=new Padding(i),this.top=this._cachedMargin.top,this.bottom=this._cachedMargin.bottom,this.left=this._cachedMargin.left,this.right=this._cachedMargin.right,this._onLayoutChange()},t._onFixedAspectRatio=function(t,i){i&&this.updateAspectRatio()},t.updateAspectRatio=function(t,i){this.aspectRatio=(t||this.width)/(i||this.height)},t.enforceAspectRatio=function(t,i,e){t&&i&&this.updateAspectRatio(t,i);var a=this._view.getSuperview(),h=this._view._opts,t=t||h.width,i=i||h.height;h.width?(t=h.width,i=h.width/this.aspectRatio):h.height?(i=h.height,t=h.height*this.aspectRatio):a&&(this.layoutWidth&&a.style.width?(t=a.style.width*parseFloat(this.layoutWidth)/100,i=t/this.aspectRatio):this.layoutHeight&&a.style.height?(i=a.style.height*parseFloat(this.layoutHeight)/100,t=i*this.aspectRatio):this.flex&&"horizontal"==a.style.direction&&this.width?(t=this.width,i=t/this.aspectRatio):this.flex&&"vertical"==a.style.direction&&this.height?(i=this.height,t=i*this.aspectRatio):e||setTimeout(bind(this,"enforceAspectRatio",t,i,!0),0)),this.width=t,this.height=i};var i={linear:LinearLayout,box:BoxLayout};t._onSetLayout=function(t,e){var a=this._view,h=i[e];h?(a.__layout=new h({view:a}),this.addResizeListeners()):this._layout=!1},t.addResizeListeners=function(){this._hasResizeListeners||(this._hasResizeListeners=!0,util.setProperty(this,"width",{cb:"_onWidth",value:this.width,configurable:!0}),util.setProperty(this,"height",{cb:"_onHeight",value:this.height,configurable:!0}))},t._onWidth=function(t,i){"number"==typeof this.maxWidth&&(this._width=Math.min(this.maxWidth,i||0)),"number"==typeof this.minWidth&&(this._width=Math.max(this.minWidth,i||0)),this._aspectRatio&&(this._height=this._width/this._aspectRatio),this._onLayoutChange()},t._onHeight=function(t,i){"number"==typeof this.maxHeight&&(this._height=Math.min(this.maxHeight,i||0)),"number"==typeof this.minHeight&&(this._height=Math.max(this.minHeight,i||0)),this._aspectRatio&&(this._width=this._height*this._aspectRatio),this._onLayoutChange()},t._onInLayout=function(t,i){var e=this._superview&&this._superview.__layout;e&&(i?e.add(this._view):(e.remove(this._view),this._view.needsReflow()))},t._onLayoutWidth=function(t,i){"%"==i.charAt(i.length-1)?(this._layoutWidthValue=parseFloat(i)/100,this._layoutWidthIsPercent=!0):(this._layoutWidthValue=0,this._layoutWidthIsPercent=!1),this._onLayoutChange()},t._onLayoutHeight=function(t,i){"%"==i.charAt(i.length-1)?(this._layoutHeightValue=parseFloat(i)/100,this._layoutHeightIsPercent=!0):(this._layoutHeightValue=0,this._layoutHeightIsPercent=!1),this._onLayoutChange()},t._onBoundsChange=function(){this.addResizeListeners(),this._onLayoutChange()},t._onLayoutChange=function(){var t=this.getSuperview();t&&t.__layout&&t.needsReflow(),this._view.needsReflow()}}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/layout/BoxLayout.js":{path:"modules/devkit-core/modules/timestep/src/ui/layout/BoxLayout.js",friendlyPath:".BoxLayout",directory:"modules/devkit-core/modules/timestep/src/ui/layout/",filename:"BoxLayout.js",src:'var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_layout_BoxLayout=__class__,BoxLayout=exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_layout_BoxLayout(function(){return this.init&&this.init.apply(this,arguments)},function(){var e=this.constructor;this.init=function(t){this._view=t.view,e.listenSubviewResize(t.view)},this.reflow=function(){var t=this._view,i=t.getSuperview(),o=t.style;("wrapContent"==o._layoutWidth||"wrapContent"==o._layoutHeight)&&e.addSubviewListener(t),i&&(((t=!o.inLayout||!o.flex||"linear"!=i.style.layout)||!i.__layout.isHorizontal())&&this.reflowX(),(t||!i.__layout.isVertical())&&this.reflowY())},e.addSubviewListener=function(e){if(!e.__hasSubviewListener){e.__hasSubviewListener=!0,e.subscribe("SubviewAdded",this,"_onSubviewAdded",e),e.subscribe("SubviewRemoved",this,"_onSubviewRemoved",e);for(var t=e.getSubviews(),i=0,o=t.length;i<o;++i)this._onSubviewAdded(e,t[i])}},e.removeSubviewListener=function(e){if(e.__hasSubviewListener){e.__hasSubviewListener=!1,e.unsubscribe("SubviewAdded",this,"_onSubviewAdded"),e.unsubscribe("SubviewRemoved",this,"_onSubviewRemoved");for(var t=e.getSubviews(),i=0,o=t.length;i<o;++i)this._onSubviewRemoved(e,t[i])}},e._onSubviewAdded=function(e,t){t.style.addResizeListeners(),e.connectEvent(t,"resize",bind(e,"needsReflow"))},e._onSubviewRemoved=function(e,t){e.disconnectEvent(t,"resize")},e.addResizeListener=function(e){e.style.__removeSuperviewResize&&e.style.__removeSuperviewResize();var t=bind(e,"needsReflow"),i=e.getSuperview();i&&(i.on("resize",t),e.style.__removeSuperviewResize=bind(e.style,function(){this.__removeSuperviewResize=null,i&&i.removeListener("resize",t)}))},e.listenSubviewResize=function(e){e.__root&&this.addResizeListener(e),e.on("ViewAdded",bind(this,"addResizeListener",e)),e.on("ViewRemoved",bind(e.style,function(){this.__removeSuperviewResize&&this.__removeSuperviewResize()}))},this.reflowX=function(e){var e=this._view,t=e.style,e=e.getSuperview();if(t.inLayout&&"linear"==e.style.layout)var i=e.__layout.isHorizontal(),o=e.style.padding;var s,e=e.style.width,n=e-(o&&o.getHorizontal()||0);s="wrapContent"==t._layoutWidth?this.getContentWidth()+t.padding.right:!i&&e&&void 0!=t.right&&void 0!=t.left?n/t.scale-(t.left||0)-(t.right||0):e&&t._layoutWidthIsPercent?n/t.scale*t._layoutWidthValue:void 0==t.width&&e?n/t.scale:t._width,t.centerAnchor&&(t.anchorX=(s||0)/2),t._width=s,!i&&e&&(void 0!==s&&t.centerX&&(t.x=Math.round((n-t.scale*s)/2+(o&&o.left||0))),void 0!==s&&void 0==t.left&&void 0!=t.right&&(t.x=Math.round(n-t.scale*s-t.right-(o&&o.right||0))),void 0!=t.left)&&(t.x=Math.round(t.left+(o&&o.left||0)))},this.reflowY=function(){var e=this._view,t=e.style,e=e.getSuperview();if(t.inLayout&&"linear"==e.style.layout)var i=e.__layout.isVertical(),o=e.style.padding;var s,e=e.style.height,n=e-(o&&o.getVertical()||0);s="wrapContent"==t._layoutHeight?this.getContentHeight()+t.padding.bottom:!i&&e&&void 0!=t.top&&void 0!=t.bottom?n/t.scale-(t.top||0)-(t.bottom||0):e&&t._layoutHeightIsPercent?n/t.scale*t._layoutHeightValue:void 0==t.height&&e?n/t.scale:t.height,t.centerAnchor&&(t.anchorY=(s||0)/2),t._height=s,!i&&e&&(void 0!==s&&t.centerY&&(t.y=Math.round((n-t.scale*s)/2+(o&&o.top||0))),void 0!==s&&void 0==t.top&&void 0!=t.bottom&&(t.y=Math.round(n-t.scale*s-t.bottom-(o&&o.bottom||0))),void 0!=t.top)&&(t.y=Math.round(t.top+(o&&o.top||0)))},this.getContentWidth=function(){for(var e,t=0,i=this._view.getSubviews(),o=0;e=i[o];++o)!e.style._layoutWidthIsPercent&&e.style.visible&&(e=e.style.x+e.style.width*e.style.scale+(e.style.right||0),e>t&&(t=e));return t},this.getContentHeight=function(){for(var e,t=this._view.getSubviews(),i=0,o=0;e=t[o];++o)!e.style._layoutHeightIsPercent&&e.style.visible&&(e=e.style.y+e.style.height*e.style.scale+(e.style.bottom||0),e>i&&(i=e));return i}});',
pre:!0},"modules/devkit-core/modules/timestep/src/ui/layout/LinearLayout.js":{path:"modules/devkit-core/modules/timestep/src/ui/layout/LinearLayout.js",friendlyPath:".LinearLayout",directory:"modules/devkit-core/modules/timestep/src/ui/layout/",filename:"LinearLayout.js",src:'var _debug,VIEW_STR;jsio("import ui.layout.Padding as Padding"),jsio("import ui.backend.strPad as strPad"),jsio("import .BoxLayout");var DEBUG=!1,Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_layout_LinearLayout=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_layout_LinearLayout(function(){return this.init&&this.init.apply(this,arguments)},BoxLayout,function(i){function e(){return this.view.style._sortOrder+this.index}this.init=function(){i(this,"init",arguments),this._view.subscribe("SubviewAdded",this,"_onSubviewAdded"),this._view.subscribe("SubviewRemoved",this,"_onSubviewRemoved"),this._views=[];for(var e,t=this._view.getSubviews(),s=0;e=t[s];++s)e.style.inLayout&&this._views.push(this._initLayoutView(e));this._forwardEvents(),this._debug=DEBUG},this._onSubviewRemoved=function(i){i.style.inLayout&&this.remove(i)},this._onSubviewAdded=function(i){i.style.inLayout&&this.add(i)},this.debug=function(){return this._debug=!0,this},this._setDirection=function(i){this._direction=i,this._propPos=(i=this.isVertical())?"y":"x",this._propPosOpp=i?"x":"y",this._propDim=i?"_height":"_width",this._minPropDim=i?"minHeight":"minWidth",this._maxPropDim=i?"maxHeight":"maxWidth",this._layoutPropDim=i?"layoutHeight":"layoutWidth",this._propDimOpp=i?"_width":"_height",this._propSideA=i?"top":"left",this._propSideB=i?"bottom":"right",this._flexProp=i?"vflex":"hflex"},this.isVertical=function(){return"vertical"==this._direction},this.isHorizontal=function(){return"horizontal"==this._direction},this._events=["ViewWillAppear","ViewDidAppear","ViewWillDisappear","ViewDidDisappear"],this._forwardEvents=function(){for(var i,e=0;i=this._events[e];++e)this._view.subscribe(i,this,"_forwardSignal",i)},this._events=["ViewWillAppear","ViewDidAppear","ViewWillDisappear","ViewDidDisappear"],this._forwardSignal=function(){for(var i,e=0;i=this._views[e];++e)i.view.publish.apply(i.view,arguments)},this._initLayoutView=function(i){return i.style.inLayout=!0,this._debug&&_debug.log("view",this._view.uid,"layout: adding view",i.uid,"("+this._propDim,"=",i.style[this._propDim]+")"),this._view.connectEvent(i,"Resize",bind(this,"reflow")),{view:i,index:0,toString:e}},this.getSize=function(){return this._size},this.getViewIndex=function(i){for(var e,t=0;e=this._views[t];++t)if(e.view==i)return t;return-1},this.addSubviews=function(i){if(this._debug&&_debug.log(this._view.uid,"adding",i.length,"views"),isArray(i)){for(var e=0,t=i.length;e<t;++e){var s=i[e];s&&this._views.push(this._initLayoutView(s))}this._view.needsReflow()}else this.insertBefore(i);return this},this.getSubviews=function(){return this._views.map(function(i){return i.view})},this.remove=function(i){var e=this.getViewIndex(i);-1!=e&&(this._views.splice(e,1),this._view.disconnectEvent(i,"Resize"),this._view.needsReflow())},this.add=this.insertBefore=function(i,e){if(-1==this.getViewIndex(i)){var t=this._initLayoutView(i),s=!1;if(e){var r=this.getViewIndex(e);-1!=r&&(this._views.splice(r,0,t),s=!0)}s||this._views.push(t),this._view.needsReflow()}},this.insertAfter=function(i,e){if(-1==this.getViewIndex(i)){var t=this._initLayoutView(i),s=!1;if(e){var r=this.getViewIndex(e);-1!=r&&(this._views.splice(r+1,0,t),s=!0)}s||this._views.unshift(t),this._view.needsReflow()}},this.reflow=function(){i(this,"reflow",arguments);for(var e,t=this._view.getSubviews(),s={},r=0;e=t[r];++r)s[e.uid]=strPad.pad(r);for(r=t=0;e=this._views[r];++r)e.view.style.visible&&(e.index=s[e.view.uid],++t);if(t){this._views.sort(),s=this._view.style,s.direction!=this._direction&&this._setDirection(s.direction);var o=this._view.getPosition().scale,n="vertical"==this._direction,h=this._propDim,_=this._minPropDim,a=this._propSideA,u=this._propSideB,d=s.padding,v=d&&(n?d.getVertical():d.getHorizontal())||0,w=s[h],l=this._views;this._debug&&_debug.log(VIEW_STR(this._view)+": layout",this._direction+",",l.length,"subview(s):")&&_debug.stepIn()&&this._summarize();for(var p=0,f=0,r=0;e=l[r];++r){var c=e.view.style;c.visible&&(e.view.reflowSync(),e.margins=(c[a]||0)+(c[u]||0),c.flex?(f+=c.flex,e.baseSize=(c[_]||0)*c.scale+e.margins,p+=e.baseSize):p+=(c[h]||0)*c.scale+e.margins)}if(!(f&&void 0==w||(r=w-v,0>r))){for(var _=s.justifyContent,v=f?w:p+v,p=r-p,g=w=0,r=0;e=l[r];++r)c=e.view.style,c.visible&&c.flex&&(g=e.baseSize+p*(c.flex/f)/c.scale+g,u=Math.round(g*o)/o,g-=u,e.dim=u-e.margins,e.dim>c[this._maxPropDim]&&(e.dim=c[this._maxPropDim]),w+=u);if(r=p-w,d=d&&d[a]||0,f=0,0<r)switch(_){case"end":d+=r;break;case"center":d+=r/2;break;case"space":f=r/(t-1)||0;break;case"space-outside":f=r/(t+1)||0,d+=f}for(t=this._propPos,r=0;e=l[r];++r)d=(d*o|0)/o,c=e.view.style,c.visible&&(c[t]=d+(c[a]||0),this._debug&&_debug.log("->",VIEW_STR(e.view),t,"=",c[t]),c.flex&&(c[h]=e.dim,this._debug&&_debug.log("->",VIEW_STR(e.view),h,"=",c[h])),d+=f+(c[h]||0)*c.scale+e.margins);this._debug&&this._summarize()&&_debug.stepOut(),n&&"wrapContent"==s.layoutHeight?this.reflowY():!n&&"wrapContent"==s.layoutWidth&&this.reflowX(),this._size!=v&&(this._size=v)}}},this._summarize=function(){for(var i,e=this._views,t=0;i=e[t];++t){var s=i.view.style;_debug.log("*",VIEW_STR(i.view)+": "+(s.visible?"":"invisible"),s.x+","+s.y+"-"+s.width+"x"+s.height+" (flex="+(s.flex||0)+")")}return!0}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/layout/Padding.js":{path:"modules/devkit-core/modules/timestep/src/ui/layout/Padding.js",friendlyPath:"ui.layout.Padding",directory:"modules/devkit-core/modules/timestep/src/ui/layout/",filename:"Padding.js",src:'Padding=__class__,exports=Padding=Padding(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=this.update=function(t){if(t instanceof Padding)this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left;else switch("string"==typeof t&&(t=t.split(/\\s+/).map(function(t){return parseFloat(t)})),t&&t.length||(t=[t||0]),t.length){case 1:this.left=this.right=this.top=this.bottom=t[0];break;case 2:this.top=this.bottom=t[0],this.left=this.right=t[1];break;case 3:this.top=t[0],this.left=this.right=t[1],this.bottom=t[2];break;case 4:this.top=t[0],this.right=t[1],this.bottom=t[2],this.left=t[3]}},this.getVertical=function(){return this.top+this.bottom},this.getHorizontal=function(){return this.left+this.right},this.toString=function(){return[this.top,this.right,this.bottom,this.left].join(" ")}});',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/native/FontRenderer.js":{path:"modules/devkit-core/modules/timestep/src/platforms/native/FontRenderer.js",friendlyPath:".FontRenderer",directory:"modules/devkit-core/modules/timestep/src/platforms/native/",filename:"FontRenderer.js",src:'jsio("import ui.Color as Color"),jsio("import ui.filter as filter"),jsio("import ui.resource.Font as Font");var max=Math.max,_customFonts={},_customFontInfo={};exports.init=function(){var t=window.CONFIG;if(t&&t.fonts)for(var t=t.fonts,o=0,i=t.length;o<i;o++){var e=t[o],s={fontName:e.fontName,settings:e,imagesLoaded:-1,imagesTotal:0,loaded:!1};_customFonts[e.fontName]=s,loadingCustomFont(s)}};var loadCustomFontImage=function(t,o,i){var e=new Image,o="resources/fonts/"+t.fontName+"_"+o+(i?"_Stroke.png":".png");return e.onload=function(){e.onload=null,t.imagesLoaded++,t.loaded=t.imagesLoaded===t.imagesTotal},e._src=o,e.src=o,e},findVerticalInfo=function(t){for(var o=[{start:65,end:90},{start:97,end:122},{start:32,end:255}],i=!1,e=0,s=0,n=0,r=o.length;n<r;n++){for(var a=o[n],l=a.start;l<=a.end;l++){var m=t[l];m&&(e=max(e,m.h),s=max(s,m.h),i=!0)}if(i)break}return{baseline:e,bottom:s}},findHorizontalInfo=function(t){for(var o=[{start:97,end:122},{start:65,end:90},{start:32,end:255}],i=0,e=0,s=0,n=o.length;s<n;s++){for(var r=o[s],a=r.start;a<=r.end;a++){var l=t[a];l&&(i+=l.w,e++)}if(0!==e)break}return{width:.8*i/e}},loadingCustomFont=function(t){if(-1!==t.imagesLoaded)return!t.loaded;var o=t.settings,i=o.fontName,e=_customFontInfo[i];e?(t.dimensions=e.dimensions,t.horizontal=e.horizontal,t.vertical=e.vertical):(t.dimensions=JSON.parse(CACHE["resources/fonts/"+i+".json"]),t.horizontal=findHorizontalInfo(t.dimensions),t.vertical=findVerticalInfo(t.dimensions),_customFontInfo[i]={dimensions:t.dimensions,horizontal:t.horizontal,vertical:t.vertical});for(var i=t.images=[],e=t.strokeImages=[],s=t.imagesLoaded=0;s<o.count;s++)i.push(loadCustomFontImage(t,s,!1)),t.imagesTotal++,t.settings.stroke&&(e.push(loadCustomFontImage(t,s,!0)),t.imagesTotal++);return!0};exports.findFontInfo=function(t){var t=Font.parse(t.font),o=t.getName();return o&&_customFonts[o]?(customFont=_customFonts[o],t.customFont=customFont,t.scale=t.getSize()/customFont.settings.size,t):null},exports.wrapMeasureText=function(t){return function(o){var i=exports.findFontInfo(this);return!i||loadingCustomFont(i.customFont)?t.apply(this,arguments):(i=this._ctx.measureTextBitmap(o+"",i),i.failed?t.apply(this,arguments):i)}},exports.wrapFillText=function(t){return function(o,i,e,s){var n=exports.findFontInfo(this);if(!n)return t.apply(this,arguments);if(!loadingCustomFont(n.customFont)){var r=Color.parse(this.fillStyle);if(this.__compositeColor!==r&&(this.__compositeColor=r,this.__compositeFilter||(this.__compositeFilter=new filter.MultiplyFilter(r)),this.__compositeFilter.update(r)),this.setFilter(this.__compositeFilter),!this._ctx.fillTextBitmap(this,i,e,o+"",s,this.fillStyle,n,0))return t.apply(this,arguments)}}},exports.wrapStrokeText=function(t){return function(o,i,e,s){var n=exports.findFontInfo(this);if(!n)return t.apply(this,arguments);if(!loadingCustomFont(n.customFont)){var r=Color.parse(this.strokeStyle);if(this.__compositeStrokeColor!==r&&(this.__compositeStrokeColor=r,this.__compositeStrokeFilter||(this.__compositeStrokeFilter=new filter.MultiplyFilter(r)),this.__compositeStrokeFilter.update(r)),this.setFilter(this.__compositeStrokeFilter),!this._ctx.fillTextBitmap(this,i,e,o+"",s,this.strokeStyle,n,1))return t.apply(this,arguments)}}};',pre:!0},"modules/devkit-core/modules/timestep/src/ui/Color.js":{path:"modules/devkit-core/modules/timestep/src/ui/Color.js",friendlyPath:"ui.Color",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"Color.js",src:'var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_Color=__class__,RGBA=exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_Color(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){this.b=this.g=this.r=0,this.a=1,this.update.apply(this,arguments)},this.update=function(e){if(2<arguments.length)this.r=arguments[0],this.g=arguments[1],this.b=arguments[2],this.a=void 0!==arguments[3]?arguments[3]:1;else if("string"==typeof e){var n=cache[e];n?this.set(n):this.parse(e)}else e&&this.set(e)},this.get=function(){return{r:this.r,g:this.g,b:this.b,a:this.a}},this.set=function(e){void 0!==e&&(this.r=e.r||0,this.g=e.g||0,this.b=e.b||0,this.a=void 0!==e.a?e.a:1)};var e=/rgba?\\(\\s*([.0-9]+)\\s*,\\s*([.0-9]+)\\s*,\\s*([.0-9]+)\\s*,?\\s*([.0-9]+)?\\s*\\)/;this.parse=function(n){var i=n.match(e);i?(this.r=parseInt(i[1])||0,this.g=parseInt(i[2])||0,this.b=parseInt(i[3])||0,void 0!==i[4]?(i=parseFloat(i[4]),this.a=isNaN(i)?1:i):this.a=1):(this.a=1,i=n.length,5===i?(i=n.substring(4,5),this.a=("0x"+i+i|0)/255,n=n.substring(0,4)):9===i&&(this.a=("0x"+n.substring(7,9)|0)/255,n=n.substring(0,7)),n="0x"+n.slice(1).replace(5>n.length&&/./g,"$&$&"),i=[n>>16,n>>8&255,255&n],this.r=i[0],this.g=i[1],this.b=i[2])},this.toHex=function(){return"#"+((256+this.r<<8|this.g)<<8|this.b).toString(16).slice(1)},this.toString=function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"}});exports.parse=function(e){return cache[e]||(cache[e]=new RGBA(e))};var cache={aliceblue:new RGBA(240,248,255),antiquewhite:new RGBA(250,235,215),aqua:new RGBA(0,255,255),aquamarine:new RGBA(127,255,212),azure:new RGBA(240,255,255),beige:new RGBA(245,245,220),bisque:new RGBA(255,228,196),black:new RGBA(0,0,0),blanchedalmond:new RGBA(255,235,205),blue:new RGBA(0,0,255),blueviolet:new RGBA(138,43,226),brown:new RGBA(165,42,42),burlywood:new RGBA(222,184,135),cadetblue:new RGBA(95,158,160),chartreuse:new RGBA(127,255,0),chocolate:new RGBA(210,105,30),coral:new RGBA(255,127,80),cornflowerblue:new RGBA(100,149,237),cornsilk:new RGBA(255,248,220),crimson:new RGBA(220,20,60),cyan:new RGBA(0,255,255),darkblue:new RGBA(0,0,139),darkcyan:new RGBA(0,139,139),darkgoldenrod:new RGBA(184,134,11),darkgray:new RGBA(169,169,169),darkgreen:new RGBA(0,100,0),darkgrey:new RGBA(169,169,169),darkkhaki:new RGBA(189,183,107),darkmagenta:new RGBA(139,0,139),darkolivegreen:new RGBA(85,107,47),darkorange:new RGBA(255,140,0),darkorchid:new RGBA(153,50,204),darkred:new RGBA(139,0,0),darksalmon:new RGBA(233,150,122),darkseagreen:new RGBA(143,188,143),darkslateblue:new RGBA(72,61,139),darkslategray:new RGBA(47,79,79),darkslategrey:new RGBA(47,79,79),darkturquoise:new RGBA(0,206,209),darkviolet:new RGBA(148,0,211),deeppink:new RGBA(255,20,147),deepskyblue:new RGBA(0,191,255),dimgray:new RGBA(105,105,105),dimgrey:new RGBA(105,105,105),dodgerblue:new RGBA(30,144,255),firebrick:new RGBA(178,34,34),floralwhite:new RGBA(255,250,240),forestgreen:new RGBA(34,139,34),fuchsia:new RGBA(255,0,255),gainsboro:new RGBA(220,220,220),ghostwhite:new RGBA(248,248,255),gold:new RGBA(255,215,0),goldenrod:new RGBA(218,165,32),gray:new RGBA(128,128,128),grey:new RGBA(128,128,128),green:new RGBA(0,128,0),greenyellow:new RGBA(173,255,47),honeydew:new RGBA(240,255,240),hotpink:new RGBA(255,105,180),indianred:new RGBA(205,92,92),indigo:new RGBA(75,0,130),ivory:new RGBA(255,255,240),khaki:new RGBA(240,230,140),lavender:new RGBA(230,230,250),lavenderblush:new RGBA(255,240,245),lawngreen:new RGBA(124,252,0),lemonchiffon:new RGBA(255,250,205),lightblue:new RGBA(173,216,230),lightcoral:new RGBA(240,128,128),lightcyan:new RGBA(224,255,255),lightgoldenrodyellow:new RGBA(250,250,210),lightgray:new RGBA(211,211,211),lightgreen:new RGBA(144,238,144),lightgrey:new RGBA(211,211,211),lightpink:new RGBA(255,182,193),lightsalmon:new RGBA(255,160,122),lightseagreen:new RGBA(32,178,170),lightskyblue:new RGBA(135,206,250),lightslategray:new RGBA(119,136,153),lightslategrey:new RGBA(119,136,153),lightsteelblue:new RGBA(176,196,222),lightyellow:new RGBA(255,255,224),lime:new RGBA(0,255,0),limegreen:new RGBA(50,205,50),linen:new RGBA(250,240,230),magenta:new RGBA(255,0,255),maroon:new RGBA(128,0,0),mediumaquamarine:new RGBA(102,205,170),mediumblue:new RGBA(0,0,205),mediumorchid:new RGBA(186,85,211),mediumpurple:new RGBA(147,112,219),mediumseagreen:new RGBA(60,179,113),mediumslateblue:new RGBA(123,104,238),mediumspringgreen:new RGBA(0,250,154),mediumturquoise:new RGBA(72,209,204),mediumvioletred:new RGBA(199,21,133),midnightblue:new RGBA(25,25,112),mintcream:new RGBA(245,255,250),mistyrose:new RGBA(255,228,225),moccasin:new RGBA(255,228,181),navajowhite:new RGBA(255,222,173),navy:new RGBA(0,0,128),oldlace:new RGBA(253,245,230),olive:new RGBA(128,128,0),olivedrab:new RGBA(107,142,35),orange:new RGBA(255,165,0),orangered:new RGBA(255,69,0),orchid:new RGBA(218,112,214),palegoldenrod:new RGBA(238,232,170),palegreen:new RGBA(152,251,152),paleturquoise:new RGBA(175,238,238),palevioletred:new RGBA(219,112,147),papayawhip:new RGBA(255,239,213),peachpuff:new RGBA(255,218,185),peru:new RGBA(205,133,63),pink:new RGBA(255,192,203),plum:new RGBA(221,160,221),powderblue:new RGBA(176,224,230),purple:new RGBA(128,0,128),red:new RGBA(255,0,0),rosybrown:new RGBA(188,143,143),royalblue:new RGBA(65,105,225),saddlebrown:new RGBA(139,69,19),salmon:new RGBA(250,128,114),sandybrown:new RGBA(244,164,96),seagreen:new RGBA(46,139,87),seashell:new RGBA(255,245,238),sienna:new RGBA(160,82,45),silver:new RGBA(192,192,192),skyblue:new RGBA(135,206,235),slateblue:new RGBA(106,90,205),slategray:new RGBA(112,128,144),slategrey:new RGBA(112,128,144),snow:new RGBA(255,250,250),springgreen:new RGBA(0,255,127),steelblue:new RGBA(70,130,180),tan:new RGBA(210,180,140),teal:new RGBA(0,128,128),thistle:new RGBA(216,191,216),tomato:new RGBA(255,99,71),transparent:new RGBA(0,0,0,0),turquoise:new RGBA(64,224,208),violet:new RGBA(238,130,238),wheat:new RGBA(245,222,179),white:new RGBA(255,255,255),whitesmoke:new RGBA(245,245,245),yellow:new RGBA(255,255,0),yellowgreen:new RGBA(154,205,50)};',pre:!0},"modules/devkit-core/modules/timestep/src/ui/filter.js":{path:"modules/devkit-core/modules/timestep/src/ui/filter.js",friendlyPath:"ui.filter",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"filter.js",src:'jsio("import ui.Color as Color");var Image;exports.Filter=__class__;var Filter=exports.Filter=exports.Filter(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){this._color=new Color(t),this._type=t.type||"",this._views=[]},this.get=function(){var t=this._color.get();return t.type=this._type,t.priority=0,t},this.getType=function(){return this._type},this.update=function(t){t=t||this.get(),this._color.update(t),this._type=void 0!==t.type?t.type:this._type;for(var t=this._views,i=0,e=t.length;i<e;i++){var s=t[i];s.__view.filterColor=this.getColorString(),s.__view.filterType=Filter.TYPES[this.getType()]||0}},this.setView=function(t){var i=this._views;-1===i.indexOf(t)&&i.push(t)},this.removeView=function(t){var i=this._views,t=i.indexOf(t);-1!==t&&i.splice(t,1)},this.getColorString=function(){return this._color.toString()}});Filter.TYPES={None:0,LinearAdd:1,Multiply:2,Tint:3},exports.LinearAddFilter=__class__,exports.LinearAddFilter=exports.LinearAddFilter(function(){return this.init&&this.init.apply(this,arguments)},Filter,function(t){this.init=function(i){t(this,"init",arguments),this._type="LinearAdd"}}),exports.TintFilter=__class__,exports.TintFilter=exports.TintFilter(function(){return this.init&&this.init.apply(this,arguments)},Filter,function(t){this.init=function(i){t(this,"init",arguments),this._type="Tint"}}),exports.MultiplyFilter=__class__,exports.MultiplyFilter=exports.MultiplyFilter(function(){return this.init&&this.init.apply(this,arguments)},Filter,function(t){this.init=function(i){t(this,"init",arguments),this._type="Multiply"}}),exports.PositiveMaskFilter=__class__,exports.PositiveMaskFilter=exports.PositiveMaskFilter(function(){return this.init&&this.init.apply(this,arguments)},Filter,function(t){this.init=function(i){t(this,"init",arguments),this._type="PositiveMask",i.image&&(Image=Image||jsio("import ui.resource.Image"),this._mask=new Image({url:i.image}))},this.getMask=function(){return this._mask}}),exports.NegativeMaskFilter=__class__,exports.NegativeMaskFilter=exports.NegativeMaskFilter(function(){return this.init&&this.init.apply(this,arguments)},Filter,function(t){this.init=function(i){t(this,"init",arguments),this._type="NegativeMask",i.image&&(Image=Image||jsio("import ui.resource.Image"),this._mask=new Image({url:i.image}))},this.getMask=function(){return this._mask}});',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/native/Input.js":{path:"modules/devkit-core/modules/timestep/src/platforms/native/Input.js",friendlyPath:".Input",directory:"modules/devkit-core/modules/timestep/src/platforms/native/",filename:"Input.js",src:'jsio("import event.input.InputEvent as InputEvent");var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_platforms_native_Input=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_platforms_native_Input(function(){return this.init&&this.init.apply(this,arguments)},function(){NATIVE.timestep&&NATIVE.timestep.getEvents?(NATIVE.timestep.InputEvent||(NATIVE.timestep.InputEvent=InputEvent),this.getEvents=function(){return NATIVE.timestep.getEvents()}):this.getEvents=function(){for(var t,e=NATIVE.input.getTouchEvents(),n=[],s=0,i=0;t=e[i];++i)n[s++]=new InputEvent(t.id,t.type,t.pt),"input:select"==t.type&&(n[s++]=new InputEvent(t.id,"input:clear",t.pt.x,t.pt.y));return n}});',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/native/inputDialog.js":{path:"modules/devkit-core/modules/timestep/src/platforms/native/inputDialog.js",friendlyPath:".inputDialog",directory:"modules/devkit-core/modules/timestep/src/platforms/native/",filename:"inputDialog.js",src:'jsio("import ...ui.keyboardTypes");var _controllers={};NATIVE.input.subscribe("InputPromptSubmit",function(e){var o=_controllers[e.id];o?(o.setValue(e.text),o.onChange&&o.onChange(e.text),o.onSubmit&&o.onSubmit(e.text),delete _controllers[e.id]):logger.WARN&&console.warn("WARN",".inputDialog","Dropping InputPrompt event: "+JSON.stringify(e))}),NATIVE.input.subscribe("Cancel",function(e){var o=_controllers[e.id];o?(o.onChange&&o.onChange(o.getValue()),delete _controllers[e.id]):logger.WARN&&console.warn("WARN",".inputDialog","Dropping InputPrompt event: "+JSON.stringify(e))}),exports.show=function(e,o){var t=NATIVE.input.openPrompt(""+o.title,""+o.message,""+o.okText,""+o.cancelText,""+o.value,!!o.autoFocus,!!o.isPassword,ui.keyboardTypes.getNativeType(o.keyboardType));_controllers[t]=e};',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/native/StatusBar.js":{path:"modules/devkit-core/modules/timestep/src/platforms/native/StatusBar.js",friendlyPath:".StatusBar",directory:"modules/devkit-core/modules/timestep/src/platforms/native/",filename:"StatusBar.js",src:"exports.show=function(){NATIVE.statusBar&&NATIVE.statusBar.showStatusBar&&NATIVE.statusBar.showStatusBar()},exports.hide=function(){NATIVE.statusBar&&NATIVE.statusBar.hideStatusBar&&NATIVE.statusBar.hideStatusBar()},exports.getHeight=function(){return NATIVE.statusBar&&NATIVE.statusBar.statusBarHeight};",pre:!0},"modules/devkit-core/modules/timestep/src/platforms/native/KeyListener.js":{path:"modules/devkit-core/modules/timestep/src/platforms/native/KeyListener.js",friendlyPath:".KeyListener",directory:"modules/devkit-core/modules/timestep/src/platforms/native/",filename:"KeyListener.js",src:'var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_platforms_native_KeyListener=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_platforms_native_KeyListener(function(){return this.init&&this.init.apply(this,arguments)},"timestep.KeyListener",function(){this.init=function(){this._shortcuts=[],this._events=[]},this.setEnabled=function(t){this._isEnabled=t},this.captureShortcut=function(t){this._shortcuts.push(t)},this.getPressed=function(){return{}},this.onKeyDown=function(){},this.liftAll=function(){},this.onKeyUp=function(){},this.onKeyPress=function(){},this.peekEvents=function(){return this._events},this.popEvents=function(){return this._events.splice(0,this._events.length)}});',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/native/TextBox.js":{path:"modules/devkit-core/modules/timestep/src/platforms/native/TextBox.js",friendlyPath:".TextBox",directory:"modules/devkit-core/modules/timestep/src/platforms/native/",filename:"TextBox.js",src:'var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_platforms_native_TextBox=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_platforms_native_TextBox(function(){return this.init&&this.init.apply(this,arguments)},function(){var t=NATIVE.textbox,i=Array.prototype.slice,e={x:0,y:0,width:100,height:30,text:"",color:"white"};this.init=function(i){logger.LOG&&console.log("LOG",".TextBox","in init"),i=merge(i,e),logger.LOG&&console.log("LOG",".TextBox","making a textbox with opts",JSON.stringify(i)),this._id=t.create(i.x,i.y,i.width,i.height,i.text)};for(var s,o="destroy show hide setValue setOpacity setType setVisible getX getY getWidth getHeight getValue getOpacity getType getVisible".split(" "),n=0;s=o[n];++n)bind(this,function(e){this[e]=/^get/.test(e)?function(){return t[e].apply(t,[this._id].concat(i.call(arguments,0)))}:function(){return t[e].apply(t,[this._id].concat(i.call(arguments,0))),this}})(s);this.setPosition=function(i){return t.setPosition(this._id,i.x,i.y),this},this.getPosition=function(){return{x:this.getX(),y:this.getY()}},this.setDimensions=function(i){return t.setDimensions(this._id,i.width,i.height),this},this.getDimensions=function(){return{width:this.getWidth(),height:this.getHeight()}},this.setApp=function(){},this.setOpacity=function(i){t.setOpacity(this._id,i)},this.setVisible=function(i){i?t.show(this._id):t.hide(this._id)},this.setValue=function(i){t.setValue(this._id,i)}});',pre:!0},"modules/devkit-core/modules/timestep/src/platforms/native/Timer.js":{path:"modules/devkit-core/modules/timestep/src/platforms/native/Timer.js",friendlyPath:".Timer",directory:"modules/devkit-core/modules/timestep/src/platforms/native/",filename:"Timer.js",src:"exports.start=function(t){NATIVE.timer.start(function(){var s=+new Date,o=s-(exports.last||s);exports.last=s,t(o)})},exports.last=null,exports.stop=function(){};",pre:!0},"modules/devkit-core/modules/timestep/src/platforms/native/EditText.js":{path:"modules/devkit-core/modules/timestep/src/platforms/native/EditText.js",friendlyPath:".EditText",directory:"modules/devkit-core/modules/timestep/src/platforms/native/",filename:"EditText.js",src:'jsio("import device");var focused;NATIVE.input.subscribe("KeyUp",function(t){null!=focused&&(focused._value=t.text,focused.onChange(t.text,t.prevText,t.cursorPos))}),NATIVE.input.subscribe("FocusNext",function(t){t.next&&focused&&focused._textEditView&&focused._textEditView._forwardTextEditView?focused._textEditView._forwardTextEditView.requestFocus():!t.next&&focused&&focused._textEditView&&focused._textEditView._backTextEditView&&focused._textEditView._backTextEditView.requestFocus()}),NATIVE.input.subscribe("Submit",function(t){focused&&focused.submit(t.close)}),NATIVE.events.registerHandler("editText.onFinishEditing",function(){focused&&focused.finishEditing()});var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_platforms_native_EditText=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_platforms_native_EditText(function(){return this.init&&this.init.apply(this,arguments)},function(){var t={hint:"",inputType:"default",maxLength:1e3,inputReturnButton:"default"};this.init=function(i){console.log("instantiate EditText with hint: "+i.hint),this._opts=merge(i,t),this._textEditView=i.textEditView,this.onFocusChange=i.onFocusChange||function(){},this.onSubmit=i.onSubmit||function(){}},this.onChange=function(t,i,e){this._value=t,this._opts.onChange&&this._opts.onChange(t,i,e)},this.getValue=function(){return this._value},this.setValue=function(t,i){this._value=t,this.onChange(t),NATIVE.call("editText.setText",{text:t,cursorPos:i})},this.requestFocus=function(){focused!==this&&(null!=focused&&focused.removeFocus(),this.onFocusChange(!0)),focused=this},this.closeEditField=function(){focused==this&&this.removeFocus()},this.finishEditing=function(){this.onFocusChange(!1),focused==this&&(focused=null,this._textEditView.onFinishEditing(),this._textEditView._textBox.style.visible=!0)},this.submit=function(t){this.onSubmit(this._value),null!=focused&&t&&focused.removeFocus()},this.refresh=function(t,i,e,s){var o=this._textEditView._textBox;o.style.visible=!1;var n=this._textEditView.getPosition(),u=n.width/this._textEditView.style.width,h=!0;!1===this._opts.closeOnDone&&(h=!1),NATIVE.call("editText.focus",{id:this._id,paddingLeft:this._opts.paddingLeft*u,paddingRight:this._opts.paddingRight*u,x:n.x,y:n.y,width:n.width,height:n.height,text:t||"",hint:this._opts.hint,hintColor:this._opts.hintColor,inputType:this._opts.inputType,inputReturnButton:this._opts.inputReturnButton,maxLength:this._opts.maxLength,fontColor:this._opts.color,fontSize:o._opts.size*u,font:o._opts.fontFamily,cursorPos:s,hasBack:i,hasForward:e,closeOnDone:h})},this.hasFocus=function(){return focused==this},this.removeFocus=function(){this.onFocusChange(!1),focused==this&&(focused=null,this._textEditView._textBox.style.visible=!0,NATIVE.call("editText.clearFocus",{}))},this.setHint=function(t){this._opts.hint=t}});',pre:!0},"modules/devkit-core/src/clientapi/native/common.js":{path:"modules/devkit-core/src/clientapi/native/common.js",friendlyPath:".common",directory:"modules/devkit-core/src/clientapi/native/",filename:"common.js",src:'jsio("import lib.PubSub"),exports.install=function(){logger.LOG&&console.log("LOG",".common","installing native support"),jsio("import device"),jsio("import .Window"),jsio("import .Document"),jsio("import .localStorage"),jsio("import .events"),jsio("import .launchInfo"),jsio("import .plugins"),jsio("import .screen"),jsio("import platforms.native.Canvas"),jsio("import .Image"),jsio("import .XMLHttpRequest"),jsio("import .Audio"),jsio("import .dom.DOMParser"),Image.install(),XMLHttpRequest.install(),Audio.install(),dom.DOMParser.install(),NATIVE.device.native_info&&(NATIVE.device.info=JSON.parse(NATIVE.device.native_info)),jsio("import .timestep"),timestep.install(),NATIVE.overlay.delegate=new lib.PubSub,CONFIG.splash=CONFIG.splash||{};var i=CONFIG.splash.hide||function(){};CONFIG.splash.hide=function(o){NATIVE.doneLoading instanceof Function&&NATIVE.doneLoading(),i instanceof Function&&i(),o&&o()}};',pre:!0},"modules/devkit-core/src/clientapi/native/Window.js":{path:"modules/devkit-core/src/clientapi/native/Window.js",friendlyPath:".Window",directory:"modules/devkit-core/src/clientapi/native/",filename:"Window.js",src:'jsio("import lib.PubSub"),module.exports=new lib.PubSub,window.open=window.open||window.setLocation,window.addEventListener=function(e,o){module.exports.on(e,o)},window.removeEventListener=function(e,o){module.exports.removeListener(e,o)},window.__fireEvent=function(e,o){o||(o={}),o.type=e,module.exports.publish(e,o)};',pre:!0},"modules/devkit-core/src/clientapi/native/Document.js":{path:"modules/devkit-core/src/clientapi/native/Document.js",friendlyPath:".Document",directory:"modules/devkit-core/src/clientapi/native/",filename:"Document.js",src:'if("undefined"==typeof document&&(GLOBAL.document={}),!document.createElement){var handlers={};document.createElement=function(e){if(e=e.toUpperCase(),e in handlers)return handlers[e]()},document.__registerCreateElementHandler=function(e,n){e=e.toUpperCase(),handlers[e]=n}}',pre:!0},"modules/devkit-core/src/clientapi/native/localStorage.js":{path:"modules/devkit-core/src/clientapi/native/localStorage.js",friendlyPath:".localStorage",directory:"modules/devkit-core/src/clientapi/native/",filename:"localStorage.js",src:'GLOBAL.localStorage={setItem:function(t,e){NATIVE.localStorage.setItem(t.toString(),e.toString())},getItem:function(t){return NATIVE.localStorage.getItem(t.toString()||null)},removeItem:function(t){NATIVE.localStorage.removeItem(t.toString())},clear:function(){NATIVE.localStorage.clear()},key:function(){return logger.LOG&&console.log("LOG",".localStorage","ERROR: localStorage.key() unimplemented"),null}};',pre:!0},"modules/devkit-core/src/clientapi/native/events.js":{path:"modules/devkit-core/src/clientapi/native/events.js",friendlyPath:".events",directory:"modules/devkit-core/src/clientapi/native/",filename:"events.js",src:'handlers={},NATIVE.call=function(o,e){json={};try{json=JSON.parse(NATIVE._call(o,JSON.stringify(e)))}catch(o){logger.LOG&&console.log("LOG",".events",o)}return json},NATIVE.events={},NATIVE.events.registerHandler=function(o,e){handlers[o]=e},NATIVE.events.dispatchEvent=function(o,e){if("string"==typeof o)try{o=JSON.parse(o)}catch(e){return logger.ERROR&&console.error("ERROR",".events","Parse error:",e),void(logger.ERROR&&console.error("ERROR",".events",o))}o._requestId&&!e&&(e=o._requestId,delete o._requestId);var r=handlers[o.name];r&&r(o,e)},jsio("import .backButton"),jsio("import .dialog"),jsio("import .imageLoading"),jsio("import .input"),jsio("import .inputPrompt"),jsio("import .log"),jsio("import .offscreenBuffer"),jsio("import .online"),jsio("import .overlay"),jsio("import .pauseResume"),jsio("import .plugins"),jsio("import .purchase"),jsio("import .rotation"),jsio("import .soundLoading"),jsio("import .windowFocus");',
pre:!0},"modules/devkit-core/src/clientapi/native/backButton.js":{path:"modules/devkit-core/src/clientapi/native/backButton.js",friendlyPath:".backButton",directory:"modules/devkit-core/src/clientapi/native/",filename:"backButton.js",src:'jsio("import lib.PubSub"),NATIVE.backButton=new lib.PubSub,NATIVE.events.registerHandler("backButton",function(){if(NATIVE.onBackButton){var t=NATIVE.onBackButton();logger.LOG&&console.log("LOG",".backButton","back button pushed"),!1===t&&"function"==typeof NATIVE.sendActivityToBack&&NATIVE.sendActivityToBack()}else NATIVE.backButton.emit("pressed")});',pre:!0},"modules/devkit-core/src/clientapi/native/dialog.js":{path:"modules/devkit-core/src/clientapi/native/dialog.js",friendlyPath:".dialog",directory:"modules/devkit-core/src/clientapi/native/",filename:"dialog.js",src:'"use import";var dialogId=0,dialogCallbacks={};NATIVE.dialogs.showDialog=function(a,l,o,t){for(var i=[],e=[],n=[],c=t.length,s=0;s<c;s++)i[s]=t[s].label,e[s]=t[s].callback;for(s=0;s<c;s++)n[s]=dialogId,dialogCallbacks[dialogId]=e[s],dialogId++;NATIVE.dialogs._showDialog(a,l,o,i,n)},NATIVE.dialogs.showUpdate=function(a,l,o,t,i,e){a=a||CONFIG.title+" has been updated!",l=l||"There\'s an update for "+CONFIG.title+"! Do you want to apply it?",NATIVE.dialogs.showDialog(a,l,i,[{label:o||"OK",callback:function(){e()}},{label:t||"Not now",callback:function(){}}])},NATIVE.dialogs.showCrossPromo=function(a,l,o){var t="We noticed you\'ve enjoyed "+CONFIG.title+" and we think you might enjoy "+l+". Do you want to try it?";NATIVE.dialogs.showDialog("Try "+l+"!",t,o||null,[{label:"Sure!",callback:function(){NATIVE.startGame(a)}},{label:"Maybe layer",callback:function(){}}])},NATIVE.dialogs.showAppRater=function(a,l,o){if(a=a||"Rate "+CONFIG.title,l=l||"It looks like you\'re enjoying "+CONFIG.title+". Please take a moment to rate it. Thanks!",!o){var t=CONFIG.splash,o=t.landscape768;o||(o=t.landscape1536),o||(o=t.portrait480),o||(o=t.portrait960),o||(o=t.portrait1024),o||(o=t.portrait1136),o||(o=t.portrait2048)}NATIVE.dialogs.showDialog(a,l,o,[{label:a,callback:function(){GLOBAL.setLocation(NATIVE.market.url)}},{label:"Remind me later",callback:function(){}},{label:"No thanks",callback:function(){}}])},NATIVE.events.registerHandler("dialogButtonClicked",function(a){var l=dialogCallbacks[a.id];l&&l instanceof Function&&(l(),delete dialogCallbacks[a.id])});',pre:!0},"modules/devkit-core/src/clientapi/native/imageLoading.js":{path:"modules/devkit-core/src/clientapi/native/imageLoading.js",friendlyPath:".imageLoading",directory:"modules/devkit-core/src/clientapi/native/",filename:"imageLoading.js",src:'jsio("import lib.PubSub"),merge(NATIVE.gl,lib.PubSub.prototype);var loadingImages={},canvasImages={};NATIVE.camera.getPicture=function(e,a){var e=e||64,a=a||NATIVE.camera.getNextId(),g="@CAMERA"+a+"-"+e,n=new Image;return n.src=g,n},NATIVE.gallery.choosePicture=function(e,a){var e=e||64,a=a||NATIVE.gallery.getNextId(),g="@GALLERYPHOTO"+a+"-"+e,n=new Image;return n.src=g,n},NATIVE.gl.loadImage=function(e){var a=NATIVE.gl._loadImage(e._src);a?setTimeout(function(){e._onload(a.width,a.height,a.name)},0):(loadingImages[e._src]||(loadingImages[e._src]=[]),loadingImages[e._src].push(e))},NATIVE.events.registerHandler("imageLoaded",function(e){var a=e.url;"data:image/"==a.substring(0,11)&&(a="<base64>"),NATIVE.gl.publish("imageLoaded",e),logger.DEBUG&&console.debug("DEBUG",".imageLoading","imageLoaded:",a,e.originalWidth+"x"+e.originalHeight,"("+e.width+"x"+e.height+")"),a=loadingImages[e.url],delete loadingImages[e.url],a&&a.forEach(function(a){a._onload(e.originalWidth,e.originalHeight,e.glName),GLOBAL.GC&&GC.app&&GC.app.engine&&GC.app.engine.needsRepaint()})}),NATIVE.events.registerHandler("imageError",function(e){var a=loadingImages[e.url];a&&(a.forEach(function(e){e._onerror&&e._onerror()}),delete loadingImages[e.url])}),NATIVE.gl.makeCanvas=function(e,a,g){return e=NATIVE.gl.newTexture(e,a),a=e._src,canvasImages[a]=g,logger.LOG&&console.log("LOG",".imageLoading","{canvas-registry} Registering canvas:",a),e},NATIVE.gl.updateCanvasURL=function(e,a){canvasImages[a]=canvasImages[e],delete canvasImages[e]},NATIVE.gl.forgetCanvas=function(e){logger.LOG&&console.log("LOG",".imageLoading","{canvas-registry} Forgetting canvas:",e),canvasImages[e]&&delete canvasImages[e]},NATIVE.events.registerHandler("canvasFreed",function(e){e=e.url,logger.LOG&&console.log("LOG",".imageLoading","{canvas-registry} Notifying of lost canvas:",e);var a=canvasImages[e];a&&("function"==typeof a&&a(e),delete canvasImages[e])});',pre:!0},"modules/devkit-core/src/clientapi/native/input.js":{path:"modules/devkit-core/src/clientapi/native/input.js",friendlyPath:".input",directory:"modules/devkit-core/src/clientapi/native/",filename:"input.js",src:"var inputQueue=[];NATIVE.events.setResponder&&NATIVE.events.setResponder(inputQueue),NATIVE.input.getTouchEvents=function(){return inputQueue.splice(0,inputQueue.length)};",pre:!0},"modules/devkit-core/src/clientapi/native/inputPrompt.js":{path:"modules/devkit-core/src/clientapi/native/inputPrompt.js",friendlyPath:".inputPrompt",directory:"modules/devkit-core/src/clientapi/native/",filename:"inputPrompt.js",src:'jsio("import lib.PubSub"),jsio("import device"),merge(NATIVE.input,lib.PubSub.prototype),NATIVE.events.registerHandler("InputPromptSubmit",function(e){NATIVE.input.publish("InputPromptSubmit",e)}),NATIVE.events.registerHandler("InputKeyboardSubmit",function(e){NATIVE.input.publish("Submit",e)}),NATIVE.events.registerHandler("InputKeyboardCancel",function(e){NATIVE.input.publish("Cancel",e)}),NATIVE.events.registerHandler("InputKeyboardKeyUp",function(e){NATIVE.input.publish("KeyUp",e)}),NATIVE.events.registerHandler("InputKeyboardFocusNext",function(e){NATIVE.input.publish("FocusNext",e)});var __keyboardIsOpen=!1;NATIVE.events.registerHandler("keyboardScreenResize",function(e){e.height<.75*device.screen.height?(e.opened=!0,window.__fireEvent("keyboardScreenResize",e),__keyboardIsOpen||(__keyboardIsOpen=!0,window.__fireEvent("keyboardOpened",e))):__keyboardIsOpen&&(e.opened=!1,window.__fireEvent("keyboardScreenResize",e),__keyboardIsOpen=!1,window.__fireEvent("keyboardClosed",e))});',pre:!0},"modules/devkit-core/src/clientapi/native/log.js":{path:"modules/devkit-core/src/clientapi/native/log.js",friendlyPath:".log",directory:"modules/devkit-core/src/clientapi/native/",filename:"log.js",src:'NATIVE.events.registerHandler("log",function(e){logger.ERROR&&console.error("ERROR",".log",e.message)});',pre:!0},"modules/devkit-core/src/clientapi/native/offscreenBuffer.js":{path:"modules/devkit-core/src/clientapi/native/offscreenBuffer.js",friendlyPath:".offscreenBuffer",directory:"modules/devkit-core/src/clientapi/native/",filename:"offscreenBuffer.js",src:'NATIVE.events.registerHandler("redrawOffscreenBuffers",bind(window,"__fireEvent","redrawOffscreenBuffers"));',pre:!0},"modules/devkit-core/src/clientapi/native/online.js":{path:"modules/devkit-core/src/clientapi/native/online.js",friendlyPath:".online",directory:"modules/devkit-core/src/clientapi/native/",filename:"online.js",src:'NATIVE.events.registerHandler("networkStatus",function(e){window.__fireEvent(e.type,e)});',pre:!0},"modules/devkit-core/src/clientapi/native/overlay.js":{path:"modules/devkit-core/src/clientapi/native/overlay.js",friendlyPath:".overlay",directory:"modules/devkit-core/src/clientapi/native/",filename:"overlay.js",src:'NATIVE.events.registerHandler("overlay",function(e){NATIVE.overlay.delegate&&NATIVE.overlay.delegate.publish instanceof Function&&NATIVE.overlay.delegate.publish("message",e.event)});',pre:!0},"modules/devkit-core/src/clientapi/native/pauseResume.js":{path:"modules/devkit-core/src/clientapi/native/pauseResume.js",friendlyPath:".pauseResume",directory:"modules/devkit-core/src/clientapi/native/",filename:"pauseResume.js",src:'NATIVE.events.registerHandler("pause",bind(window,"__fireEvent","pagehide")),NATIVE.events.registerHandler("resume",function(){jsio("import ui.resource.Image as Image"),Image.__clearCache__&&Image.__clearCache__(),window.__fireEvent("pageshow")});',pre:!0},"modules/devkit-core/src/clientapi/native/plugins.js":{path:"modules/devkit-core/src/clientapi/native/plugins.js",friendlyPath:".plugins",directory:"modules/devkit-core/src/clientapi/native/",filename:"plugins.js",src:'jsio("import lib.Callback"),jsio("import lib.PubSub");var pluginsPubSub=new lib.PubSub;NATIVE.plugins.publish=bind(pluginsPubSub,"publish"),NATIVE.plugins.subscribe=bind(pluginsPubSub,"subscribe"),NATIVE.plugins.subscribeOnce=bind(pluginsPubSub,"subscribeOnce"),NATIVE.plugins.unsubscribe=bind(pluginsPubSub,"unsubscribe"),NATIVE.events.registerHandler("plugins",function(u,s){if(s){var e=_requestCbs[s];delete _requestCbs[s],e&&e(u.error,u.response)}else NATIVE.plugins.publish("Plugins",u.data)}),NATIVE.events.registerHandler("pluginEvent",function(u){var s=GC.plugins.getPlugin(u.pluginName);s?s.publish(u.eventName,u.data):logger.WARN&&console.warn("WARN",".plugins","plugin",u.pluginName,"not found")});var _requestId=0,_requestCbs={};NATIVE.plugins.sendRequest=function(u,s,e,n){"function"==typeof e&&(n=e,e=null);var i=++_requestId;_requestCbs[i]=n;var l;if(e)try{l=JSON.stringify(e)}catch(u){logger.ERROR&&console.error("ERROR",".plugins",u)}NATIVE.plugins._sendRequest.call(this,u,s,l||"{}",i)};',pre:!0},"modules/devkit-core/src/clientapi/native/purchase.js":{path:"modules/devkit-core/src/clientapi/native/purchase.js",friendlyPath:".purchase",directory:"modules/devkit-core/src/clientapi/native/",filename:"purchase.js",src:'NATIVE.events.registerHandler("purchase",function(e){var r=e.notifyId;NATIVE.purchase.onResult(e.state,e.product,e.order)&&NATIVE.purchase.confirmPurchase(r)});',pre:!0},"modules/devkit-core/src/clientapi/native/rotation.js":{path:"modules/devkit-core/src/clientapi/native/rotation.js",friendlyPath:".rotation",directory:"modules/devkit-core/src/clientapi/native/",filename:"rotation.js",src:'NATIVE.onRotation=function(){},NATIVE.events.registerHandler("rotate",function(n){NATIVE.onRotation(n)});',pre:!0},"modules/devkit-core/src/clientapi/native/soundLoading.js":{path:"modules/devkit-core/src/clientapi/native/soundLoading.js",friendlyPath:".soundLoading",directory:"modules/devkit-core/src/clientapi/native/",filename:"soundLoading.js",src:'NATIVE.events.registerHandler("soundLoaded",function(o){logger.LOG&&console.log("LOG",".soundLoading","sound loaded with url",o.url);var n=sounds[o.url];n&&!n.complete&&(n.complete=!0,n.onload(),delete sounds[o.url])}),NATIVE.events.registerHandler("soundError",function(o){logger.LOG&&console.log("LOG",".soundLoading","sound with url",o.url,"failed to load"),(o=sounds[o.url])&&o.onerror()}),NATIVE.events.registerHandler("soundDuration",function(o){logger.LOG&&console.log("LOG",".soundLoading","sound with url",o.url,"is",o.duration,"seconds long"),o.url in songs&&(songs[o.url].duration=o.duration,songs[o.url].durationMilliseconds=1e3*o.duration)});var sounds={},Sound=__class__,Sound=Sound(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(o){this.src=o.src||null,this.complete=o.complete||null},this.onload=this.onerror=function(){}});NATIVE.sound.preloadSound=function(o){return NATIVE.sound.loadSound(o),sounds[o]=new Sound({src:o,complete:!1}),sounds[o]};var songs={};NATIVE.sound.registerMusic=function(o,n){songs[o]=n};',pre:!0},"modules/devkit-core/src/clientapi/native/windowFocus.js":{path:"modules/devkit-core/src/clientapi/native/windowFocus.js",friendlyPath:".windowFocus",directory:"modules/devkit-core/src/clientapi/native/",filename:"windowFocus.js",src:'NATIVE.events.registerHandler("windowFocusAcquired",bind(window,"__fireEvent","onblur")),NATIVE.events.registerHandler("windowFocusAcquired",bind(window,"__fireEvent","onfocus"));',pre:!0},"modules/devkit-core/src/clientapi/native/launchInfo.js":{path:"modules/devkit-core/src/clientapi/native/launchInfo.js",friendlyPath:".launchInfo",directory:"modules/devkit-core/src/clientapi/native/",filename:"launchInfo.js",src:'NATIVE.launch={},NATIVE.events.registerHandler("launchType",function(a){NATIVE.launch.type=a.type,NATIVE.launch.data=a.data||null});',pre:!0},"modules/devkit-core/src/clientapi/native/screen.js":{path:"modules/devkit-core/src/clientapi/native/screen.js",friendlyPath:".screen",directory:"modules/devkit-core/src/clientapi/native/",filename:"screen.js",src:'jsio("import device"),NATIVE.screen.onResize=function(e,i){logger.LOG&&console.log("LOG",".screen","native screen resize",e,i),window.screen.width=e,window.screen.height=i,device.screen.publish("Resize",e,i),e>i?(device.screen.isPortrait=!1,device.screen.isLandscape=!0,device.screen.orientation="landscape"):(device.screen.isPortrait=!0,device.screen.isLandscape=!1,device.screen.orientation="portrait"),device.screen.width=e,device.screen.height=i,device.width=e,device.height=i,device.screen.publish("Resize",e,i),logger.LOG&&console.log("LOG",".screen","onResize",JSON.stringify(device.screen))};',pre:!0},"modules/devkit-core/src/clientapi/native/Image.js":{path:"modules/devkit-core/src/clientapi/native/Image.js",friendlyPath:".Image",directory:"modules/devkit-core/src/clientapi/native/",filename:"Image.js",src:'jsio("import lib.PubSub"),jsio("import util.setProperty");var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_src_clientapi_native_Image=__class__,Image=exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_src_clientapi_native_Image(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){this.init=function(i,t,e,s){this._src=i||"",this.width=t||void 0,this.height=e||void 0,this.__gl_name=s||void 0,this._fireReload=this._firedLoad=this.complete=!1},util.setProperty(this,"src",{set:function(i){i?(this._src=i,NATIVE.gl.loadImage(this)):(logger.ERROR&&console.error("ERROR",".Image","empty src set on an image!"),this._onerror())}}),this._onload=function(i,t,e){logger.LOG&&console.log("LOG",".Image","onload called with",i,t,e),this.complete=!0,this.width=this.originalWidth=i,this.height=this.originalHeight=t,this.__gl_name=e,this._firedLoad||(this._firedLoad=!0,this.onload&&this.onload(),this.publish("load",{type:"load"})),this._fireReload?(this.onreload&&this.onreload(),this.publish("reload",{type:"reload"})):this._fireReload=!0},this._onerror=function(){this.onerror(),this.publish("error",{type:"error"})},this.reload=function(){this._fireReload=!0,NATIVE.gl.loadImage(this)},this.destroy=function(){this._src&&NATIVE.gl.deleteTexture(this._src)},this.addEventListener=function(i,t){this.subscribe(i,this,t)},this.removeEventListener=function(i,t){this.unsubscribe(i,this,t)},this.onload=this.onerror=this.onreload=function(){}});exports.install=function(){GLOBAL.Image=Image};',pre:!0},"modules/devkit-core/src/clientapi/native/XMLHttpRequest.js":{path:"modules/devkit-core/src/clientapi/native/XMLHttpRequest.js",friendlyPath:".XMLHttpRequest",directory:"modules/devkit-core/src/clientapi/native/",filename:"XMLHttpRequest.js",src:'var XMLHttpRequest=__class__,XMLHttpRequest=XMLHttpRequest(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){this.readyState=0,this.responseText=null,this._requestHeaders={},this.__id=id},this.open=function(e,t,s){this._method=e,this._url=""+t,this._async=s||!1,this.readyState=1,this.status=0,this._async||logger.WARN&&console.warn("WARN",".XMLHttpRequest","synchronous xhrs not supported")},this.getResponseHeader=function(e){return this._responseHeadersLowerCase[e.toLowerCase()]},this.getAllResponseHeaders=function(){var e,t=[],s=this._responseHeaders;for(e in s)s.hasOwnProperty(e)&&t.push(e+": "+s[e]);return t.join("\\r\\n")},this.setRequestHeader=function(e,t){this._requestHeaders[e]=t},this.send=function(e){this._data=e||"",xhrs[id++]=this,NATIVE.xhr.send(this._method,this._url,this._async,this._data,0,this.__id,this._requestHeaders)},this.uploadFile=function(e){this._filename=e,xhrs[id++]=this,NATIVE.xhr.uploadFile(this.__id,this._filename,this._url,this._async,this._requestHeaders)},this._onreadystatechange=function(e,t,s){this.readyState=e,this.status=t,this.responseText=s||null,this.response=s||null,"function"==typeof this.onreadystatechange&&this.onreadystatechange()},this.onreadystatechange=function(){}}),xhrs={},id=0;exports.install=function(){GLOBAL.XMLHttpRequest=XMLHttpRequest,NATIVE.events.registerHandler("xhr",function(e){var t=xhrs[e.id];if(t){for(var s={},i={},n=0,r=e.headerKeys.length;n<r;n++)i[e.headerKeys[n].toLowerCase()]=s[e.headerKeys[n]]=e.headerValues[n];t._responseHeaders=s,t._responseHeadersLowerCase=i,t._onreadystatechange(e.state,e.status,e.response)}delete xhrs[e.id]})};',pre:!0},"modules/devkit-core/src/clientapi/native/Audio.js":{path:"modules/devkit-core/src/clientapi/native/Audio.js",friendlyPath:".Audio",directory:"modules/devkit-core/src/clientapi/native/",filename:"Audio.js",src:'var lastbg,Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_src_clientapi_native_Audio=__class__,Audio=exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_src_clientapi_native_Audio(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){this._startedLoad=!1,this._src="",this.autoplay=!1,this.preload="auto",this._volume=1,this.loop=!1,this._et=this._startTime=0,this.readyState=4,t&&(this.src=t)},this._updateElapsed=function(){if(0<this._startTime){var t=Date.now();this._et+=t-this._startTime;var s=this.durationMilliseconds;this.loop&&!isNaN(s)&&this._et>s&&(this._et%=s),this._startTime=t}},this.__defineSetter__("src",function(t){logger.LOG&&console.log("LOG",".Audio","audio source is ",t),this._src=t,setTimeout(bind(this,function(){(this.autoplay||"auto"==this.preload)&&!this.isBackgroundMusic&&this.load(),this.autoplay&&this.play()}),0)}),this.__defineGetter__("src",function(){return this._src}),this.__defineSetter__("volume",function(t){this._volume=t,(!this.isBackgroundMusic||this==lastbg)&&NATIVE.sound.setVolume(this._src,t)}),this.__defineGetter__("currentTime",function(){return this._updateElapsed(),this._et/1e3}),this.__defineSetter__("currentTime",function(t){this._et=1e3*t,this._startTime=Date.now(),this==lastbg&&NATIVE.sound.seekTo(this._src,t)}),this.canPlayType=function(){return!0},this.load=function(t){if(!this.isBackgroundMusic){var s=NATIVE.sound.preloadSound(this._src);t&&(s.onload=bind(this,"_play")),this._startedLoad=!0}},this._play=function(){NATIVE.sound.playSound(this._src,this._volume,"loop"===this.loop||!0===this.loop),this._startTime=Date.now()},this.play=function(){this.paused=!1,this.isBackgroundMusic?(lastbg=this,this._startedLoad=!0,this._startTime=Date.now(),NATIVE.sound.playBackgroundMusic(this._src,this._volume,this.loop)):this._startedLoad?this._play():this.load(!0)},this.pause=function(){this.paused||(this.paused=!0,this._startedLoad&&((!this.isBackgroundMusic||this==lastbg)&&NATIVE.sound.pauseSound(this._src),this._updateElapsed(),this._startTime=0))},this.stop=function(){this._startedLoad&&(!this.isBackgroundMusic||this==lastbg)&&NATIVE.sound.stopSound(this._src),this.reset()},this.reset=function(){this._startTime=this._et=0},this.destroy=function(){this==lastbg&&(lastbg=void 0),NATIVE.sound.destroySound(this._src)}});exports.install=function(){GLOBAL.Audio=Audio};',pre:!0},"modules/devkit-core/src/clientapi/native/dom/DOMParser.js":{path:"modules/devkit-core/src/clientapi/native/dom/DOMParser.js",friendlyPath:".dom.DOMParser",directory:"modules/devkit-core/src/clientapi/native/dom/",filename:"DOMParser.js",src:'jsio("import .dom_parser"),exports.install=function(){window.DOMParser||(window.DOMParser=dom_parser.DOMParser)};',pre:!0},"modules/devkit-core/src/clientapi/native/dom/dom_parser.js":{path:"modules/devkit-core/src/clientapi/native/dom/dom_parser.js",friendlyPath:".dom_parser",directory:"modules/devkit-core/src/clientapi/native/dom/",filename:"dom_parser.js",src:'function DOMParser(t){this.options=t||{locator:{}}}function buildErrorHandler(t,e,n){function r(e){var r=t[e];if(!r)if(i)r=2==t.length?function(n){t(e,n)}:t;else for(var a=arguments.length;--a&&!(r=t[arguments[a]]););o[e]=r&&function(t){r(t+_locator(n))}||function(){}}if(!t){if(e instanceof DOMHandler)return e;t=e}var o={},i=t instanceof Function,n=n||{};return r("warning","warn"),r("error","warn","warning"),r("fatalError","warn","warning","error"),o}function DOMHandler(){this.cdata=!1}function position(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function _locator(t){if(t)return"\\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function _toString(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function appendElement(t,e){t.currentElement?t.currentElement.appendChild(e):t.document.appendChild(e)}DOMParser.prototype.parseFromString=function(t,e){var n=this.options,r=new XMLReader,o=n.domBuilder||new DOMHandler,i=n.errorHandler,a=n.locator,c=n.xmlns||{},l={lt:"<",gt:">",amp:"&",quot:\'"\',apos:"\'"};return a&&o.setDocumentLocator(a),r.errorHandler=buildErrorHandler(i,o,a),r.domBuilder=n.domBuilder||o,/\\/x?html?$/.test(e)&&(l.nbsp=" ",l.copy="©",c[""]="http://www.w3.org/1999/xhtml"),t?r.parse(t,c,l):r.errorHandler.error("invalid document source"),o.document},DOMHandler.prototype={startDocument:function(){this.document=(new DOMImplementation).createDocument(null,null,null),this.locator&&(this.document.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var o=this.document,e=o.createElementNS(t,n||e),i=r.length;appendElement(this,e),this.currentElement=e,this.locator&&position(this.locator,e);for(var a=0;a<i;a++){var t=r.getURI(a),c=r.getValue(a),n=r.getQName(a),t=o.createAttributeNS(t,n);t.getOffset&&position(t.getOffset(1),t),t.value=t.nodeValue=c,e.setAttributeNode(t)}},endElement:function(){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(){},endPrefixMapping:function(){},processingInstruction:function(t,e){var n=this.document.createProcessingInstruction(t,e);this.locator&&position(this.locator,n),appendElement(this,n)},ignorableWhitespace:function(){},characters:function(t,e,n){if(t=_toString.apply(this,arguments),this.currentElement&&t){var r=this.cdata?this.document.createCDATASection(t):this.document.createTextNode(t);this.currentElement.appendChild(r),this.locator&&position(this.locator,r)}},skippedEntity:function(){},endDocument:function(){this.document.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){var t=_toString.apply(this,arguments),r=this.document.createComment(t);this.locator&&position(this.locator,r),appendElement(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.document.implementation;r&&r.createDocumentType&&(t=r.createDocumentType(t,e,n),this.locator&&position(this.locator,t),appendElement(this,t))},warning:function(t){console.warn(t,_locator(this.locator))},error:function(t){console.error(t,_locator(this.locator))},fatalError:function(t){throw console.error(t,_locator(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\\w+/g,function(t){DOMHandler.prototype[t]=function(){return null}}),jsio("import .sax"),jsio("import .dom");var XMLReader=sax.XMLReader,DOMImplementation=exports.DOMImplementation=dom.DOMImplementation;exports.XMLSerializer=dom.XMLSerializer,exports.DOMParser=DOMParser;',pre:!0},"modules/devkit-core/src/clientapi/native/dom/sax.js":{path:"modules/devkit-core/src/clientapi/native/dom/sax.js",friendlyPath:".sax",directory:"modules/devkit-core/src/clientapi/native/dom/",filename:"sax.js",src:'function XMLReader(){}function parse(e,t,r,a,n){function s(e){var t=e.slice(1,-1);return t in r?r[t]:"#"===t.charAt(0)?(e=parseInt(t.substr(1).replace("x","0x")),65535<e?(e-=65536,e=String.fromCharCode(55296+(e>>10),56320+(1023&e))):e=String.fromCharCode(e),e):(n.error("entity not found:"+e),e)}function i(t){var r=e.substring(p,t).replace(/&#?\\w+;/g,s);f&&c(p),a.characters(r,0,t-p),p=t}function c(t,r){for(;t>=u&&(r=l.exec(e));)o=r.index,u=o+r[0].length,f.lineNumber++;f.columnNumber=t-o+1}for(var o=0,u=0,l=/.+(?:\\r\\n?|\\n)|.*$/g,f=a.locator,t=[{currentNSMap:t}],m={},p=0;;){var d=e.indexOf("<",p);if(0>d){if(!e.substr(p).match(/^\\s*$/)){var S=a.document,_=S.createTextNode(e.substr(p));S.appendChild(_),a.currentElement=_}break}switch(d>p&&i(d),e.charAt(d+1)){case"/":var S=e.indexOf(">",d+3),h=e.substring(d+2,S),g=t.pop(),b=g.localNSMap;if(g.tagName!=h&&n.fatalError("end tag name: "+h+" is not match the current start tagName:"+g.tagName),a.endElement(g.uri,g.localName,h),b)for(_ in b)a.endPrefixMapping(_);S++;break;case"?":f&&c(d),S=parseInstruction(e,d,a);break;case"!":f&&c(d),S=parseDCC(e,d,a,n);break;default:try{f&&c(d);var x=new ElementAttributes,S=parseElementStartPart(e,d,x,s,n),T=x.length;if(T&&f){for(var w=copyLocator(f,{}),d=0;d<T;d++){var N=x[d];c(N.offset),N.offset=copyLocator(f,{})}copyLocator(w,f)}!x.closed&&fixSelfClosed(e,S,x.tagName,m)&&(x.closed=!0,r.nbsp||n.warning("unclosed xml attribute")),appendElement(x,a,t),"http://www.w3.org/1999/xhtml"!==x.uri||x.closed?S++:S=parseHtmlSpecialContent(e,S,x.tagName,s,a)}catch(e){n.error("element parse error: "+e),S=-1}}0>S?i(d+1):p=S}}function copyLocator(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function parseElementStartPart(e,t,r,a,n){for(var s,i,c=++t,o=S_TAG;;){var u=e.charAt(c);switch(u){case"=":if(o===S_ATTR)s=e.slice(t,c),o=S_EQ;else{if(o!==S_ATTR_S)throw Error("attribute equal must after attrName");o=S_EQ}break;case"\'":case\'"\':if(o===S_EQ){if(t=c+1,c=e.indexOf(u,t),!(0<c))throw Error("attribute value no end \'"+u+"\' match");i=e.slice(t,c).replace(/&#?\\w+;/g,a),r.add(s,i,t-1),o=S_E}else{if(o!=S_V)throw Error(\'attribute value must after "="\');i=e.slice(t,c).replace(/&#?\\w+;/g,a),r.add(s,i,t),n.warning(\'attribute "\'+s+\'" missed start quot(\'+u+")!!"),t=c+1,o=S_E}break;case"/":switch(o){case S_TAG:r.setTagName(e.slice(t,c));case S_E:case S_S:case S_C:o=S_C,r.closed=!0;case S_V:case S_ATTR:case S_ATTR_S:break;default:throw Error("attribute invalid close char(\'/\')")}break;case"":n.error("unexpected end of input");case">":switch(o){case S_TAG:r.setTagName(e.slice(t,c));case S_E:case S_S:case S_C:break;case S_V:case S_ATTR:i=e.slice(t,c),"/"===i.slice(-1)&&(r.closed=!0,i=i.slice(0,-1));case S_ATTR_S:o===S_ATTR_S&&(i=s),o==S_V?(n.warning(\'attribute "\'+i+\'" missed quot(")!!\'),r.add(s,i.replace(/&#?\\w+;/g,a),t)):(n.warning(\'attribute "\'+i+\'" missed value!! "\'+i+\'" instead!!\'),r.add(i,i,t));break;case S_EQ:throw Error("attribute value missed!!")}return c;case"":u=" ";default:if(" ">=u)switch(o){case S_TAG:r.setTagName(e.slice(t,c)),o=S_S;break;case S_ATTR:s=e.slice(t,c),o=S_ATTR_S;break;case S_V:i=e.slice(t,c).replace(/&#?\\w+;/g,a),n.warning(\'attribute "\'+i+\'" missed quot(")!!\'),r.add(s,i,t);case S_E:o=S_S}else switch(o){case S_ATTR_S:n.warning(\'attribute "\'+s+\'" missed value!! "\'+s+\'" instead!!\'),r.add(s,s,t),t=c,o=S_ATTR;break;case S_E:n.warning(\'attribute space is required"\'+s+\'"!!\');case S_S:o=S_ATTR,t=c;break;case S_EQ:o=S_V,t=c;break;case S_C:throw Error("elements closed character \'/\' and \'>\' must be connected to")}}c++}}function appendElement(e,t,r){for(var a=e.tagName,n=null,s=r[r.length-1].currentNSMap,i=e.length;i--;){var c=e[i],o=c.qName,u=c.value,l=o.indexOf(":");if(0<l)var f=c.prefix=o.slice(0,l),l=o.slice(l+1),f="xmlns"===f&&l;else l=o,f="xmlns"===o&&"";c.localName=l,!1!==f&&(null==n&&(n={},_copy(s,s={})),s[f]=n[f]=u,c.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(f,u))}for(i=e.length;i--;)c=e[i],(f=c.prefix)&&("xml"===f&&(c.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==f&&(c.uri=s[f]));if(l=a.indexOf(":"),0<l?(f=e.prefix=a.slice(0,l),l=e.localName=a.slice(l+1)):(f=null,l=e.localName=a),i=e.uri=s[f||""],t.startElement(i,l,a,e),e.closed){if(t.endElement(i,l,a),n)for(f in n)t.endPrefixMapping(f)}else e.currentNSMap=s,e.localNSMap=n,r.push(e)}function parseHtmlSpecialContent(e,t,r,a,n){if(/^(?:script|textarea)$/i.test(r)){var s=e.indexOf("</"+r+">",t),e=e.substring(t+1,s);if(/[&<]/.test(e))return/^script$/i.test(r)?(n.characters(e,0,e.length),s):(e=e.replace(/&#?\\w+;/g,a),n.characters(e,0,e.length),s)}return t+1}function fixSelfClosed(e,t,r,a){var n=a[r];return null==n&&(n=a[r]=e.lastIndexOf("</"+r+">")),n<t}function _copy(e,t){for(var r in e)t[r]=e[r]}function parseDCC(e,t,r,a){switch(e.charAt(t+2)){case"-":if("-"===e.charAt(t+3)){var n=e.indexOf("-->",t+4);if(n>t)return r.comment(e,t+4,n-t-4),n+3;a.error("Unclosed comment")}break;default:if("CDATA["==e.substr(t+3,6))return n=e.indexOf("]]>",t+9),r.startCDATA(),r.characters(e,t+9,n-t-9),r.endCDATA(),n+3;var n=split(e,t),s=n.length;if(1<s&&/!doctype/i.test(n[0][0]))return e=n[1][0],t=3<s&&/^public$/i.test(n[2][0])&&n[3][0],a=4<s&&n[4][0],n=n[s-1],r.startDTD(e,t&&t.replace(/^([\'"])(.*?)\\1$/,"$2"),a&&a.replace(/^([\'"])(.*?)\\1$/,"$2")),r.endDTD(),n.index+n[0].length}return-1}function parseInstruction(e,t,r){var a=e.indexOf("?>",t);return a&&(e=e.substring(t,a).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/))?(r.processingInstruction(e[1],e[2]),a+2):-1}function ElementAttributes(){}function _set_proto_(e,t){return e.__proto__=t,e}function split(e,t){var r,a=[],n=/\'[^\']+\'|"[^"]+"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;for(n.lastIndex=t,n.exec(e);r=n.exec(e);)if(a.push(r),r[1])return a}var nameStartChar=/[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/,nameChar=RegExp("[\\\\-\\\\.0-9"+nameStartChar.source.slice(1,-1)+"·̀-ͯ\\\\ux203F-⁀]"),tagNamePattern=RegExp("^"+nameStartChar.source+nameChar.source+"*(?::"+nameStartChar.source+nameChar.source+"*)?$"),S_TAG=0,S_ATTR=1,S_ATTR_S=2,S_EQ=3,S_V=4,S_E=5,S_S=6,S_C=7;XMLReader.prototype={parse:function(e,t,r){var a=this.domBuilder;a.startDocument(),_copy(t,t={}),parse(e,t,r,a,this.errorHandler),a.endDocument()}},ElementAttributes.prototype={setTagName:function(e){if(!tagNamePattern.test(e))throw Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,r){if(!tagNamePattern.test(e))throw Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getOffset:function(e){return this[e].offset},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},_set_proto_({},_set_proto_.prototype)instanceof _set_proto_||(_set_proto_=function(e,t){function r(){}r.prototype=t,r=new r;for(t in e)r[t]=e[t];return r}),"function"==typeof require&&(exports.XMLReader=XMLReader);',pre:!0},"modules/devkit-core/src/clientapi/native/dom/dom.js":{path:"modules/devkit-core/src/clientapi/native/dom/dom.js",friendlyPath:".dom",directory:"modules/devkit-core/src/clientapi/native/dom/",filename:"dom.js",src:'function copy(e,t){for(var n in e)t[n]=e[n]}function _extends(e,t){var n=e.prototype;if(Object.create){var o=Object.create(t.prototype);n.__proto__=o}n instanceof t||(o=function(){},o.prototype=t.prototype,o=new o,copy(n,o),e.prototype=n=o),n.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),n.constructor=e)}function DOMException(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,ExceptionMessage[e]),this.message=ExceptionMessage[e],Error.captureStackTrace&&Error.captureStackTrace(this,DOMException);return n.code=e,t&&(this.message=this.message+": "+t),n}function NodeList(){}function LiveNodeList(e,t){this._node=e,this._refresh=t,_updateLiveList(this)}function _updateLiveList(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);__set__(e,"length",n.length),copy(n,e),e._inc=t}}function NamedNodeMap(){}function _findNodeIndex(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function _addNamedNode(e,t,n,o){o?t[_findNodeIndex(t,o)]=n:t[t.length++]=n,e&&(n.ownerElement=e,t=e.ownerDocument)&&(o&&_onRemoveAttribute(t,e,o),_onAddAttribute(t,e,n))}function _removeNamedNode(e,t,n){var o=_findNodeIndex(t,n);if(!(0<=o))throw DOMException(NOT_FOUND_ERR,Error());for(var i=t.length-1;o<i;)t[o]=t[++o];t.length=i,e&&(t=e.ownerDocument)&&(_onRemoveAttribute(t,e,n),n.ownerElement=null)}function DOMImplementation(e){if(this._features={},e)for(var t in e)this._features=e[t]}function Node(){}function _xmlEncoder(e){return"<"==e&&"&lt;"||">"==e&&"&gt;"||"&"==e&&"&amp;"||\'"\'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function _visitNode(e,t){if(t(e))return!0;if(e=e.firstChild)do if(_visitNode(e,t))return!0;while(e=e.nextSibling)}function Document(){}function _onAddAttribute(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}function _onRemoveAttribute(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function _onUpdateChild(e,t,n){if(e&&e._inc)if(e._inc++,e=t.childNodes,n)e[e.length++]=n;else{for(t=t.firstChild,n=0;t;)e[n++]=t,t=t.nextSibling;e.length=n}}function _removeChild(e,t){var n=t.previousSibling,o=t.nextSibling;return n?n.nextSibling=o:e.firstChild=o,o?o.previousSibling=n:e.lastChild=n,_onUpdateChild(e.ownerDocument,e),t}function _insertBefore(e,t,n){var o=t.parentNode;if(o&&o.removeChild(t),t.nodeType===DOCUMENT_FRAGMENT_NODE){if(o=t.firstChild,null==o)return t;var i=t.lastChild}else o=i=t;var r=n?n.previousSibling:e.lastChild;o.previousSibling=r,i.nextSibling=n,r?r.nextSibling=o:e.firstChild=o,null==n?e.lastChild=i:n.previousSibling=i;do o.parentNode=e;while(o!==i&&(o=o.nextSibling));return _onUpdateChild(e.ownerDocument||e,e),t.nodeType==DOCUMENT_FRAGMENT_NODE&&(t.firstChild=t.lastChild=null),t}function _appendSingleChild(e,t){var n=t.parentNode;if(n){var o=e.lastChild;n.removeChild(t)}return o=e.lastChild,t.parentNode=e,t.previousSibling=o,t.nextSibling=null,o?o.nextSibling=t:e.firstChild=t,e.lastChild=t,_onUpdateChild(e.ownerDocument,e,t),t}function Element(){this._nsMap={}}function Attr(){}function CharacterData(){}function Text(){}function Comment(){}function CDATASection(){}function DocumentType(){}function Notation(){}function Entity(){}function EntityReference(){}function DocumentFragment(){}function ProcessingInstruction(){}function XMLSerializer(){}function serializeToString(e,t){switch(e.nodeType){case ELEMENT_NODE:var n=e.attributes,o=n.length,i=e.firstChild,r=e.tagName,a=htmlns===e.namespaceURI;t.push("<",r);for(var s=0;s<o;s++)serializeToString(n.item(s),t,a);if(i||a&&!/^(?:meta|link|img|br|hr|input)$/i.test(r)){if(t.push(">"),a&&/^script$/i.test(r))i&&t.push(i.data);else for(;i;)serializeToString(i,t),i=i.nextSibling;t.push("</",r,">")}else t.push("/>");break;case DOCUMENT_NODE:case DOCUMENT_FRAGMENT_NODE:for(i=e.firstChild;i;)serializeToString(i,t),i=i.nextSibling;break;case ATTRIBUTE_NODE:return t.push(" ",e.name,\'="\',e.value.replace(/[<&"]/g,_xmlEncoder),\'"\');case TEXT_NODE:return t.push(e.data.replace(/[<&]/g,_xmlEncoder));case CDATA_SECTION_NODE:return t.push("<![CDATA[",e.data,"]]>");case COMMENT_NODE:return t.push("<!--",e.data,"-->");case DOCUMENT_TYPE_NODE:n=e.publicId,o=e.systemId,t.push("<!DOCTYPE ",e.name),n?(t.push(\' PUBLIC "\',n),o&&"."!=o&&t.push(\'" "\',o),t.push(\'">\')):o&&"."!=o?t.push(\' SYSTEM "\',o,\'">\'):((n=e.internalSubset)&&t.push(" [",n,"]"),t.push(">"));break;case PROCESSING_INSTRUCTION_NODE:return t.push("<?",e.target," ",e.data,"?>");case ENTITY_REFERENCE_NODE:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function importNode(e,t,n){var o;switch(t.nodeType){case ELEMENT_NODE:o=t.cloneNode(!1),o.ownerDocument=e;case DOCUMENT_FRAGMENT_NODE:break;case ATTRIBUTE_NODE:n=!0}if(o||(o=t.cloneNode(!1)),o.ownerDocument=e,o.parentNode=null,n)for(t=t.firstChild;t;)o.appendChild(importNode(e,t,n)),t=t.nextSibling;return o}function cloneNode(e,t,n){var o,i=new t.constructor;for(o in t){var r=t[o];"object"!=typeof r&&r!=i[o]&&(i[o]=r)}switch(t.childNodes&&(i.childNodes=new NodeList),i.ownerDocument=e,i.nodeType){case ELEMENT_NODE:o=t.attributes;var a=i.attributes=new NamedNodeMap,r=o.length;for(a._ownerElement=i,a=0;a<r;a++)i.setAttributeNode(cloneNode(e,o.item(a),!0));break;case ATTRIBUTE_NODE:n=!0}if(n)for(t=t.firstChild;t;)i.appendChild(cloneNode(e,t,n)),t=t.nextSibling;return i}function __set__(e,t,n){e[t]=n}var htmlns="http://www.w3.org/1999/xhtml",NodeType={},ELEMENT_NODE=NodeType.ELEMENT_NODE=1,ATTRIBUTE_NODE=NodeType.ATTRIBUTE_NODE=2,TEXT_NODE=NodeType.TEXT_NODE=3,CDATA_SECTION_NODE=NodeType.CDATA_SECTION_NODE=4,ENTITY_REFERENCE_NODE=NodeType.ENTITY_REFERENCE_NODE=5,ENTITY_NODE=NodeType.ENTITY_NODE=6,PROCESSING_INSTRUCTION_NODE=NodeType.PROCESSING_INSTRUCTION_NODE=7,COMMENT_NODE=NodeType.COMMENT_NODE=8,DOCUMENT_NODE=NodeType.DOCUMENT_NODE=9,DOCUMENT_TYPE_NODE=NodeType.DOCUMENT_TYPE_NODE=10,DOCUMENT_FRAGMENT_NODE=NodeType.DOCUMENT_FRAGMENT_NODE=11,NOTATION_NODE=NodeType.NOTATION_NODE=12,ExceptionCode={},ExceptionMessage={},INDEX_SIZE_ERR=ExceptionCode.INDEX_SIZE_ERR=(ExceptionMessage[1]="Index size error",1),DOMSTRING_SIZE_ERR=ExceptionCode.DOMSTRING_SIZE_ERR=(ExceptionMessage[2]="DOMString size error",2),HIERARCHY_REQUEST_ERR=ExceptionCode.HIERARCHY_REQUEST_ERR=(ExceptionMessage[3]="Hierarchy request error",3),WRONG_DOCUMENT_ERR=ExceptionCode.WRONG_DOCUMENT_ERR=(ExceptionMessage[4]="Wrong document",4),INVALID_CHARACTER_ERR=ExceptionCode.INVALID_CHARACTER_ERR=(ExceptionMessage[5]="Invalid character",5),NO_DATA_ALLOWED_ERR=ExceptionCode.NO_DATA_ALLOWED_ERR=(ExceptionMessage[6]="No data allowed",6),NO_MODIFICATION_ALLOWED_ERR=ExceptionCode.NO_MODIFICATION_ALLOWED_ERR=(ExceptionMessage[7]="No modification allowed",7),NOT_FOUND_ERR=ExceptionCode.NOT_FOUND_ERR=(ExceptionMessage[8]="Not found",8),NOT_SUPPORTED_ERR=ExceptionCode.NOT_SUPPORTED_ERR=(ExceptionMessage[9]="Not supported",9),INUSE_ATTRIBUTE_ERR=ExceptionCode.INUSE_ATTRIBUTE_ERR=(ExceptionMessage[10]="Attribute in use",10),INVALID_STATE_ERR=ExceptionCode.INVALID_STATE_ERR=(ExceptionMessage[11]="Invalid state",11),SYNTAX_ERR=ExceptionCode.SYNTAX_ERR=(ExceptionMessage[12]="Syntax error",12),INVALID_MODIFICATION_ERR=ExceptionCode.INVALID_MODIFICATION_ERR=(ExceptionMessage[13]="Invalid modification",13),NAMESPACE_ERR=ExceptionCode.NAMESPACE_ERR=(ExceptionMessage[14]="Invalid namespace",14),INVALID_ACCESS_ERR=ExceptionCode.INVALID_ACCESS_ERR=(ExceptionMessage[15]="Invalid access",15);DOMException.prototype=Error.prototype,copy(ExceptionCode,DOMException),NodeList.prototype={length:0,item:function(e){return this[e]||null}},LiveNodeList.prototype.item=function(e){return _updateLiveList(this),this[e]},_extends(LiveNodeList,NodeList),NamedNodeMap.prototype={length:0,item:NodeList.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);return t=this.getNamedItem(e.nodeName),_addNamedNode(this._ownerElement,this,e,t),t},setNamedItemNS:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);return t=this.getNamedItemNS(e.namespaceURI,e.localName),_addNamedNode(this._ownerElement,this,e,t),t},removeNamedItem:function(e){return e=this.getNamedItem(e),_removeNamedNode(this._ownerElement,this,e),e},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return _removeNamedNode(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var o=this[n];if(o.localName==t&&o.namespaceURI==e)return o}return null}},DOMImplementation.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var o=new Document;return(o.doctype=n)&&o.appendChild(n),o.implementation=this,o.childNodes=new NodeList,t&&(e=o.createElementNS(e,t),o.appendChild(e)),o},createDocumentType:function(e,t,n){var o=new DocumentType;return o.name=e,o.nodeName=e,o.publicId=t,o.systemId=n,o}},Node.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return _insertBefore(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return _removeChild(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return cloneNode(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==TEXT_NODE&&e.nodeType==TEXT_NODE?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return 0<this.attributes.length},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var o in n)if(n[o]==e)return o;t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},copy(NodeType,Node),copy(NodeType,Node.prototype),Document.prototype={nodeName:"#document",nodeType:DOCUMENT_NODE,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==DOCUMENT_FRAGMENT_NODE){for(var n=e.firstChild;n;){var o=n.nextSibling;this.insertBefore(n,t),n=o}return e}return null==this.documentElement&&1==e.nodeType&&(this.documentElement=e),_insertBefore(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),_removeChild(this,e)},importNode:function(e,t){return importNode(this,e,t)},getElementById:function(e){var t=null;return _visitNode(this.documentElement,function(n){if(1==n.nodeType&&n.getAttribute("id")==e)return t=n,!0}),t},createElement:function(e){var t=new Element;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new NodeList,(t.attributes=new NamedNodeMap)._ownerElement=t},createDocumentFragment:function(){var e=new DocumentFragment;return e.ownerDocument=this,e.childNodes=new NodeList,e},createTextNode:function(e){var t=new Text;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new Comment;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new CDATASection;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new ProcessingInstruction;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new Attr;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new EntityReference;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new Element,o=t.split(":"),i=n.attributes=new NamedNodeMap;return n.childNodes=new NodeList,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==o.length?(n.prefix=o[0],n.localName=o[1]):n.localName=t,i._ownerElement=n},createAttributeNS:function(e,t){var n=new Attr,o=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==o.length?(n.prefix=o[0],n.localName=o[1]):n.localName=t,n}},_extends(Document,Node),Element.prototype={nodeType:ELEMENT_NODE,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){return(e=this.getAttributeNode(e))&&e.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){(e=this.getAttributeNode(e))&&this.removeAttributeNode(e)},appendChild:function(e){return e.nodeType===DOCUMENT_FRAGMENT_NODE?this.insertBefore(e,null):_appendSingleChild(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){e=this.ownerDocument.createAttributeNS(e,t),e.value=e.nodeValue=n,this.setAttributeNode(e)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new LiveNodeList(this,function(t){var n=[];return _visitNode(t,function(o){o!==t&&o.nodeType==ELEMENT_NODE&&("*"===e||o.tagName==e)&&n.push(o)}),n})},getElementsByTagNameNS:function(e,t){return new LiveNodeList(this,function(n){var o=[];return _visitNode(n,function(i){i!==n&&i.nodeType===ELEMENT_NODE&&i.namespaceURI===e&&("*"===t||i.localName==t)&&o.push(i)}),o})}},Document.prototype.getElementsByTagName=Element.prototype.getElementsByTagName,Document.prototype.getElementsByTagNameNS=Element.prototype.getElementsByTagNameNS,_extends(Element,Node),Attr.prototype.nodeType=ATTRIBUTE_NODE,_extends(Attr,Node),CharacterData.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){this.nodeValue=this.data=e=this.data+e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(){throw Error(ExceptionMessage[3])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){var o=this.data.substring(0,e),e=this.data.substring(e+t);this.nodeValue=this.data=n=o+n+e,this.length=n.length}},_extends(CharacterData,Node),Text.prototype={nodeName:"#text",nodeType:TEXT_NODE,splitText:function(e){var t=this.data,n=t.substring(e);return this.data=this.nodeValue=t=t.substring(0,e),this.length=t.length,e=this.ownerDocument.createTextNode(n),this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling),e}},_extends(Text,CharacterData),Comment.prototype={nodeName:"#comment",nodeType:COMMENT_NODE},_extends(Comment,CharacterData),CDATASection.prototype={nodeName:"#cdata-section",nodeType:CDATA_SECTION_NODE},_extends(CDATASection,CharacterData),DocumentType.prototype.nodeType=DOCUMENT_TYPE_NODE,_extends(DocumentType,Node),Notation.prototype.nodeType=NOTATION_NODE,_extends(Notation,Node),Entity.prototype.nodeType=ENTITY_NODE,_extends(Entity,Node),EntityReference.prototype.nodeType=ENTITY_REFERENCE_NODE,_extends(EntityReference,Node),DocumentFragment.prototype.nodeName="#document-fragment",DocumentFragment.prototype.nodeType=DOCUMENT_FRAGMENT_NODE,_extends(DocumentFragment,Node),ProcessingInstruction.prototype.nodeType=PROCESSING_INSTRUCTION_NODE,_extends(ProcessingInstruction,Node),XMLSerializer.prototype.serializeToString=function(e){var t=[];return serializeToString(e,t),t.join("")},Node.prototype.toString=function(){return XMLSerializer.prototype.serializeToString(this)};try{if(Object.defineProperty){Object.defineProperty(LiveNodeList.prototype,"length",{get:function(){return _updateLiveList(this),this.$$length}}),Object.defineProperty(Node.prototype,"textContent",{get:function(){return getTextContent(this)},set:function(e){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(e||""+e)&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=value,this.nodeValue=e}}});var getTextContent=function(e){switch(e.nodeType){case 1:case 11:for(var t=[],e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(getTextContent(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}},__set__=function(e,t,n){e["$$"+t]=n}}}catch(e){}"function"==typeof require&&(exports.DOMImplementation=DOMImplementation,exports.XMLSerializer=XMLSerializer);',
pre:!0},"modules/devkit-core/src/clientapi/native/timestep.js":{path:"modules/devkit-core/src/clientapi/native/timestep.js",friendlyPath:".timestep",directory:"modules/devkit-core/src/clientapi/native/",filename:"timestep.js",src:'function installNativeView(){jsio("import .timestep.NativeView"),timestep.NativeView.install(),jsio("import ui.View as View"),View.setDefaultViewBacking(NATIVE.timestep.View),jsio("import .timestep.NativeViewBacking"),timestep.NativeViewBacking.install(),jsio("import .timestep.NativeImageView"),timestep.NativeImageView.install();var e=device.importUI("animate"),i=e.getViewAnimator();e.setViewAnimator(NATIVE.timestep.Animator),merge(NATIVE.timestep.Animator.prototype,PubSub.prototype),NATIVE.timestep.Animator.prototype._addToGroup=i.prototype._addToGroup,NATIVE.timestep.Animator.prototype._removeFromGroup=i.prototype._removeFromGroup,jsio("import ui.View as View"),View.prototype.__type=VIEW_TYPES.DEFAULT,jsio("import ui.ImageView as ImageView"),ImageView.prototype.__type=VIEW_TYPES.IMAGE_VIEW,ImageView.prototype.render.HAS_NATIVE_IMPL=!0,logger.LOG&&console.log("LOG",".timestep","USING NATIVE VIEWS")}jsio("import device"),jsio("import lib.PubSub as PubSub");var hasNativeViews=GLOBAL.NATIVE&&NATIVE.timestep&&NATIVE.timestep.View,VIEW_TYPES={DEFAULT:0,IMAGE_VIEW:1};logger.LOG&&console.log("LOG",".timestep",typeof GLOBAL.CONFIG,GLOBAL.CONFIG&&CONFIG.disableNativeViews),GLOBAL.CONFIG&&CONFIG.disableNativeViews||!hasNativeViews?(logger.LOG&&console.log("LOG",".timestep","USING JS VIEWS"),exports.install=function(){}):exports.install=installNativeView;',pre:!0},"modules/devkit-core/src/clientapi/native/timestep/NativeView.js":{path:"modules/devkit-core/src/clientapi/native/timestep/NativeView.js",friendlyPath:".timestep.NativeView",directory:"modules/devkit-core/src/clientapi/native/timestep/",filename:"NativeView.js",src:'jsio("from ui.filter import Filter"),exports.install=function(){jsio("import ui.View as View");var i=View.prototype;i.setFilter=function(i){this.removeFilter(),this._filter=i,i.setView(this),i.update()},i.removeFilter=function(){this._filter&&(this._filter.removeView(this),this._filter=null,this.__view.filterType=0,this.__view.filterColor="rgba(0,0,0,0)")}};',pre:!0},"modules/devkit-core/src/clientapi/native/timestep/NativeViewBacking.js":{path:"modules/devkit-core/src/clientapi/native/timestep/NativeViewBacking.js",friendlyPath:".timestep.NativeViewBacking",directory:"modules/devkit-core/src/clientapi/native/timestep/",filename:"NativeViewBacking.js",src:'exports.install=function(){jsio("import device"),jsio("import ui.backend.BaseBacking as BaseBacking");var i=device.importUI("ViewBacking"),o=NATIVE.timestep.View.prototype;o&&(i=i.prototype,o.__proto__=BaseBacking.prototype,o.__firstRender=!0,o.copy||(o.copy=i.copy),!o.localizePoint&&o.localizePt)&&(o.localizePoint=o.localizePt)};',pre:!0},"modules/devkit-core/src/clientapi/native/timestep/NativeImageView.js":{path:"modules/devkit-core/src/clientapi/native/timestep/NativeImageView.js",friendlyPath:".timestep.NativeImageView",directory:"modules/devkit-core/src/clientapi/native/timestep/",filename:"NativeImageView.js",src:'exports.install=function(){jsio("import ui.ImageView as ImageView");var e=ImageView.prototype,t=e.setImage;e.setImage=function(e,i){i&&i.forceReload&&"string"==typeof e&&NATIVE.gl.deleteTexture(e);var a=t.apply(this,arguments);return this._img&&NATIVE.timestep.setImageOnImageView(this.__view,this._img.getMap()),a}};',pre:!0},"modules/devkit-core/modules/timestep/src/ui/ImageView.js":{path:"modules/devkit-core/modules/timestep/src/ui/ImageView.js",friendlyPath:"ui.ImageView",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"ImageView.js",src:'jsio("import device"),exports=device.importUI("ImageView");',pre:!0},"modules/devkit-core/src/clientapi/index.js":{path:"modules/devkit-core/src/clientapi/index.js",friendlyPath:"devkit",directory:"modules/devkit-core/src/clientapi/",filename:"index.js",src:'jsio("import lib.PubSub"),jsio("import lib.Callback"),jsio("import ui.Engine"),jsio("import ui.View"),jsio("import ui.StackView"),jsio("import device");var FontRenderer=device.get("FontRenderer");GLOBAL.CONFIG||(GLOBAL.CONFIG={}),GLOBAL.DEBUG||(GLOBAL.DEBUG=!1),exports.ClientAPI=__class__,exports.ClientAPI=exports.ClientAPI(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){var i=navigator.userAgent;(this.isNative=/TeaLeaf/.test(i))?(this.isIOS=/iPhone OS/.test(i),this.isAndroid=/Android/.test(i)):/(iPod|iPhone|iPad)/i.test(i)?(this.isIOS=this.isMobileBrowser=!0,this.isUIWebView=!/Safari/.test(i)):/Android/.test(i)?this.isAndroid=this.isMobileBrowser=!0:(this.isDesktop=!0,this.isFacebook=GLOBAL.CONFIG.isFacebookApp),this.isKik=/Kik\\/\\d/.test(i),this.init=function(){window.addEventListener("pageshow",bind(this,"_onShow"),!1),window.addEventListener("pagehide",bind(this,"_onHide"),!1),this.isKik&&GLOBAL.cards&&cards.browser&&(cards.browser.on("foreground",bind(this,"_onShow")),cards.browser.on("background",bind(this,"_onHide"))),this.isOnline=navigator.onLine,window.addEventListener("online",bind(this,function(){this.isOnline||(this.isOnline=!0,this.publish("OnlineStateChanged",!0))}),!1),window.addEventListener("offline",bind(this,function(){this.isOnline&&(this.isOnline=!1,this.publish("OnlineStateChanged",!1))}),!1),"browser"==this.env&&setTimeout(bind(this,"_onShow"),0),CONFIG.version&&logger.LOG&&console.log("LOG","devkit","Version",CONFIG.version)},this.Application=ui.StackView,i=__class__,i=i(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){this._plugins={}},this.register=function(i,e){this._plugins[i]=e},this.getPlugin=function(i){return this._plugins[i]}}),this.plugins=new i,jsio("import .UI"),this.ui=new UI;var e;try{GLOBAL.CACHE&&(e=JSON.parse(GLOBAL.CACHE["spritesheets/map.json"]))}catch(i){logger.WARN&&console.warn("WARN","devkit","spritesheet map failed to parse",i)}var t;try{GLOBAL.CACHE&&(t=JSON.parse(GLOBAL.CACHE["resources/sound-map.json"]))}catch(i){logger.WARN&&console.warn("WARN","devkit","sound map failed to parse",i)}jsio("import ui.resource.loader"),this.resources=ui.resource.loader,this.resources.addSheets(e),this.resources.addAudioMap(t),jsio("import AudioManager"),this._onHide=function(){this.app&&this.app.onPause&&this.app.onPause(),this.publish("Hide"),this.publish("AfterHide"),this.tracker&&this.tracker.endSession()},this._onShow=function(){this.app&&this.app.onResume&&this.app.onResume(),this.publish("Show"),this.publish("AfterShow")},this.buildApp=function(){jsio("import src.Application as Application"),Application.prototype.__root=!0,this.app=new Application,this.buildEngine(merge({view:this.app},this.app._settings)),this.emit("app",this.app)},this.buildEngine=function(i){i||(i={}),i.entry||(i.entry="launchUI");var e=i.view;if(!e)throw"a timestep.Engine must be created with a root view";if(!(e instanceof ui.View))throw"src/Application.js must export a Class that inherits from ui.View";e.subscribe("onLoadError",this,"_onAppLoadError");var t;if("function"==typeof e[i.entry]&&(t=bind(e,i.entry)),e.view=e,e.engine=new ui.Engine(i),e.engine.show(),e.engine.startLoop(),e.initUI&&e.initUI(),FontRenderer.init(),i=(e._settings||{}).preload,e=CONFIG.splash&&CONFIG.splash.autoHide!==!1,i&&i.length){for(var s,n=new lib.Callback,o=0;s=i[o];++o)this.resources.preload(s,n.chain());e&&n.run(this,"hidePreloader",null),t&&n.run(t)}else e&&this.hidePreloader(),t&&t()},this._onAppLoadError=function(i){logger.ERROR&&console.error("ERROR","devkit","encountered error when creating src Application: ",JSON.stringify(i));var e=CONFIG.splash;e&&e.onAppLoadError&&e.onAppLoadError(i)},this.hideSplash=this.hidePreloader=function(i){var e=CONFIG.splash;e&&e.hide&&!e.hidden?(e.hide(i),e.hidden=!0):i&&i()}});',pre:!0},"modules/devkit-core/src/clientapi/UI.js":{path:"modules/devkit-core/src/clientapi/UI.js",friendlyPath:".UI",directory:"modules/devkit-core/src/clientapi/",filename:"UI.js",src:'jsio("import device"),jsio("import ui.widget.Spinner as Spinner");var config=window.CONFIG,Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_src_clientapi_UI=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_src_clientapi_UI(function(){return this.init&&this.init.apply(this,arguments)},function(){this._spinnerCounter=0,jsio("import device");var i;this._scale=i=navigator.displayMetrics?navigator.displayMetrics.densityDpi/160:!CONFIG.scaleDPR&&device.isMobileBrowser?1:window.devicePixelRatio||1,this.setTargetDensity=function(e){switch(e){case"high":this._scale=.5*i;break;case"medium":this._scale=.75*i;break;default:this._scale=i}logger.LOG&&console.log("LOG",".UI","scale:",this._scale)},this.getScale=function(){return this._scale},this.getIntValue=function(i){return Math.round(i*this._scale)/this._scale},this.showSpinner=function(){if(this._spinnerCounter)++this._spinnerCounter;else{var i=GC.app.view;if(i)if(++this._spinnerCounter,this._spinner)i.addSubview(this._spinner);else{var e=50*device.screen.devicePixelRatio;this._spinner=new Spinner({width:e,height:e,x:i.style.width/2-e/2,y:i.style.height/2-e/2,parent:i})}}},this.hideSpinner=function(){--this._spinnerCounter,0>=this._spinnerCounter&&(this._spinnerCounter=0,this._spinner&&this._spinner.removeFromSuperview())}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/widget/Spinner.js":{path:"modules/devkit-core/modules/timestep/src/ui/widget/Spinner.js",friendlyPath:"ui.widget.Spinner",directory:"modules/devkit-core/modules/timestep/src/ui/widget/",filename:"Spinner.js",src:'jsio("import ui.View as View");var Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_widget_Spinner=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_modules_devkit_core_modules_timestep_src_ui_widget_Spinner(function(){return this.init&&this.init.apply(this,arguments)},View,function(t){var s={cycles:.5,radius:10,spokes:20,thickness:2,trail:10,color:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.5)",layout:"box"};this.tag="Spinner",this._t=0,this.init=function(i){this._opts=merge(i,s),this._step=2*Math.PI/this._opts.spokes,t(this,"init",[this._opts])},this.tick=function(t){this._t+=t;var t=this._t/1e3%(1/this._opts.cycles)*Math.PI,s=this._r;this._r=t-t%this._step,s!=t&&this.needsRepaint()},this.render=function(t){t.fillStyle=this._opts.backgroundColor;var s,i,e,o=t.globalAlpha,_=this.style.width,r=this.style.height,h=this._opts.radius,l=this._opts.trail,a=this._opts.thickness;for(i=0;i<h;++i)s=i+1,s=Math.round(h-Math.sqrt(2*s*h-s*s)),t.fillRect(s,i,_-2*s,1);for(i=r-h,t.fillRect(0,h,_,i-h),e=0;e<h;++e)s=h-e,s=Math.round(h-Math.sqrt(2*s*h-s*s)),t.fillRect(s,i+e,_-2*s,1);for(t.fillStyle=this._opts.color,t.translate(_/2,r/2),_/=2,t.rotate(this._r),e=0;e<this._opts.spokes;++e)t.rotate(this._step),t.globalAlpha=o*Math.max(.1,(e-l)/l),t.fillRect(10,-a/2,_-15,a)}});',pre:!0},"src/Application.js":{path:"src/Application.js",friendlyPath:"src.Application",directory:"src/",filename:"Application.js",baseMod:"src",basePath:"/Users/tsunami/projects/devkitPoj/helloworld/src",src:'jsio("import ui.TextView as TextView");var Users_tsunami_projects_devkitPoj_helloworld_src_Application=__class__;exports=Users_tsunami_projects_devkitPoj_helloworld_src_Application(function(){return this.init&&this.init.apply(this,arguments)},GC.Application,function(){this.initUI=function(){this.tvHelloWorld=new TextView({superview:this.view,text:"Hello, world!",color:"white",x:0,y:100,width:this.view.style.width,height:100})},this.launchUI=function(){}});',pre:!0},"modules/devkit-core/modules/timestep/src/ui/TextView.js":{path:"modules/devkit-core/modules/timestep/src/ui/TextView.js",friendlyPath:"ui.TextView",directory:"modules/devkit-core/modules/timestep/src/ui/",filename:"TextView.js",src:'jsio("import device"),exports=device.importUI("TextView");',pre:!0}});;