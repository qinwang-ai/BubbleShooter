5299742735807ad286d64dadfe364053
exports.log=jsio.__env.log;exports.GLOBAL=jsio.__env.global;Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});
Function.prototype.bind||(Function.prototype.bind=function(a){if(typeof this!=="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,e=function(){},d=function(){return c.apply(this instanceof e?this:a,b.concat(Array.prototype.slice.call(arguments)))};e.prototype=this.prototype;d.prototype=new e;return d});var SLICE=Array.prototype.slice;
exports.isArray="function"===typeof Array.isArray?Array.isArray:function(a){return Object.prototype.toString.call(a)==="[object Array]"};
exports.bind=function(a,b){if(arguments.length>2){var c=SLICE.call(arguments,2);return typeof b=="string"?function(){if(a[b])return a[b].apply(a,c.concat(SLICE.call(arguments,0)));throw logger.error("No method:",b,"for context",a);}:function(){return b.apply(a,c.concat(SLICE.call(arguments,0)))}}return typeof b=="string"?function(){if(a[b])return a[b].apply(a,arguments);throw logger.error("No method:",b,"for context",a);}:function(){return b.apply(a,arguments)}};
exports.Class=function(a,b,c){return exports.__class__(function(){return this.init&&this.init.apply(this,arguments)},a,b,c)};
exports.__class__=function(a,b,c,e){var d=function(){},f;if(typeof b!="string"){e=c;c=b;b=null}b&&(f=exports.logging.get(b));if(!c)throw Error("parent or prototype not provided");if(!e){e=c;c=null}if(c)if(exports.isArray(c)){d.prototype={};for(var g=0,h;h=c[g];++g){h==Error&&ErrorParentClass&&(h=ErrorParentClass);for(var i in h.prototype)i in d.prototype||(d.prototype[i]=h.prototype[i])}c=c[0]}else{c==Error&&ErrorParentClass&&(c=ErrorParentClass);d.prototype=c.prototype}g=c?function(a,b,f){var g=
c.prototype[b];if(!g)throw Error("method "+b+" does not exist");return g.apply(a,f||[])}:null;h=a.prototype=new d;h.constructor=a;h.__parentClass__=c;if(b)h.__class__=b;e.call(h,f||g,f&&g);return a};var ErrorParentClass=exports.__class__(function(){var a=Error.prototype.constructor.apply(this,arguments),b;for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b])},function(){});
exports.Class.defaults=exports.merge=function(a,b){for(var a=a||{},c=1,e=arguments.length;c<e;++c){var d=arguments[c],f;for(f in d)d.hasOwnProperty(f)&&!a.hasOwnProperty(f)&&(a[f]=d[f])}return a};exports.delay=function(a,b){var c=null,e,d,f=function(){a.apply(e,d)};return function(){e=this;d=arguments;c&&clearTimeout(c);c=setTimeout(f,b||0)}};
exports.logging=function(){var a={DEBUG:1,LOG:2,INFO:3,WARN:4,ERROR:5,NONE:10},b={},c=false,e="";a.setPrefix=function(a){e=a+" "};a.setProduction=function(a){c=!!a;for(var g in b)b[g].setProduction(c)};a.get=function(a){a=a in b?b[a]:b[a]=new d(a);a.setProduction(c);return a};a.set=function(a,c){b[a]=c};a.getAll=function(){return b};a.__create=function(b,c){c.logger=a.get(b)};var d=exports.__class__(function(b,g){this._name=b;this._isProduction=c;this.setLevel(g||a.LOG)},function(){function b(c){var d=
a[c];return function(){if(!this._isProduction&&d>=this._level){var a=c+" "+e+this._name,b=this._listener||exports.log;return b&&b.apply(this._listener,[a].concat(SLICE.call(arguments)))}return arguments[0]}}this.setProduction=function(b){(this._isProduction=b)&&this.setLevel(a.NONE)};this.setLevel=function(b){this._level=b;if(this._isProduction)b=a.NONE;this.DEBUG=b<=a.DEBUG;this.LOG=b<=a.LOG;this.INFO=b<=a.INFO;this.WARN=b<=a.WARN;this.ERROR=b<=a.ERROR};this.setListener=function(a){this._listener=
a};this.debug=b("DEBUG");this.log=b("LOG");this.info=b("INFO");this.warn=b("WARN");this.error=b("ERROR")});return a}();var logger=exports.logging.get("jsiocore");
