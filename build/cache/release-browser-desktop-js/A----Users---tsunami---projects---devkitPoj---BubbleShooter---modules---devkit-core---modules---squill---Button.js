cb2c323fea9661ceabeb53214673c551
jsio("from util.browser import $");jsio("import .Widget");jsio("import .hint as hint");
var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Button=__class__,Button=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Button(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(b){this._css="btn";this._type="button";this.init=function(a){a=merge(a,{tag:"button",isEnabled:!0});this._isEnabled=a.isEnabled;b(this,"init",[a]);this._hint=a.hint};this.create=function(){this._opts.style=merge(this._opts.style,
{whiteSpace:"nowrap",display:"inline-block"});b(this,"create",arguments)};this.buildWidget=function(){var a=this._el;this.initMouseEvents(a);this.initKeyEvents(a);a.style.userSelect="none";a.style.MozUserSelect="none";a.style.KhtmlUserSelect="none";a.unselectable="on"};this._setHintTimeout=function(a){this._hint&&(this._hintTimeout&&clearTimeout(this._hintTimeout),this._hintTimeout=setTimeout(bind(this,function(){hint.show(a.pageX+12,a.pageY+14,this._hint)}),300))};this.onMouseOver=function(a){this._setHintTimeout(a)};
this.onMouseMove=function(a){this._setHintTimeout(a)};this.onMouseOut=function(){hint.hide();this._hintTimeout&&clearTimeout(this._hintTimeout)};this.onClick=function(a){$.stopEvent(a);if(this._isEnabled){if(this._opts.onClick)this._opts.onClick(a,this);b(this,"onClick",arguments)}};this.captureOnEnter=function(a){a.subscribe("KeyDown",this,"onKeyDown");a.subscribe("KeyUp",this,"onKeyUp")};this.onKeyDown=function(a){13==a.keyCode&&($.stopEvent(a),this.onMouseDown())};this.onKeyUp=function(a){13==
a.keyCode&&($.stopEvent(a),this.onMouseUp(),this.onClick(a))};this.blur=function(){this._el&&this._el.blur()};this.focus=function(){this._el&&this._el.focus()};this.setEnabled=function(a){this._isEnabled!=a&&((this._isEnabled=a)?$.removeClass(this._el,"disabled"):$.addClass(this._el,"disabled"))}});
