c400b1ddd93190664ac2c8a4d9d56120
jsio("import lib.PubSub");jsio("import std.uri");jsio("from util.browser import $");
var UNIQUE_ID="__squill__window_id",Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Window=__class__,Window=exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Window(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){this.init=function(a){this._win=a||window;this._location=new std.uri(this._win.location);this._dim=$(this._win);$.onEvent(this._win,"resize",this,"onViewportChange");$.onEvent(this._win,
"scroll",this,"onViewportChange")};this.onViewportChange=function(a){this._dim=$(this._win);this.publish("ViewportChange",a,this._dim)};this.getDim=this.getViewport=function(){return this._dim};this.query=function(a){return this._location.query(a)};this.hash=function(a){return this._location.query(a)};this.center=function(a,b){var b=merge(b,{subscribe:!0}),c="height"in b?b.height:a.offsetHeight;a.style.left=(this._dim.width-("width"in b?b.width:a.offsetWidth))/2+"px";a.style.top=(this._dim.height-
c)/2+"px";b.subscribe&&this.subscribe("ViewportChange",this,"center",a,merge({subscribe:!1},b))}}),gWin={};exports.get=function(a){a||(a=window);return a[UNIQUE_ID]?gWin[a[UNIQUE_ID]]:gWin[a[UNIQUE_ID]]=new Window(a)};
