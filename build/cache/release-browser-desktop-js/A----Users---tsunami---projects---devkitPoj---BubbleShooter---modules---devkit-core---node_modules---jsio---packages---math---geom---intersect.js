b2f52ab1ea2fe7df448591080d81ea26
jsio("import .Point");jsio("import .Line");jsio("import .Rect");var intersect=exports;intersect.pointAndRect=intersect.ptAndRect=function(b,a){var c=b.x,d=b.y;return c>=a.x&&c<=a.x+a.width&&d>=a.y&&d<=a.y+a.height};intersect.rectAndPoint=intersect.rectAndPt=function(b,a){return intersect.pointAndRect(a,b)};intersect.pointAndCircle=intersect.ptAndCirc=function(b,a){var c=b.x-a.x,d=b.y-a.y;return c*c+d*d<a.radius*a.radius};
intersect.circleAndPoint=intersect.circAndPt=function(b,a){return intersect.pointAndCircle(a,b)};intersect.circleAndCircle=function(b,a){var c=a.x-b.x,d=a.y-b.y,e=b.radius+a.radius;return c*c+d*d<=e*e};intersect.isRectAndRect=function(b,a){return!(b.y+b.height<a.y||a.y+a.height<b.y||b.x+b.width<a.x||a.x+a.width<b.x)};
intersect.circleAndRect=function(b,a){return intersect.pointAndRect(b,a)?!0:intersect.lineAndCircle(a.getSide(1),b)||intersect.lineAndCircle(a.getSide(2),b)||intersect.lineAndCircle(a.getSide(3),b)||intersect.lineAndCircle(a.getSide(4),b)};intersect.rectAndCircle=function(b,a){return intersect.circleAndRect(a,b)};intersect.lineAndCircle=function(b,a){return intersect.pointToLine(a,b).getMagnitude()<a.radius};intersect.circleAndLine=function(b,a){return intersect.lineAndCircle(a,b)};
intersect.pointToLine=intersect.ptToLine=function(b,a){var c=a.end.x-a.start.x,d=a.end.y-a.start.y,e=((b.x-a.start.x)*c+(b.y-a.start.y)*d)/(c*c+d*d),c=0>e?new Point(a.start):1<e?new Point(a.end):new Point(a.start.x+e*c,a.start.y+e*d);return new Line(c,b)};
intersect.rectAndRect=function(b,a){jsio("import .Rect");return(intersect.rectAndRect=function(a,b){if(!0===a||!0===b)return new Rect(b);if(intersect.isRectAndRect(a,b)){var e=Math.max(a.x,b.x),f=Math.max(a.y,b.y),g=Math.min(a.x+a.width,b.x+b.width),h=Math.min(a.y+a.height,b.y+b.height);return new Rect(e,f,g-e,h-f)}return null})(b,a)};
