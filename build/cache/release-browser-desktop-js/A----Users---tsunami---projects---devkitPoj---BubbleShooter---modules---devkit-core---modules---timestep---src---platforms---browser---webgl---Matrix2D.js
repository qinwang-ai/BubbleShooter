073da31d65ae4a48138a802b1bc5e35e
var Matrix2D=__class__,Matrix2D=Matrix2D(function(){return this.init&&this.init.apply(this,arguments)},function(){var g=Math.sin,h=Math.cos;this.init=function(){this.identity()};this.identity=function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0};this.clone=function(){var a=new Matrix2D;a.copy(this);return a};this.copy=function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.tx=a.tx;this.ty=a.ty};this.scale=function(a,b){this.a*=a;this.b*=a;this.c*=b;this.d*=b};this.rotate=function(a){var b=
this.a,d=this.b,e=this.c,f=this.d,c=g(a),a=h(a);this.a=b*a+e*c;this.b=d*a+f*c;this.c=b*-c+e*a;this.d=d*-c+f*a};this.translate=function(a,b){this.tx+=this.a*a+this.c*b;this.ty+=this.b*a+this.d*b};this.transform=function(a){helperMatrix.copy(this);if(1!==a.a||0!==a.b||0!==a.c||1!==a.d)this.a=helperMatrix.a*a.a+helperMatrix.c*a.b,this.b=helperMatrix.b*a.a+helperMatrix.d*a.b,this.c=helperMatrix.a*a.c+helperMatrix.c*a.d,this.d=helperMatrix.b*a.c+helperMatrix.d*a.d;this.tx=helperMatrix.a*a.tx+helperMatrix.c*
a.ty+helperMatrix.tx;this.ty=helperMatrix.b*a.tx+helperMatrix.d*a.ty+helperMatrix.ty;return this};this.setTo=function(a,b,d,e,f,c){this.a=a;this.b=b;this.c=d;this.d=e;this.tx=f;this.ty=c};this.invert=function(){var a=this.a*this.d-this.b*this.c;if(0!==a)return a=1/a,helperMatrix.copy(this),this.a=helperMatrix.d*a,this.b=-helperMatrix.b*a,this.c=-helperMatrix.c*a,this.d=helperMatrix.a*a,this.tx=(helperMatrix.c*helperMatrix.ty-helperMatrix.d*helperMatrix.tx)*a,this.ty=(helperMatrix.b*helperMatrix.tx-
helperMatrix.a*helperMatrix.ty)*a,this};this.isEqualTo=function(a){return this.a===a.a&&this.b===a.b&&this.c===a.c&&this.d===a.d&&this.tx===a.tx&&this.ty===a.ty};this.concat=function(a){helperMatrix.copy(this);if(1!==a.a||0!==a.b||0!==a.c||1!==a.d)this.a=helperMatrix.a*a.a+helperMatrix.c*a.b,this.b=helperMatrix.b*a.a+helperMatrix.d*a.b,this.c=helperMatrix.a*a.c+helperMatrix.c*a.d,this.d=helperMatrix.b*a.c+helperMatrix.d*a.d;this.tx=a.a*helperMatrix.tx+a.c*helperMatrix.ty+a.tx;this.ty=a.b*helperMatrix.tx+
a.d*helperMatrix.ty+a.ty;return this}}),helperMatrix=new Matrix2D;exports=Matrix2D;
