a971d84df91aa9ebed96a66607f48fa3
jsio("from util.browser import $");jsio("import .Drag");jsio("import lib.PubSub");var Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Events=__class__;
exports=Users_tsunami_projects_devkitPoj_BubbleShooter_modules_devkit_core_modules_squill_Events(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){var f=Array.prototype.slice,c=/(iPod|iPhone|iPad|Android)/i.test(navigator.userAgent);this.event=function(a,b,d){this._eventEnabled||(this._eventEnabled={});var c=[this,d].concat(f.call(arguments,3)),d=bind.apply(this,c),e=this._eventEnabled;e[b]=!0;$.onEvent(a,b,function(){if(e[b])return d.apply(this,arguments)})};this.isDragging=
function(){return this._isDragging||!1};this.initDragEvents=function(a){if(!this.__drag){var b=this.__drag=new Drag;b.subscribe("DragStart",this,"onDragStart");b.subscribe("Drag",this,"onDrag");b.subscribe("DragStop",this,"onDragStop")}b=bind(this.__drag,"startDrag");a||(a=this._el);a.addEventListener&&a.addEventListener("touchstart",b,!0);$.onEvent(a,"mousedown",b)};this.initMouseEvents=function(a){a=a||this._el;c?(this.event(a,"touchstart","_onTouchStart"),this.event(a,"touchend","_onTouchEnd")):
(this.event(a,"mouseover","onMouseOver"),this.event(a,"mousemove","onMouseMove"),this.event(a,"mouseout","onMouseOut"),this.event(a,"mousedown","onMouseDown"),this.event(a,"mouseup","onMouseUp"),this.event(a,"click","onClick"));(a=this._opts)&&a.__result&&a.__result.addSubscription(this,"Select");return this};this.initFocusEvents=function(a){a=a||this._el;this.event(a,"focus","onFocus");this.event(a,"blur","onBlur");return this};this.initKeyEvents=function(a){a=a||this._el;this.event(a,"keydown",
"onKeyDown");this.event(a,"keypress","onKeyPress");this.event(a,"keyup","onKeyUp");return this};this._onTouchStart=function(a){this.onMouseOver(a);this.onMouseDown(a)};this._onTouchEnd=function(a){this.onMouseUp(a);this.onClick(a);this.onMouseOut(a)};this.onMouseOver=function(a){this._enableMouseEvents||(this._isOver=!0);this.publish("Over",a)};this.onMouseMove=function(a){this._enableMouseEvents||this.publish("Move",a)};this.onMouseOut=function(a){this._isOver=!1;this.publish("Out",a)};this.onMouseDown=
function(a){this._isDown=!0;this.publish("Down",a);return!1};this.onMouseUp=function(a){this._isDown=!1;this.publish("Up",a);return!1};this.onClick=function(a){this.publish("Select",a);this.emit("click",a);return!1};this.onFocus=function(a){this._isFocused=!0;this.publish("Focus",a)};this.onBlur=function(a){this._isFocused=!1;this.publish("Blur",a)};this.onKeyUp=function(a){this.publish("KeyUp",a)};this.onKeyPress=function(a){this.publish("KeyPress",a)};this.onKeyDown=function(a){this.publish("KeyDown",
a)};this.onDragStart=function(){};this.onDrag=function(){};this.onDragStop=function(){}});
