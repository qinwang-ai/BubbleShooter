a9632c5b8d3f5353e599ef1945c5b754
jsio("from util.browser import $");var _cssPrefix;exports.getCSSPrefix=function(){if(void 0===_cssPrefix){var a=window.getComputedStyle(document.documentElement,"");_cssPrefix=""===a.OLink?"-o-":(a=Array.prototype.join.call(a,"").match(/-(moz|webkit|ms)-/))?"-"+a[1]+"-":""}return _cssPrefix};exports.Stylesheet=__class__;
exports.Stylesheet=exports.Stylesheet(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(a){this._base=a?a+" ":"";this._rules=[]};this.add=function(a,b){this._rules.push({selector:a,value:b});return this};this.scale=function(a){this._rules.forEach(function(b){b.value=b.value.replace(/([^;:]+:)(.*?)(;|$)/g,function(b,c,d,e){return/border(?!.*?radius)/.test(c)?b:c+d.replace(/\d\S*px/g,function(b){var c=parseFloat(b);return isNaN(c)?b:parseFloat(c)*a+"px"})+e})});
this._el&&this.insert();return this};this.getValue=function(){return this._rules.map(function(a){return this._base+a.selector+"{"+a.value+"}"},this).join("")};this.insert=function(){this._el||(this._el=$({parent:document.getElementsByTagName("head")[0],tag:"style"}));$.setText(this._el,this.getValue())}});
