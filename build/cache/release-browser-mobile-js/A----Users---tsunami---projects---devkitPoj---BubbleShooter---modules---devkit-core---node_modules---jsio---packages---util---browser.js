fc0bc39bdf18d9086a1ae88f33c28564
jsio("external .sizzle import Sizzle");jsio("import math.geom.Rect");function isWindow(a){return a&&!$.isElement(a)&&$.isElement(a.document)}var singleId=/^#([\w-]+)$/,$=exports.$=function(a,b){switch(typeof a){case "object":return $.isElement(a)?$.remove(a):$.isElement(a.document&&a.document.body)?$.size(a):$.create(a);case "string":return singleId.test(a)?$.id(a.substring(1),b):Sizzle.apply(GLOBAL,arguments)}},DOM2="object"===typeof HTMLElement;
$.isElement=DOM2?function(a){return a&&a instanceof HTMLElement}:function(a){return a&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName};$.id=function(a,b){return"string"==typeof a?(b||window).document.getElementById(a):a};
$.apply=function(a,b){if(b.attrs)for(attr in b.attrs)a.setAttribute(attr,b.attrs[attr]);b.id&&(a.id=b.id);b.style&&$.style(a,b.style);b.src&&(a.src=b.src);if(b["class"]||b.className)a.className=b["class"]||b.className;var c=b.parent||b.parentNode;c&&b.first?$.insertBefore(c,a,c.firstChild):b.before?$.insertBefore(b.before.parentNode||c,a,b.before):b.after?$.insertAfter(b.after.parentNode||c,a,b.after):c&&c.appendChild(a);"html"in b&&(a.innerHTML=b.html);"text"in b&&$.setText(a,b.text);if(b.children)for(var c=
b.children,d=0,e=c.length;d<e;++d)a.appendChild($.isElement(c[d])?c[d]:$(c[d]));return a};$.insertBefore=function(a,b,c){a&&b&&(c&&c.parentNode==a?a.insertBefore(b,c):a.appendChild(b))};$.insertAfter=function(a,b,c){a&&b&&(!c||c.parentNode!=a?$.insertBefore(a,b,a.firstChild):c.nextSibling?a.insertBefore(b,c.nextSibling):a.appendChild(b))};
$.create=function(a){var b=(a&&a.win||window).document;return!a||"string"==typeof a?b.createElement(a||"div"):$.apply(a.el||b.createElement(a.tag||a.tagName||"div"),a)};$.show=function(a,b){$.id(a).style.display=b||"block"};$.hide=function(a){$.id(a).style.display="none"};$.addClass=function(a,b){if(a){a=$.id(a);"string"==typeof b&&(b=b.split(" "));for(var c=" "+a.className+" ",d=0,e=b.length;d<e;++d){var f=b[d];-1==c.indexOf(" "+f+" ")&&(c+=f+" ")}a.className=c.replace(/^\s+|\s+$/g,"");return $}};
$.hasClass=function(a,b){if(!a)return!1;for(var a=$.id(a),c=a.className.split(" "),d=0,e=c.length;d<e;++d)if(c[d].trim()===b)return!0;return!1};$.getTag=function(a,b){return a.getElementsByTagName(b)};$.removeClass=function(a,b){a&&(a=$.id(a),a.className=(" "+a.className+" ").replace(" ","  ").replace(RegExp("( "+b.replace("s+"," | ").replace("-","-")+" )","g")," ").replace(/\s+/," ").replace(/^\s+|\s+$/g,""))};
function ieGetAlpha(a){try{return a.filters.item("alpha")}catch(b){}try{return a.filters.item("progid:DXImageTransform.Microsoft.Alpha")}catch(c){}return null}
$.style=function(a,b){if(a instanceof Array)for(var c=0,d;d=a[c];++c)$.style(d,b);else for(prop in a=$.id(a),c=a.style,b)switch(prop){case "styleFloat":case "cssFloat":case "float":c.styleFloat=c.cssFloat=b[prop];break;case "opacity":c.opacity=b[prop];if(a.filters)try{d=ieGetAlpha();var e=1==b[prop]?99.99:100*b[prop];d?d.Opacity=e:c.filter="alpha(opacity="+e+")"}catch(f){}break;case "borderRadius":c.borderRadius=c.MozBorderRadius=b[prop];break;case "boxSizing":c.MsBoxSizing=c.MozBoxSizing=c.WebkitBoxSizing=
b[prop];default:c[prop]=b[prop]}};$.onEvent=function(a,b,c){"function"!=typeof c&&(c=bind.apply(GLOBAL,Array.prototype.slice.call(arguments,2)));var d=c,a=$.id(a);a.addEventListener?a.addEventListener(b,d,!1):(d=function(a){c(a||window.event)},a.attachEvent("on"+b,d));return bind($,"removeEvent",a,b,d)};$.removeEvent=function(a,b,c){a=$.id(a);a.addEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)};
$.stopEvent=function(a){a&&(a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault())};$.setText=function(a,b){a=$.id(a);b=""+b;"textContent"in a?a.textContent=b:"innerText"in a?a.innerText=b.replace(/\n/g," "):(a.innerHTML="",a.appendChild(document.createTextNode(b)))};$.setValue=function(a,b){a=$.id(a);"value"in a?a.value=b:"value"in a.firstChild&&(a.firstChild.value=b)};$.remove=function(a){(a=$.id(a))&&a.parentNode&&a.parentNode.removeChild(a)};
$.cursorPos=function(a,b){var c=$.pos(b);c.top=a.clientY-c.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop);c.left=a.clientX-c.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft);return c};$.pos=function(a){for(var b={top:0,left:0};a&&a!=document.body;){b.left+=a.offsetLeft;for(b.top+=a.offsetTop;a.offsetParent!=a.parentNode;)b.top-=a.scrollTop,b.left-=a.scrollLeft,a=a.parentNode;a=a.offsetParent}return b};
$.size=function(a){if($.isElement(a))return{width:a.offsetWidth,height:a.offsetHeight};if(a.document){var b=a.document.documentElement||a.document.body;return new math.geom.Rect(b.offsetTop,b.offsetLeft,a.innerWidth||b.clientWidth||b.clientWidth,a.innerHeight||b.clientHeight||b.clientHeight)}};$.insertCSSFile=function(a){document.getElementsByTagName("head")[0].appendChild($({tag:"link",attrs:{rel:"stylesheet",type:"text/css",href:a}}))};
